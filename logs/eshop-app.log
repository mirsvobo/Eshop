2025-04-26T00:02:51.379+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T00:02:51.438+02:00  INFO 16724 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T00:02:51.483+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:02:51.499+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:02:51.509+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:02:51.512+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:02:51.513+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:02:51.514+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:02:51.515+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:02:51.516+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:02:51.517+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:02:51.518+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:02:51.519+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:02:51.519+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:02:51.521+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:02:51.522+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:02:51.523+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:02:51.887+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:02:51.982+02:00  INFO 16724 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:07:18.005+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 35276 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:07:18.014+02:00 DEBUG 35276 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:07:18.020+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:07:19.588+02:00  INFO 35276 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:07:19.589+02:00  INFO 35276 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:07:27.186+02:00  INFO 35276 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:07:27.521+02:00  INFO 35276 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 300 ms. Found 14 JPA repository interfaces.
2025-04-26T00:07:31.441+02:00  INFO 35276 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:07:31.480+02:00  INFO 35276 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:07:31.480+02:00  INFO 35276 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:07:31.652+02:00  INFO 35276 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:07:31.654+02:00  INFO 35276 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 12059 ms
2025-04-26T00:07:32.870+02:00  INFO 35276 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:07:33.020+02:00  INFO 35276 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:07:33.034+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:07:33.108+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:07:33.114+02:00  INFO 35276 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:07:33.754+02:00  INFO 35276 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:07:33.824+02:00  INFO 35276 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:07:34.014+02:00  INFO 35276 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@9ec1e68
2025-04-26T00:07:34.021+02:00  INFO 35276 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:07:34.146+02:00  INFO 35276 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:07:35.314+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.444+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:07:35.454+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.462+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:07:35.462+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.462+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:07:35.462+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.469+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:07:35.470+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.470+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:07:35.470+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.478+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:07:35.480+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.482+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:07:35.482+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.486+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:07:35.486+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.486+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:07:35.500+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:07:35.502+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.510+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:07:35.510+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.525+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:07:35.526+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.531+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:07:35.532+02:00  WARN 35276 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:07:35.535+02:00  INFO 35276 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:07:37.211+02:00  INFO 35276 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:07:37.449+02:00  INFO 35276 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:07:38.316+02:00  INFO 35276 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:07:40.112+02:00  INFO 35276 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:07:40.375+02:00  INFO 35276 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:07:40.375+02:00  INFO 35276 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:07:40.392+02:00  INFO 35276 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:07:40.572+02:00  INFO 35276 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T00:07:40.572+02:00  INFO 35276 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T00:07:41.192+02:00  WARN 35276 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:07:42.134+02:00  INFO 35276 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:07:42.331+02:00  INFO 35276 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:07:43.324+02:00  INFO 35276 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:07:44.636+02:00  INFO 35276 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T00:07:44.741+02:00  INFO 35276 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T00:07:44.768+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 28.693 seconds (process running for 30.708)
2025-04-26T00:07:44.793+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T00:07:44.934+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T00:07:45.066+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T00:07:45.080+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T00:07:45.080+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T00:07:45.232+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T00:07:45.244+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T00:07:45.250+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T00:07:45.260+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T00:07:45.275+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T00:07:45.283+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T00:07:45.285+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T00:07:45.291+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T00:07:45.291+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T00:07:45.291+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T00:07:45.314+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T00:07:45.331+02:00  WARN 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T00:07:45.336+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T00:07:45.337+02:00  INFO 35276 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T00:07:45.963+02:00  INFO 35276 --- [Eshop] [RMI TCP Connection(3)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T00:07:45.963+02:00  INFO 35276 --- [Eshop] [RMI TCP Connection(3)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T00:07:45.971+02:00  INFO 35276 --- [Eshop] [RMI TCP Connection(3)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-26T00:08:07.822+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:08:07.824+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:08:07.824+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:08:07.844+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:08:07.844+02:00 DEBUG 35276 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:08:07.977+02:00 DEBUG 35276 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:08:07.995+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:08:11.928+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1/generate-proforma
2025-04-26T00:08:11.928+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:08:11.928+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:08:11.930+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura PROFORMA for order ID: 1
2025-04-26T00:08:11.930+02:00 DEBUG 35276 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:08:12.002+02:00  INFO 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : ASYNC: Attempting to generate SuperFaktura PROFORMA invoice for order: 206. Order currency: CZK
2025-04-26T00:08:12.002+02:00 DEBUG 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Using 'item' rounding for invoice 206
2025-04-26T00:08:12.002+02:00 DEBUG 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Using relevant VAT rate 0.2100 for deposit/tax doc item (Order 206)
2025-04-26T00:08:12.002+02:00 DEBUG 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Built deposit item for SF API: unit_price=19008.26, tax=21.00
2025-04-26T00:08:12.002+02:00 DEBUG 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Proforma payload built for order 206. vat_transfer flag is not set.
2025-04-26T00:08:12.037+02:00  INFO 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Proforma Invoice - Order 206):
{
  "Invoice" : {
    "order_no" : "206",
    "date" : "2025-04-26",
    "note" : "Záloha za objednané zboží dle obj. č. 206",
    "payment_type" : "transfer",
    "InvoiceItem" : [ {
      "unit" : "ks",
      "quantity" : 1,
      "name" : "Záloha na dřevník dle obj. č. 206",
      "description" : "Záloha na objednávku 206 (23000.00 CZK z celkové částky 47220.00 CZK)",
      "currency" : "CZK",
      "tax" : 21.00,
      "unit_price" : 19008.26
    } ],
    "variable" : "206",
    "due_date" : "2025-05-03",
    "rounding" : "item",
    "currency" : "CZK",
    "language" : "cze",
    "specific" : "1",
    "type" : "proforma"
  },
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T00:08:12.037+02:00  INFO 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Sending Proforma Invoice request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T00:08:12.044+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:08:12.044+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:08:12.044+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:08:12.044+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:08:12.044+02:00 DEBUG 35276 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:08:12.080+02:00 DEBUG 35276 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:08:12.084+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:08:12.550+02:00 DEBUG 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Proforma Invoice (Order 206): START
{"error":5,"error_message":{"type":["Pros\u00edm, vlo\u017ete alespo\u0148 jednu polo\u017eku faktury"]},"error_data":{"Invoice":{"user_id":"39487","user_profile_id":"36761","parent_id":null,"proforma_id":null,"estimate_id":null,"sequence_id":"305625","import_type":null,"import_id":null,"import_parent_id":null,"type":"proforma","template":null,"tax_document":null,"name":"Z\u00e1lohov\u00e1 faktura 000006\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":null,\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":null,"invoice_no":6,"order_no":"206","invoice_no_formatted":"000006\/2025","invoice_no_formatted_raw":null,"invoice_no_formatted_length":"0","mask":"YYYYNNN","variable":"206","variable_raw":null,"constant":"","specific":"1","payment_type":"transfer","status":"1","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":1,"amount":null,"vat":null,"discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":null,"amount_paid":null,"deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"recurring":null,"paydate":null,"delivery":null,"taxdate":null,"accounting_date":null,"delivery_type":"haulage","due":"2025-05-03","demo":"0","token":null,"tags":null,"vat_transfer":null,"special_vat_scheme":null,"issued_by_web":null,"summary_invoice":"0","total_amount":null,"date":"2025-04-26","note":"Z\u00e1loha za objednan\u00e9 zbo\u017e\u00ed dle obj. \u010d. 206","InvoiceItem":[{"unit":"ks","quantity":1,"name":"Z\u00e1loha na d\u0159evn\u00edk dle obj. \u010d. 206","description":"Z\u00e1loha na objedn\u00e1vku 206 (23000.00 CZK z celkov\u00e9 \u010d\u00e1stky 47220.00 CZK)","currency":"CZK","tax":21,"unit_price":19008.26}],"due_date":"2025-05-03","rounding":"item","currency":"CZK","language":"cze","id":0,"client_id":3506921,"suffix":"3","created":"2025-04-26"},"InvoiceSetting":{"settings":"{\"summary_bg_color\":\"#d4eef6\"}"}}}
END_RESPONSE
2025-04-26T00:08:12.572+02:00 ERROR 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : SF API call OK (2xx) but returned error for Proforma Invoice (Order 206): type: Prosím, vložte alespoň jednu položku faktury;
2025-04-26T00:08:12.572+02:00 ERROR 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Unexpected error during Proforma Invoice API call for order 206: SF API reported error for Proforma Invoice (Order: 206): type: Prosím, vložte alespoň jednu položku faktury;

java.lang.RuntimeException: SF API reported error for Proforma Invoice (Order: 206): type: Prosím, vložte alespoň jednu položku faktury;
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:376) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:111) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T00:08:12.581+02:00 ERROR 35276 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : ASYNC: Failed to generate Proforma Invoice for order 206: Unexpected error during SF API call for Proforma Invoice

java.lang.RuntimeException: Unexpected error during SF API call for Proforma Invoice
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:417) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:111) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.RuntimeException: SF API reported error for Proforma Invoice (Order: 206): type: Prosím, vložte alespoň jednu položku faktury;
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:376) ~[classes/:na]
	... 14 common frames omitted

2025-04-26T00:08:14.326+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:08:14.328+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:08:14.328+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:08:14.331+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:08:14.331+02:00 DEBUG 35276 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:08:14.374+02:00 DEBUG 35276 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:08:14.384+02:00  INFO 35276 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:12:25.563+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T00:12:25.580+02:00  INFO 35276 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T00:12:25.599+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:12:25.609+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:12:25.622+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:12:25.623+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:12:25.624+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:12:25.624+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:12:25.625+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:12:25.625+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:12:25.626+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:12:25.626+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:12:25.626+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:12:25.627+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:12:25.627+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:12:25.628+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:12:25.628+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:12:25.650+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:12:25.662+02:00  INFO 35276 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:13:04.449+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 27572 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:13:04.459+02:00 DEBUG 27572 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:13:04.466+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:13:05.472+02:00  INFO 27572 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:13:05.473+02:00  INFO 27572 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:13:16.540+02:00  INFO 27572 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:13:17.013+02:00  INFO 27572 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 431 ms. Found 14 JPA repository interfaces.
2025-04-26T00:13:21.110+02:00  INFO 27572 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:13:21.150+02:00  INFO 27572 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:13:21.150+02:00  INFO 27572 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:13:21.364+02:00  INFO 27572 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:13:21.366+02:00  INFO 27572 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 15891 ms
2025-04-26T00:13:23.099+02:00  INFO 27572 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:13:23.325+02:00  INFO 27572 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:13:23.359+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:13:23.453+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:13:23.461+02:00  INFO 27572 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:13:24.463+02:00  INFO 27572 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:13:24.617+02:00  INFO 27572 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:13:24.964+02:00  INFO 27572 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@1f4da122
2025-04-26T00:13:24.974+02:00  INFO 27572 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:13:25.175+02:00  INFO 27572 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:13:27.551+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:27.853+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:13:27.891+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:27.901+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:13:27.907+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:13:27.909+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:27.924+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:13:27.924+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:27.939+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:13:27.941+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:27.951+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:13:27.953+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:27.982+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:13:27.989+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:27.991+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:13:27.999+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:28.001+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:13:28.008+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:28.015+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:13:28.016+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:28.023+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:13:28.023+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:28.031+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:13:28.031+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:28.040+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:13:28.041+02:00  WARN 27572 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:13:28.047+02:00  INFO 27572 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:13:31.608+02:00  INFO 27572 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:13:32.008+02:00  INFO 27572 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:13:33.760+02:00  INFO 27572 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:13:38.006+02:00  INFO 27572 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:13:38.749+02:00  INFO 27572 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:13:38.751+02:00  INFO 27572 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:13:38.800+02:00  INFO 27572 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:13:39.272+02:00  INFO 27572 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T00:13:39.274+02:00  INFO 27572 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T00:13:41.149+02:00  WARN 27572 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:13:42.896+02:00  INFO 27572 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:13:43.279+02:00  INFO 27572 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:13:45.302+02:00  INFO 27572 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:13:48.282+02:00  INFO 27572 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T00:13:48.533+02:00  INFO 27572 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T00:13:48.579+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 46.793 seconds (process running for 49.685)
2025-04-26T00:13:48.623+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T00:13:48.819+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T00:13:48.844+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T00:13:48.844+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T00:13:48.857+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2025-04-26T00:13:49.099+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T00:13:49.115+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T00:13:49.115+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:13:49.117+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:13:49.119+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T00:13:49.119+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T00:13:49.166+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:13:49.176+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:13:49.291+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Found 1 orders matching criteria using specifications.
2025-04-26T00:13:49.301+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:13:49.344+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T00:13:49.427+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=1, TotalElements=1
2025-04-26T00:13:49.432+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T00:13:49.463+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T00:13:49.492+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T00:13:49.509+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T00:13:49.531+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T00:13:49.549+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T00:13:49.565+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T00:13:49.565+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T00:13:49.567+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T00:13:49.619+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T00:13:49.654+02:00  WARN 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T00:13:49.664+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T00:13:49.665+02:00  INFO 27572 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T00:14:03.713+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:14:03.715+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:14:03.716+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:14:03.723+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:14:03.725+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:14:03.834+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:14:03.846+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:14:06.748+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1/generate-proforma
2025-04-26T00:14:06.749+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:14:06.749+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:14:06.752+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura PROFORMA for order ID: 1
2025-04-26T00:14:06.754+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:14:06.869+02:00  INFO 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : ASYNC: Attempting to generate SuperFaktura PROFORMA invoice for order: 206. Order currency: CZK
2025-04-26T00:14:06.870+02:00 DEBUG 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Using 'item' rounding for invoice 206
2025-04-26T00:14:06.874+02:00 DEBUG 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Using relevant VAT rate 0.2100 for deposit/tax doc item (Order 206)
2025-04-26T00:14:06.874+02:00 DEBUG 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Built deposit item for SF API: unit_price=19008.26, tax=21.00
2025-04-26T00:14:06.874+02:00 DEBUG 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Proforma payload built for order 206. vat_transfer flag is not set.
2025-04-26T00:14:06.939+02:00  INFO 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Proforma Invoice - Order 206):
{
  "Invoice" : {
    "order_no" : "206",
    "date" : "2025-04-26",
    "note" : "Záloha za objednané zboží dle obj. č. 206",
    "payment_type" : "transfer",
    "InvoiceItem" : [ {
      "unit" : "ks",
      "quantity" : 1,
      "name" : "Záloha na dřevník dle obj. č. 206",
      "description" : "Záloha na objednávku 206 (23000.00 CZK z celkové částky 47220.00 CZK)",
      "currency" : "CZK",
      "tax" : 21.00,
      "unit_price" : 19008.26
    } ],
    "variable" : "206",
    "due_date" : "2025-05-03",
    "rounding" : "item",
    "currency" : "CZK",
    "language" : "cze",
    "specific" : "1",
    "type" : "proforma"
  },
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T00:14:06.941+02:00  INFO 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Sending Proforma Invoice request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T00:14:06.961+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:14:06.963+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:14:06.963+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:14:06.966+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:14:06.968+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:14:07.043+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:14:07.067+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:14:07.639+02:00 DEBUG 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Proforma Invoice (Order 206): START
{"error":5,"error_message":{"type":["Pros\u00edm, vlo\u017ete alespo\u0148 jednu polo\u017eku faktury"]},"error_data":{"Invoice":{"user_id":"39487","user_profile_id":"36761","parent_id":null,"proforma_id":null,"estimate_id":null,"sequence_id":"305625","import_type":null,"import_id":null,"import_parent_id":null,"type":"proforma","template":null,"tax_document":null,"name":"Z\u00e1lohov\u00e1 faktura 000006\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":null,\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":null,"invoice_no":6,"order_no":"206","invoice_no_formatted":"000006\/2025","invoice_no_formatted_raw":null,"invoice_no_formatted_length":"0","mask":"YYYYNNN","variable":"206","variable_raw":null,"constant":"","specific":"1","payment_type":"transfer","status":"1","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":1,"amount":null,"vat":null,"discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":null,"amount_paid":null,"deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"recurring":null,"paydate":null,"delivery":null,"taxdate":null,"accounting_date":null,"delivery_type":"haulage","due":"2025-05-03","demo":"0","token":null,"tags":null,"vat_transfer":null,"special_vat_scheme":null,"issued_by_web":null,"summary_invoice":"0","total_amount":null,"date":"2025-04-26","note":"Z\u00e1loha za objednan\u00e9 zbo\u017e\u00ed dle obj. \u010d. 206","InvoiceItem":[{"unit":"ks","quantity":1,"name":"Z\u00e1loha na d\u0159evn\u00edk dle obj. \u010d. 206","description":"Z\u00e1loha na objedn\u00e1vku 206 (23000.00 CZK z celkov\u00e9 \u010d\u00e1stky 47220.00 CZK)","currency":"CZK","tax":21,"unit_price":19008.26}],"due_date":"2025-05-03","rounding":"item","currency":"CZK","language":"cze","id":0,"client_id":3506921,"suffix":"3","created":"2025-04-26"},"InvoiceSetting":{"settings":"{\"summary_bg_color\":\"#d4eef6\"}"}}}
END_RESPONSE
2025-04-26T00:14:07.666+02:00 ERROR 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : SF API call OK (2xx) but returned error for Proforma Invoice (Order 206): type: Prosím, vložte alespoň jednu položku faktury;
2025-04-26T00:14:07.666+02:00 ERROR 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : Unexpected error during Proforma Invoice API call for order 206: SF API reported error for Proforma Invoice (Order: 206): type: Prosím, vložte alespoň jednu položku faktury;

java.lang.RuntimeException: SF API reported error for Proforma Invoice (Order: 206): type: Prosím, vložte alespoň jednu položku faktury;
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:376) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:111) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T00:14:07.682+02:00 ERROR 27572 --- [Eshop] [task-1] o.e.e.s.SuperFakturaInvoiceService       : ASYNC: Failed to generate Proforma Invoice for order 206: Unexpected error during SF API call for Proforma Invoice

java.lang.RuntimeException: Unexpected error during SF API call for Proforma Invoice
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:417) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:111) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.RuntimeException: SF API reported error for Proforma Invoice (Order: 206): type: Prosím, vložte alespoň jednu položku faktury;
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:376) ~[classes/:na]
	... 14 common frames omitted

2025-04-26T00:14:09.079+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:14:09.079+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:14:09.080+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:14:09.083+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:14:09.084+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:14:09.145+02:00 DEBUG 27572 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:14:09.162+02:00  INFO 27572 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:14:33.601+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T00:14:33.617+02:00  INFO 27572 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T00:14:33.639+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:14:33.649+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:14:33.656+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:14:33.657+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:14:33.658+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:14:33.658+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:14:33.659+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:14:33.659+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:14:33.660+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:14:33.660+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:14:33.661+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:14:33.661+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:14:33.662+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:14:33.663+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:14:33.663+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:14:33.692+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:14:33.699+02:00  INFO 27572 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:14:54.052+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 34980 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:14:54.056+02:00 DEBUG 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:14:54.058+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:14:54.721+02:00  INFO 34980 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:14:54.722+02:00  INFO 34980 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:14:57.386+02:00  INFO 34980 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:14:57.617+02:00  INFO 34980 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 208 ms. Found 14 JPA repository interfaces.
2025-04-26T00:14:59.307+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:14:59.332+02:00  INFO 34980 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:14:59.333+02:00  INFO 34980 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:14:59.441+02:00  INFO 34980 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:14:59.442+02:00  INFO 34980 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4719 ms
2025-04-26T00:15:00.298+02:00  INFO 34980 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:15:00.409+02:00  INFO 34980 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:15:00.421+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:15:00.474+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:15:00.480+02:00  INFO 34980 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:15:01.062+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:15:01.110+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:15:01.246+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@6585fe49
2025-04-26T00:15:01.249+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:15:01.337+02:00  INFO 34980 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:15:02.298+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.425+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:15:02.443+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:15:02.443+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.446+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:15:02.449+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.452+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:15:02.453+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.456+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:15:02.457+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.461+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:15:02.462+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.465+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:15:02.465+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.468+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:15:02.472+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.474+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:15:02.476+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.480+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:15:02.480+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.485+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:15:02.486+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.504+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:15:02.505+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.507+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:15:02.508+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:15:02.512+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:15:04.267+02:00  INFO 34980 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:15:04.586+02:00  INFO 34980 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:15:06.635+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:15:12.869+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:15:13.525+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:15:13.529+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:15:13.585+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:15:13.964+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T00:15:13.968+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T00:15:15.218+02:00  WARN 34980 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:15:16.627+02:00  INFO 34980 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:15:16.927+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:15:18.659+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:15:21.301+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T00:15:21.553+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T00:15:21.598+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 28.894 seconds (process running for 30.986)
2025-04-26T00:15:21.635+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T00:15:21.829+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T00:15:22.113+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T00:15:22.130+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T00:15:22.130+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T00:15:22.283+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T00:15:22.297+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T00:15:22.306+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T00:15:22.313+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T00:15:22.333+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T00:15:22.349+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T00:15:22.361+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T00:15:22.371+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T00:15:22.373+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T00:15:22.373+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T00:15:22.413+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T00:15:22.460+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T00:15:22.473+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T00:15:22.473+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T00:15:22.900+02:00  INFO 34980 --- [Eshop] [RMI TCP Connection(1)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T00:15:22.900+02:00  INFO 34980 --- [Eshop] [RMI TCP Connection(1)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T00:15:22.904+02:00  INFO 34980 --- [Eshop] [RMI TCP Connection(1)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-04-26T00:15:27.008+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:15:27.008+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:15:27.008+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:15:27.038+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:15:27.038+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:15:27.203+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:15:27.223+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:15:31.215+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1/generate-proforma
2025-04-26T00:15:31.215+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:15:31.215+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:15:31.215+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura PROFORMA for order ID: 1
2025-04-26T00:15:31.218+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:15:31.298+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.s.SuperFakturaInvoiceService       : Attempting to generate SuperFaktura PROFORMA invoice for order: 206. Order currency: CZK
2025-04-26T00:15:31.338+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Proforma Invoice - Order 206):
{
  "Invoice" : {
    "order_no" : "206",
    "date" : "2025-04-26",
    "note" : "Záloha za objednané zboží dle obj. č. 206",
    "payment_type" : "transfer",
    "variable" : "206",
    "due_date" : "2025-05-03",
    "rounding" : "item",
    "currency" : "CZK",
    "language" : "cze",
    "specific" : "1",
    "type" : "proforma"
  },
  "InvoiceItem" : [ {
    "unit" : "ks",
    "quantity" : 1,
    "name" : "Záloha na dřevník dle obj. č. 206",
    "description" : "Záloha 50% z 47220.00 CZK",
    "tax" : 0.00,
    "currency" : "CZK",
    "unit_price" : 23000.00
  } ],
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "currency" : "CZK",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T00:15:31.346+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.s.SuperFakturaInvoiceService       : Sending Proforma Invoice request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T00:15:31.869+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Proforma Invoice (Order 206): START
{"error":0,"error_message":"Invoice created","data":{"Invoice":{"id":"7711186","user_id":"39487","user_profile_id":"36761","client_id":"3506921","parent_id":null,"proforma_id":null,"estimate_id":null,"sequence_id":"305625","import_type":null,"import_id":null,"import_parent_id":null,"type":"proforma","template":null,"tax_document":null,"name":"Z\u00e1lohov\u00e1 faktura 000006\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":\"CZK\",\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":"Z\u00e1loha na d\u0159evn\u00edk dle obj. \u010d. 206 Z\u00e1loha 50% z 47220.00 CZK, ","invoice_no":"6","order_no":"206","invoice_no_formatted":"000006\/2025","invoice_no_formatted_raw":"62025","invoice_no_formatted_length":"11","mask":"YYYYNNN","variable":"206","variable_raw":"206","constant":"","specific":"1","payment_type":"transfer","status":"1","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":"1.00000000000000","amount":"23000.00","vat":"0.00","discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":"0.00","amount_paid":"0.00","deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"created":"2025-04-26 00:00:00","modified":"2025-04-26 00:15:32","recurring":null,"paydate":null,"delivery":null,"taxdate":null,"accounting_date":"2025-04-26","delivery_type":"haulage","due":"2025-05-03","demo":"0","token":"58d104d7","tags":null,"rounding":"item","vat_transfer":null,"special_vat_scheme":null,"issued_by_web":null,"summary_invoice":null,"total_amount":"23000.00","show_items_with_dph":true,"show_special_vat":false,"flag":"issued"},"Client":{"id":"3506921","user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"created":"2025-04-13 20:09:26","modified":"2025-04-13 20:09:26","notices":true},"0":{"to_pay":"23000.000000","to_pay_in_invoice_currency":"23000.00","total":"23000.00"},"InvoiceEmail":[],"PostStamp":[],"InvoiceSetting":{"signature":true,"bysquare":true,"payment_info":true,"language":"cze","online_payment":false,"summary_bg_color":"#d4eef6","force_iban":true},"InvoicePayment":[],"Tag":[],"ClientData":{"user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"notices":"1","id":3506921,"Country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true}},"MyData":{"id":"36761","user_id":"39451","country_id":"57","company_name":"Truhl\u00e1\u0159stv\u00ed Kol\u00e1\u0159","ico":"73589292","dic":"","ic_dph":"CZ8204183086","business_register":"","address":"Dru\u017estevn\u00ed 304","city":"\u0158e\u010dany nad Labem","zip":"53313","tax_payer":"1","BankAccount":[{"id":"29020","user_id":"39451","user_profile_id":"36761","currency":"CZK","default":true,"show":true,"country_id":"57","bank_name":"Fio banka a.s.","bank_code":"2010","account":"2601817728","iban":"CZ0420100000002601817728","swift":"FIOBCZPPXXX","created":"2021-09-30 09:01:03","modified":"2022-03-15 08:14:09","show_account":true}],"Logo":"[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"mobile_path\":\"imagecache\\\/media\\\/transfer\\\/img\\\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}]","Signature":"{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}","country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true},"SignatureRaw":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"LogoRaw":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}]},"Logo":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}],"Signature":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"InvoiceItem":[{"id":"24771923","invoice_id":"7711186","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Z\u00e1loha na d\u0159evn\u00edk dle obj. \u010d. 206","description":"Z\u00e1loha 50% z 47220.00 CZK","sku":null,"quantity":"1.00000","unit":"ks","unit_price":23000,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"0","hide_in_autocomplete":null,"unit_price_discount":23000,"item_price":23000,"item_price_no_discount":23000,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":23000,"unit_price_vat_no_discount":23000,"item_price_vat":23000,"item_price_vat_no_discount":23000,"item_price_vat_check":23000}],"Summary":{"vat_base_separate":[23000],"vat_base_total":23000,"vat_separate":[0],"vat_total":0,"invoice_total":23000,"discount":0},"SummaryInvoice":{"vat_base_separate_positive":[23000],"vat_base_separate_negative":[0],"vat_separate_positive":[0],"vat_separate_negative":[0]},"UnitCount":{"ks":1},"Paypal":false,"RelatedItems":[],"Qr":{"qr":"SPD*1.0*ACC:CZ0420100000002601817728+FIOBCZPPXXX*AM:23000*CC:CZK*MSG:000006%252F2025%2B-%2BMIROSLAV%2BSVOBODA*X-VS:206*X-SS:1","qr_type":"QrPlatba","qr_url":"https:\/\/moje.superfaktura.cz\/tools\/qrCoder?key=71a9fd052b6e8a11839e73e1a6e44f90&text=SPD%2A1.0%2AACC%3ACZ0420100000002601817728%2BFIOBCZPPXXX%2AAM%3A23000%2ACC%3ACZK%2AMSG%3A000006%25252F2025%252B-%252BMIROSLAV%252BSVOBODA%2AX-VS%3A206%2AX-SS%3A1&size=150"},"PaymentLink":""}}
END_RESPONSE
2025-04-26T00:15:31.882+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.s.SuperFakturaInvoiceService       : Proforma Invoice API call successful for order 206.
2025-04-26T00:15:31.888+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.s.SuperFakturaInvoiceService       : Constructed PDF download URL with token: https://moje.superfaktura.cz/invoices/pdf/7711186/token:58d104d7
2025-04-26T00:15:31.888+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.s.SuperFakturaInvoiceService       : Parsed Proforma Invoice response for order 206: ID=7711186, Number=000006/2025, PDF URL=https://moje.superfaktura.cz/invoices/pdf/7711186/token:58d104d7
2025-04-26T00:15:31.900+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-2] o.e.e.s.SuperFakturaInvoiceService       : Order 206 updated with Proforma Invoice details.
2025-04-26T00:15:31.991+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:15:31.998+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:15:31.998+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:15:32.001+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:15:32.001+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:15:32.052+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:15:32.059+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:15:34.389+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1/generate-tax-doc
2025-04-26T00:15:34.389+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:15:34.389+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:15:34.389+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura TAX DOC for order ID: 1
2025-04-26T00:15:34.394+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:15:34.436+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Attempting to generate SuperFaktura TAX DOCUMENT for paid deposit for order: 206. Order currency: CZK
2025-04-26T00:15:34.438+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Tax Document (Deposit) - Order 206):
{
  "Invoice" : {
    "order_no" : "206",
    "date" : "2025-04-25",
    "note" : "Daňový doklad k záloze zaplacené dne 25.4.2025 k obj. č. 206.\nVztahuje se k zálohové faktuře č. 000006/2025.",
    "due_date" : "2025-04-25",
    "rounding" : "item",
    "language" : "cze",
    "specific" : "1",
    "type" : "regular",
    "payment_type" : "transfer",
    "delivery_date" : "2025-04-25",
    "variable" : "206",
    "sequence_id" : 342836,
    "currency" : "CZK",
    "already_paid" : 23000.00,
    "paid_date" : "2025-04-25"
  },
  "InvoiceItem" : [ {
    "unit" : "ks",
    "quantity" : 1,
    "name" : "Přijatá záloha k obj. č. 206",
    "tax" : 0.00,
    "currency" : "CZK",
    "unit_price" : 23000.00
  } ],
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "currency" : "CZK",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T00:15:34.438+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Sending Tax Document (Deposit) request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T00:15:34.634+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Tax Document (Deposit) (Order 206): START
{"error":0,"error_message":"Invoice created","data":{"Invoice":{"id":"7711187","user_id":"39487","user_profile_id":"36761","client_id":"3506921","parent_id":null,"proforma_id":null,"estimate_id":null,"sequence_id":"342836","import_type":null,"import_id":null,"import_parent_id":null,"type":"regular","template":null,"tax_document":null,"name":"Z\u00e1lohov\u00e1 faktura 0005\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":\"CZK\",\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":"P\u0159ijat\u00e1 z\u00e1loha k obj. \u010d. 206 , ","invoice_no":"5","order_no":"206","invoice_no_formatted":"0005\/2025","invoice_no_formatted_raw":"52025","invoice_no_formatted_length":"9","mask":"YYYYNNN","variable":"206","variable_raw":"206","constant":"","specific":"1","payment_type":"transfer","status":"3","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":"1.00000000000000","amount":"23000.00","vat":"0.00","discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":"23000.00","amount_paid":"23000.00","deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"created":"2025-04-26 00:00:00","modified":"2025-04-26 00:15:35","recurring":null,"paydate":"2025-04-26 00:00:00","delivery":"2025-04-26 00:00:00","taxdate":null,"accounting_date":"2025-04-26","delivery_type":"haulage","due":"2025-05-03","demo":"0","token":"eee3802a","tags":"","rounding":"item","vat_transfer":null,"special_vat_scheme":null,"issued_by_web":null,"summary_invoice":null,"total_amount":"23000.00","show_items_with_dph":true,"show_special_vat":false,"flag":"fully-paid"},"Client":{"id":"3506921","user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"created":"2025-04-13 20:09:26","modified":"2025-04-13 20:09:26","notices":true},"0":{"to_pay":"0.000000","to_pay_in_invoice_currency":"0.00","total":"23000.00"},"InvoiceEmail":[],"PostStamp":[],"InvoiceSetting":{"signature":true,"bysquare":true,"payment_info":true,"language":"cze","online_payment":false,"summary_bg_color":"#d4eef6","force_iban":true},"InvoicePayment":[{"id":"4967628","invoice_id":"7711187","import_payment_id":null,"user_id":"39487","user_profile_id":"36761","payment_type":"transfer","amount":"23000.00","home_currency":"CZK","payment_currency":"CZK","country_exchange_rate":"1.00000000000000","exchange_rate":"1.00000000000000","vat":"0.00","document_no":null,"created":"2025-04-26 00:00:00"}],"Tag":[],"ClientData":{"user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"notices":"1","id":3506921,"Country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true}},"MyData":{"id":"36761","user_id":"39451","country_id":"57","company_name":"Truhl\u00e1\u0159stv\u00ed Kol\u00e1\u0159","ico":"73589292","dic":"","ic_dph":"CZ8204183086","business_register":"","address":"Dru\u017estevn\u00ed 304","city":"\u0158e\u010dany nad Labem","zip":"53313","tax_payer":"1","BankAccount":[{"id":"29020","user_id":"39451","user_profile_id":"36761","currency":"CZK","default":true,"show":true,"country_id":"57","bank_name":"Fio banka a.s.","bank_code":"2010","account":"2601817728","iban":"CZ0420100000002601817728","swift":"FIOBCZPPXXX","created":"2021-09-30 09:01:03","modified":"2022-03-15 08:14:09","show_account":true}],"Logo":"[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"mobile_path\":\"imagecache\\\/media\\\/transfer\\\/img\\\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}]","Signature":"{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}","country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true},"SignatureRaw":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"LogoRaw":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}]},"Logo":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}],"Signature":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"InvoiceItem":[{"id":"24771924","invoice_id":"7711187","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"P\u0159ijat\u00e1 z\u00e1loha k obj. \u010d. 206","description":"","sku":null,"quantity":"1.00000","unit":"ks","unit_price":23000,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"0","hide_in_autocomplete":null,"unit_price_discount":23000,"item_price":23000,"item_price_no_discount":23000,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":23000,"unit_price_vat_no_discount":23000,"item_price_vat":23000,"item_price_vat_no_discount":23000,"item_price_vat_check":23000}],"Summary":{"vat_base_separate":[23000],"vat_base_total":23000,"vat_separate":[0],"vat_total":0,"invoice_total":23000,"discount":0},"SummaryInvoice":{"vat_base_separate_positive":[23000],"vat_base_separate_negative":[0],"vat_separate_positive":[0],"vat_separate_negative":[0]},"UnitCount":{"ks":1},"Paypal":false,"RelatedItems":[],"Qr":{"qr":"","qr_type":"","qr_url":""},"PaymentLink":""}}
END_RESPONSE
2025-04-26T00:15:34.639+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Tax Document (Deposit) API call successful for order 206.
2025-04-26T00:15:34.640+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Constructed PDF download URL with token: https://moje.superfaktura.cz/invoices/pdf/7711187/token:eee3802a
2025-04-26T00:15:34.640+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Parsed Tax Document response for order 206: ID=7711187, Number=0005/2025, PDF URL=https://moje.superfaktura.cz/invoices/pdf/7711187/token:eee3802a
2025-04-26T00:15:34.640+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Order 206 updated with Tax Document details.
2025-04-26T00:15:34.661+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:15:34.661+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:15:34.661+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:15:34.661+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:15:34.661+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:15:34.687+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:15:34.692+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:15:35.418+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1/generate-final
2025-04-26T00:15:35.418+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:15:35.418+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:15:35.418+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura FINAL invoice for order ID: 1
2025-04-26T00:15:35.418+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:15:35.467+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Attempting to generate SuperFaktura FINAL invoice for order: 206. Order currency: CZK
2025-04-26T00:15:35.467+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Linking final invoice for order 206 to Proforma ID: 7711186
2025-04-26T00:15:35.468+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Calculating rounding difference for order 206: Original=47220.09, Rounded=47220.00, Difference=0.09
2025-04-26T00:15:35.468+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Added rounding item to SF payload for order 206: Amount=-0.09
2025-04-26T00:15:35.468+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Not setting 'already_paid' for final invoice 206. Relying on SF deduction via linked proforma_id or payment status.
2025-04-26T00:15:35.468+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Final Invoice - Order 206):
{
  "Invoice" : {
    "order_no" : "206",
    "date" : "2025-04-26",
    "note" : "Odpočet zálohy dle zálohové faktury č. 000006/2025.",
    "due_date" : "2025-05-10",
    "rounding" : "item",
    "language" : "cze",
    "specific" : "1",
    "type" : "regular",
    "payment_type" : "transfer",
    "delivery_date" : "2025-04-26",
    "variable" : "206",
    "currency" : "CZK",
    "proforma_id" : 7711186
  },
  "InvoiceItem" : [ {
    "transfer_tax_liability" : 1,
    "unit" : "ks",
    "quantity" : 1,
    "name" : "test1 (Design: František | Lazura: Afromorsia | Střecha: Antracit)",
    "description" : "Lazura: Afromorsia | Střecha: Antracit | Design: František | Přesah: 10",
    "tax" : 21.00,
    "currency" : "CZK",
    "unit_price" : 24000.00,
    "sku" : "test1"
  }, {
    "transfer_tax_liability" : 1,
    "unit" : "ks",
    "quantity" : 1,
    "name" : "test (Na míru|Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit)",
    "description" : "Rozměry (DxHxV): 300x300x300 cm | Lazura: Afromorsia | Střecha: Antracit\nDoplňky: Držáky 2 páry",
    "tax" : 21.00,
    "currency" : "CZK",
    "unit_price" : 22180.00,
    "sku" : "CUSTOM-1"
  }, {
    "unit" : "ks",
    "quantity" : 1,
    "name" : "Doprava",
    "tax" : 21.00,
    "currency" : "CZK",
    "unit_price" : 859.58
  }, {
    "unit" : "",
    "quantity" : 1,
    "name" : "Zaokrouhlení",
    "tax" : 0.00,
    "currency" : "CZK",
    "unit_price" : -0.09
  } ],
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "currency" : "CZK",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T00:15:35.468+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Sending Final Invoice request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T00:15:35.712+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Final Invoice (Order 206): START
{"error":0,"error_message":"Invoice created","data":{"Invoice":{"id":"7711188","user_id":"39487","user_profile_id":"36761","client_id":"3506921","parent_id":null,"proforma_id":"7711186","estimate_id":null,"sequence_id":"305624","import_type":null,"import_id":null,"import_parent_id":null,"type":"regular","template":null,"tax_document":null,"name":"Faktura 000011\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":\"CZK\",\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":"test1 (Design: Franti\u0161ek | Lazura: Afromorsia | St\u0159echa: Antracit) Lazura: Afromorsia | St\u0159echa: Antracit | Design: Franti\u0161ek | P\u0159esah: 10, test (Na m\u00edru|Rozm\u011bry (DxHxV): 300x300x300 cm|Design: Franti\u0161ek|Lazura: Afromorsia|St\u0159echa: Antracit) Rozm\u011bry (DxHxV): 300x300x300 cm | Lazura: Afromorsia | St\u0159echa: Antracit\nDopl\u0148ky: Dr\u017e\u00e1ky 2 p\u00e1ry, Doprava , Zaokrouhlen\u00ed , ","invoice_no":"11","order_no":"206","invoice_no_formatted":"000011\/2025","invoice_no_formatted_raw":"112025","invoice_no_formatted_length":"11","mask":"YYYYNNN","variable":"206","variable_raw":"206","constant":"","specific":"1","payment_type":"transfer","status":"1","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":"1.00000000000000","amount":"47039.49","vat":"9878.31","discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":"0.00","amount_paid":"0.00","deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"created":"2025-04-26 00:00:00","modified":"2025-04-26 00:15:36","recurring":null,"paydate":null,"delivery":"2025-04-26 00:00:00","taxdate":null,"accounting_date":"2025-04-26","delivery_type":"haulage","due":"2025-05-03","demo":"0","token":"2b851e9b","tags":"","rounding":"item","vat_transfer":null,"special_vat_scheme":null,"issued_by_web":null,"summary_invoice":null,"total_amount":"56917.80","show_items_with_dph":true,"show_special_vat":false,"flag":"issued"},"Client":{"id":"3506921","user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"created":"2025-04-13 20:09:26","modified":"2025-04-13 20:09:26","notices":true},"0":{"to_pay":"56917.800000","to_pay_in_invoice_currency":"56917.80","total":"56917.80"},"InvoiceEmail":[],"PostStamp":[],"InvoiceSetting":{"signature":true,"bysquare":true,"payment_info":true,"language":"cze","online_payment":false,"summary_bg_color":"#d4eef6","force_iban":true},"InvoicePayment":[],"Tag":[],"ClientData":{"user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"notices":"1","id":3506921,"Country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true}},"MyData":{"id":"36761","user_id":"39451","country_id":"57","company_name":"Truhl\u00e1\u0159stv\u00ed Kol\u00e1\u0159","ico":"73589292","dic":"","ic_dph":"CZ8204183086","business_register":"","address":"Dru\u017estevn\u00ed 304","city":"\u0158e\u010dany nad Labem","zip":"53313","tax_payer":"1","BankAccount":[{"id":"29020","user_id":"39451","user_profile_id":"36761","currency":"CZK","default":true,"show":true,"country_id":"57","bank_name":"Fio banka a.s.","bank_code":"2010","account":"2601817728","iban":"CZ0420100000002601817728","swift":"FIOBCZPPXXX","created":"2021-09-30 09:01:03","modified":"2022-03-15 08:14:09","show_account":true}],"Logo":"[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"mobile_path\":\"imagecache\\\/media\\\/transfer\\\/img\\\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}]","Signature":"{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}","country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true},"SignatureRaw":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"LogoRaw":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}]},"Logo":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}],"Signature":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"InvoiceItem":[{"id":"24771925","invoice_id":"7711188","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"test1 (Design: Franti\u0161ek | Lazura: Afromorsia | St\u0159echa: Antracit)","description":"Lazura: Afromorsia | St\u0159echa: Antracit | Design: Franti\u0161ek | P\u0159esah: 10","sku":"test1","quantity":"1.00000","unit":"ks","unit_price":24000,"tax":21,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"0","hide_in_autocomplete":null,"unit_price_discount":24000,"item_price":24000,"item_price_no_discount":24000,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":29040,"unit_price_vat_no_discount":29040,"item_price_vat":29040,"item_price_vat_no_discount":29040,"item_price_vat_check":29040},{"id":"24771926","invoice_id":"7711188","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"test (Na m\u00edru|Rozm\u011bry (DxHxV): 300x300x300 cm|Design: Franti\u0161ek|Lazura: Afromorsia|St\u0159echa: Antracit)","description":"Rozm\u011bry (DxHxV): 300x300x300 cm | Lazura: Afromorsia | St\u0159echa: Antracit\nDopl\u0148ky: Dr\u017e\u00e1ky 2 p\u00e1ry","sku":"CUSTOM-1","quantity":"1.00000","unit":"ks","unit_price":22180,"tax":21,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"1","hide_in_autocomplete":null,"unit_price_discount":22180,"item_price":22180,"item_price_no_discount":22180,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":26837.8,"unit_price_vat_no_discount":26837.8,"item_price_vat":26837.8,"item_price_vat_no_discount":26837.8,"item_price_vat_check":26837.8},{"id":"24771927","invoice_id":"7711188","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Doprava","description":"","sku":null,"quantity":"1.00000","unit":"ks","unit_price":859.58,"tax":21,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"2","hide_in_autocomplete":null,"unit_price_discount":859.58,"item_price":859.58,"item_price_no_discount":859.58,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":1040.0918,"unit_price_vat_no_discount":1040.0918,"item_price_vat":1040.09,"item_price_vat_no_discount":1040.09,"item_price_vat_check":1040.09},{"id":"24771928","invoice_id":"7711188","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Zaokrouhlen\u00ed","description":"","sku":null,"quantity":"1.00000","unit":"","unit_price":-0.09,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"3","hide_in_autocomplete":null,"unit_price_discount":-0.09,"item_price":-0.09,"item_price_no_discount":-0.09,"discount_no_vat":0,"discount_with_vat":0,"discount_with_vat_total":0,"discount_no_vat_total":0,"unit_price_vat":-0.09,"unit_price_vat_no_discount":-0.09,"item_price_vat":-0.09,"item_price_vat_no_discount":-0.09,"item_price_vat_check":-0.09}],"Summary":{"vat_base_separate":{"21":47039.58,"0":-0.09},"vat_base_total":47039.49,"vat_separate":{"21":9878.31,"0":-0},"vat_total":9878.31,"invoice_total":56917.8,"discount":0},"SummaryInvoice":{"vat_base_separate_positive":{"21":47039.58,"0":-0.09},"vat_base_separate_negative":{"21":0,"0":0},"vat_separate_positive":{"21":9878.31,"0":-0},"vat_separate_negative":{"21":0,"0":0}},"UnitCount":{"ks":3},"Paypal":false,"RelatedItems":[],"Qr":{"qr":"SPD*1.0*ACC:CZ0420100000002601817728+FIOBCZPPXXX*AM:56917.8*CC:CZK*MSG:000011%252F2025%2B-%2BMIROSLAV%2BSVOBODA*X-VS:206*X-SS:1","qr_type":"QrPlatba","qr_url":"https:\/\/moje.superfaktura.cz\/tools\/qrCoder?key=d4a21e1c28e289521a6625483876e580&text=SPD%2A1.0%2AACC%3ACZ0420100000002601817728%2BFIOBCZPPXXX%2AAM%3A56917.8%2ACC%3ACZK%2AMSG%3A000011%25252F2025%252B-%252BMIROSLAV%252BSVOBODA%2AX-VS%3A206%2AX-SS%3A1&size=150"},"PaymentLink":""}}
END_RESPONSE
2025-04-26T00:15:35.712+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Final Invoice API call successful for order 206.
2025-04-26T00:15:35.712+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Constructed PDF download URL with token: https://moje.superfaktura.cz/invoices/pdf/7711188/token:2b851e9b
2025-04-26T00:15:35.712+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Parsed Final Invoice response for order 206: ID=7711188, Number=000011/2025, PDF URL=https://moje.superfaktura.cz/invoices/pdf/7711188/token:2b851e9b
2025-04-26T00:15:35.712+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Order 206 updated with Final Invoice details.
2025-04-26T00:15:35.743+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:15:35.743+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:15:35.743+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:15:35.745+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:15:35.745+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:15:35.773+02:00 DEBUG 34980 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:15:35.786+02:00  INFO 34980 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:25:49.647+02:00  INFO 34980 --- [Eshop] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-26T00:25:49.742+02:00  INFO 34980 --- [Eshop] [Thread-6] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T00:25:49.786+02:00  INFO 34980 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T00:25:49.852+02:00  INFO 34980 --- [Eshop] [Thread-6] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:25:49.875+02:00  INFO 34980 --- [Eshop] [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:25:49.904+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:25:49.907+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:25:49.908+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:25:49.910+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:25:49.911+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:25:49.911+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:25:49.915+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:25:49.915+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:25:49.917+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:25:49.918+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:25:49.918+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:25:49.918+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:25:49.922+02:00  INFO 34980 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:25:50.120+02:00  INFO 34980 --- [Eshop] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:25:50.141+02:00  INFO 34980 --- [Eshop] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:25:50.688+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 34980 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:25:50.690+02:00 DEBUG 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:25:50.691+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:25:53.601+02:00  INFO 34980 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:25:53.838+02:00  INFO 34980 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 234 ms. Found 14 JPA repository interfaces.
2025-04-26T00:25:55.411+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:25:55.421+02:00  INFO 34980 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:25:55.423+02:00  INFO 34980 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:25:55.731+02:00  INFO 34980 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:25:55.731+02:00  INFO 34980 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5010 ms
2025-04-26T00:25:56.591+02:00  INFO 34980 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:25:56.608+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:25:56.620+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:25:56.620+02:00  INFO 34980 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:25:56.701+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:25:56.706+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-04-26T00:25:56.734+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.mariadb.jdbc.Connection@79e9deba
2025-04-26T00:25:56.736+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-04-26T00:25:56.741+02:00  INFO 34980 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:25:57.544+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.595+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:25:57.605+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.625+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:25:57.625+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.633+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:25:57.633+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.641+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:25:57.642+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.653+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:25:57.655+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.668+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:25:57.669+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.681+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:25:57.682+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.688+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:25:57.689+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.695+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:25:57.697+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.702+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:25:57.702+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:25:57.704+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.717+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:25:57.719+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.729+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:25:57.735+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:25:57.743+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:26:01.097+02:00  INFO 34980 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:26:01.219+02:00  INFO 34980 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:26:03.456+02:00  WARN 34980 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\service\OrderService.class]: Post-processing of merged bean definition failed
2025-04-26T00:26:03.458+02:00  INFO 34980 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:26:03.461+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:26:03.489+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:26:03.489+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:26:03.493+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:26:03.497+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:26:03.499+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:26:03.501+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:26:03.503+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:26:03.503+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:26:03.505+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:26:03.506+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:26:03.508+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:26:03.508+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:26:03.729+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-04-26T00:26:03.756+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-04-26T00:26:03.758+02:00  INFO 34980 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-26T00:26:03.906+02:00  INFO 34980 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-26T00:26:04.269+02:00 ERROR 34980 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\service\OrderService.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orderService' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\service\OrderService.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:578) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 24 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.example.eshop.service.OrderService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2389631a]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:756) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:689) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:437) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:418) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findInjectionMetadata(PersistenceAnnotationBeanPostProcessor.java:377) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:353) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1109) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-6.2.5.jar:6.2.5]
	... 33 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/example/eshop/service/SuperFakturaInvoiceService
	at java.base/java.lang.Class.getDeclaredFields0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3473) ~[na:na]
	at java.base/java.lang.Class.getDeclaredFields(Class.java:2542) ~[na:na]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:751) ~[spring-core-6.2.5.jar:6.2.5]
	... 40 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.example.eshop.service.SuperFakturaInvoiceService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 44 common frames omitted

2025-04-26T00:26:32.837+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 34980 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:26:32.839+02:00 DEBUG 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:26:32.839+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:26:35.194+02:00  INFO 34980 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:26:35.399+02:00  INFO 34980 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 199 ms. Found 14 JPA repository interfaces.
2025-04-26T00:26:36.462+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:26:36.466+02:00  INFO 34980 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:26:36.467+02:00  INFO 34980 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:26:36.626+02:00  INFO 34980 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-04-26T00:26:36.627+02:00  INFO 34980 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3776 ms
2025-04-26T00:26:37.390+02:00  INFO 34980 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:26:37.405+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:26:37.410+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:26:37.411+02:00  INFO 34980 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:26:37.463+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:26:37.466+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-04-26T00:26:37.477+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.mariadb.jdbc.Connection@289691ac
2025-04-26T00:26:37.477+02:00  INFO 34980 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-04-26T00:26:37.481+02:00  INFO 34980 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:26:37.905+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.908+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:26:37.909+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.916+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:26:37.917+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.922+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:26:37.923+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.927+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:26:37.929+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.933+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:26:37.934+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.940+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:26:37.941+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.945+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:26:37.946+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.955+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:26:37.957+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.964+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:26:37.965+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.972+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:26:37.974+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.979+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:26:37.980+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.986+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:26:37.987+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:37.992+02:00  INFO 34980 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:26:37.993+02:00  WARN 34980 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:26:38.015+02:00  INFO 21384 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 21384 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:26:38.019+02:00 DEBUG 21384 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:26:38.023+02:00  INFO 21384 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:26:38.721+02:00  INFO 21384 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:26:38.721+02:00  INFO 21384 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:26:38.941+02:00  INFO 34980 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:26:39.092+02:00  INFO 34980 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:26:40.630+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:26:40.639+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:26:40.640+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:26:40.679+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:26:40.803+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T00:26:40.805+02:00  INFO 34980 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T00:26:41.315+02:00  INFO 21384 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:26:41.521+02:00  INFO 21384 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 181 ms. Found 14 JPA repository interfaces.
2025-04-26T00:26:41.525+02:00  WARN 34980 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:26:42.539+02:00  INFO 34980 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:26:42.627+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:26:43.652+02:00  INFO 21384 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:26:43.683+02:00  INFO 21384 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:26:43.684+02:00  INFO 21384 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:26:43.778+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:26:43.799+02:00  INFO 21384 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:26:43.799+02:00  INFO 21384 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5077 ms
2025-04-26T00:26:45.334+02:00  INFO 21384 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:26:45.701+02:00  INFO 21384 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:26:45.724+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:26:45.855+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:26:45.872+02:00  INFO 21384 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:26:46.504+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T00:26:46.652+02:00  INFO 34980 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T00:26:46.678+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 14.026 seconds (process running for 716.064)
2025-04-26T00:26:46.687+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T00:26:46.700+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T00:26:46.738+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T00:26:46.754+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T00:26:46.755+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T00:26:46.913+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T00:26:46.938+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T00:26:46.950+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T00:26:46.961+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T00:26:46.972+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T00:26:46.982+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T00:26:46.993+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T00:26:47.003+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T00:26:47.003+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T00:26:47.004+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T00:26:47.021+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T00:26:47.045+02:00  WARN 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T00:26:47.055+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T00:26:47.056+02:00  INFO 34980 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T00:26:47.070+02:00  INFO 34980 --- [Eshop] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-04-26T00:26:47.133+02:00  INFO 21384 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:26:47.280+02:00  INFO 21384 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:26:47.675+02:00  INFO 21384 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4b2cfa0a
2025-04-26T00:26:47.683+02:00  INFO 21384 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:26:47.910+02:00  INFO 21384 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:26:49.897+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.150+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:26:50.194+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:26:50.195+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.203+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:26:50.209+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.217+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:26:50.219+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.228+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:26:50.231+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.240+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:26:50.243+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.251+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:26:50.254+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.262+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:26:50.265+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.271+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:26:50.273+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.280+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:26:50.284+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.291+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:26:50.293+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.300+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:26:50.302+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.306+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:26:50.307+02:00  WARN 21384 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:26:50.312+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:26:52.476+02:00  INFO 21384 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:26:52.763+02:00  INFO 21384 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:26:54.073+02:00  INFO 21384 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:26:56.491+02:00  INFO 21384 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:26:56.891+02:00  INFO 21384 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:26:56.891+02:00  INFO 21384 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:26:56.919+02:00  INFO 21384 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:26:57.116+02:00  INFO 21384 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T00:26:57.117+02:00  INFO 21384 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T00:26:57.834+02:00  WARN 21384 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:26:58.853+02:00  INFO 21384 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:26:59.024+02:00  INFO 21384 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:27:00.251+02:00  INFO 21384 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:27:02.181+02:00  WARN 21384 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-04-26T00:27:02.333+02:00  WARN 21384 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-04-26T00:27:02.348+02:00  INFO 21384 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:27:02.354+02:00  INFO 21384 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:27:02.359+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:27:02.360+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:27:02.362+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:27:02.362+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:27:02.362+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:27:02.363+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:27:02.363+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:27:02.364+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:27:02.364+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:27:02.364+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:27:02.366+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:27:02.366+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:27:02.366+02:00  INFO 21384 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:27:02.383+02:00  INFO 21384 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:27:02.392+02:00  INFO 21384 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:27:02.424+02:00  INFO 21384 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-26T00:27:02.496+02:00 ERROR 21384 --- [Eshop] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-04-26T00:27:24.250+02:00  INFO 18392 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 18392 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:27:24.260+02:00 DEBUG 18392 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:27:24.268+02:00  INFO 18392 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:27:25.993+02:00  INFO 18392 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:27:26.006+02:00  INFO 18392 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:27:32.743+02:00  INFO 18392 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:27:33.269+02:00  INFO 18392 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 492 ms. Found 14 JPA repository interfaces.
2025-04-26T00:27:37.956+02:00  INFO 18392 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:27:38.013+02:00  INFO 18392 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:27:38.014+02:00  INFO 18392 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:27:38.358+02:00  INFO 18392 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:27:38.361+02:00  INFO 18392 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 12347 ms
2025-04-26T00:27:40.532+02:00  INFO 18392 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:27:40.810+02:00  INFO 18392 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:27:40.854+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:27:41.078+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:27:41.101+02:00  INFO 18392 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:27:42.475+02:00  INFO 18392 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:27:42.623+02:00  INFO 18392 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:27:43.031+02:00  INFO 18392 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@33ec606b
2025-04-26T00:27:43.037+02:00  INFO 18392 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:27:43.344+02:00  INFO 18392 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:27:46.100+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.616+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:27:46.666+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.675+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:27:46.679+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.686+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:27:46.690+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:27:46.692+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.704+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:27:46.708+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.722+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:27:46.724+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.736+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:27:46.740+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.755+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:27:46.759+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.769+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:27:46.771+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.787+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:27:46.791+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.803+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:27:46.806+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.819+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:27:46.820+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.828+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:27:46.830+02:00  WARN 18392 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:27:46.841+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:27:50.816+02:00  INFO 18392 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:27:51.193+02:00  INFO 18392 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:27:53.686+02:00  INFO 18392 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:27:58.940+02:00  INFO 18392 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:27:59.541+02:00  INFO 18392 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:27:59.541+02:00  INFO 18392 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:27:59.581+02:00  INFO 18392 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:27:59.934+02:00  INFO 18392 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T00:27:59.935+02:00  INFO 18392 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T00:28:01.254+02:00  WARN 18392 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:28:02.539+02:00  INFO 18392 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:28:02.841+02:00  INFO 18392 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:28:04.546+02:00  INFO 18392 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:28:07.325+02:00  WARN 18392 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-04-26T00:28:07.559+02:00  WARN 18392 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-04-26T00:28:07.597+02:00  INFO 18392 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:28:07.608+02:00  INFO 18392 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:28:07.618+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:28:07.620+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:28:07.621+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:28:07.621+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:28:07.623+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:28:07.625+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:28:07.627+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:28:07.629+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:28:07.632+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:28:07.633+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:28:07.634+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:28:07.636+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:28:07.636+02:00  INFO 18392 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:28:07.670+02:00  INFO 18392 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:28:07.678+02:00  INFO 18392 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:28:07.732+02:00  INFO 18392 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-26T00:28:07.838+02:00 ERROR 18392 --- [Eshop] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-04-26T00:28:55.507+02:00  INFO 22504 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 22504 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:28:55.513+02:00 DEBUG 22504 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:28:55.515+02:00  INFO 22504 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:28:56.562+02:00  INFO 22504 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:28:56.563+02:00  INFO 22504 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:29:03.135+02:00  INFO 22504 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:29:03.543+02:00  INFO 22504 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 366 ms. Found 14 JPA repository interfaces.
2025-04-26T00:29:07.221+02:00  INFO 22504 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:29:07.274+02:00  INFO 22504 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:29:07.274+02:00  INFO 22504 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:29:07.614+02:00  INFO 22504 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:29:07.616+02:00  INFO 22504 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11050 ms
2025-04-26T00:29:09.729+02:00  INFO 22504 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:29:09.929+02:00  INFO 22504 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:29:09.956+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:29:10.064+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:29:10.077+02:00  INFO 22504 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:29:11.094+02:00  INFO 22504 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:29:11.184+02:00  INFO 22504 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:29:11.531+02:00  INFO 22504 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@83906d4
2025-04-26T00:29:11.539+02:00  INFO 22504 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:29:11.766+02:00  INFO 22504 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:29:13.841+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.095+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:29:14.115+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.120+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:29:14.121+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.126+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:29:14.127+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.132+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:29:14.134+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.141+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:29:14.142+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.144+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:29:14.146+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.149+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:29:14.151+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.157+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:29:14.158+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.162+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:29:14.167+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.177+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:29:14.179+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.186+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:29:14.188+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.196+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:29:14.224+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:29:14.227+02:00  WARN 22504 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:29:14.238+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:29:16.084+02:00  INFO 22504 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:29:16.206+02:00  INFO 22504 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:29:16.770+02:00  INFO 22504 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:29:18.154+02:00  INFO 22504 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:29:18.390+02:00  INFO 22504 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:29:18.390+02:00  INFO 22504 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:29:18.410+02:00  INFO 22504 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:29:18.542+02:00  INFO 22504 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T00:29:18.542+02:00  INFO 22504 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T00:29:18.938+02:00  WARN 22504 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:29:19.411+02:00  INFO 22504 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:29:19.513+02:00  INFO 22504 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:29:20.059+02:00  INFO 22504 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:29:20.952+02:00  WARN 22504 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-04-26T00:29:21.021+02:00  WARN 22504 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-04-26T00:29:21.026+02:00  INFO 22504 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:29:21.029+02:00  INFO 22504 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:29:21.032+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:29:21.033+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:29:21.033+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:29:21.034+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:29:21.034+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:29:21.034+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:29:21.034+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:29:21.034+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:29:21.034+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:29:21.036+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:29:21.036+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:29:21.036+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:29:21.036+02:00  INFO 22504 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:29:21.046+02:00  INFO 22504 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:29:21.050+02:00  INFO 22504 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:29:21.066+02:00  INFO 22504 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-26T00:29:21.087+02:00 ERROR 22504 --- [Eshop] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-04-26T00:32:15.533+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 7280 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:32:15.539+02:00 DEBUG 7280 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:32:15.542+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:32:19.223+02:00  INFO 7280 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:32:19.223+02:00  INFO 7280 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:32:35.111+02:00  INFO 7280 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:32:35.627+02:00  INFO 7280 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 451 ms. Found 14 JPA repository interfaces.
2025-04-26T00:32:40.078+02:00  INFO 7280 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:32:40.151+02:00  INFO 7280 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:32:40.153+02:00  INFO 7280 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:32:40.434+02:00  INFO 7280 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:32:40.436+02:00  INFO 7280 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 21205 ms
2025-04-26T00:32:42.261+02:00  INFO 7280 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:32:42.546+02:00  INFO 7280 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:32:42.570+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:32:42.704+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:32:42.715+02:00  INFO 7280 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:32:43.861+02:00  INFO 7280 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:32:43.933+02:00  INFO 7280 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:32:44.176+02:00  INFO 7280 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2201c7bf
2025-04-26T00:32:44.181+02:00  INFO 7280 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:32:44.335+02:00  INFO 7280 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:32:46.019+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.212+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:32:46.234+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.238+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:32:46.241+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.244+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:32:46.246+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.251+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:32:46.253+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.257+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:32:46.259+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.262+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:32:46.265+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:32:46.266+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.271+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:32:46.272+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.276+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:32:46.277+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.282+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:32:46.283+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.288+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:32:46.289+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.298+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:32:46.299+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.302+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:32:46.303+02:00  WARN 7280 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:32:46.307+02:00  INFO 7280 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:32:49.472+02:00  INFO 7280 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:32:50.064+02:00  INFO 7280 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:32:52.410+02:00  INFO 7280 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:32:57.741+02:00  INFO 7280 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:32:58.890+02:00  INFO 7280 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:32:58.897+02:00  INFO 7280 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:32:59.071+02:00  INFO 7280 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:32:59.639+02:00  INFO 7280 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T00:32:59.639+02:00  INFO 7280 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T00:33:01.562+02:00  WARN 7280 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:33:03.354+02:00  INFO 7280 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:33:03.722+02:00  INFO 7280 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:33:05.810+02:00  INFO 7280 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:33:08.822+02:00  INFO 7280 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T00:33:09.039+02:00  INFO 7280 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T00:33:09.091+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 55.75 seconds (process running for 60.764)
2025-04-26T00:33:09.135+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T00:33:09.313+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T00:33:09.615+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T00:33:09.631+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T00:33:09.633+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T00:33:09.758+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T00:33:09.772+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T00:33:09.781+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T00:33:09.790+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T00:33:09.807+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T00:33:09.824+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T00:33:09.841+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T00:33:09.849+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T00:33:09.849+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T00:33:09.849+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T00:33:09.872+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T00:33:09.903+02:00  WARN 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T00:33:09.909+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T00:33:09.910+02:00  INFO 7280 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T00:33:15.979+02:00  INFO 7280 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T00:33:15.980+02:00  INFO 7280 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T00:33:15.997+02:00  INFO 7280 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2025-04-26T00:34:17.783+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T00:34:17.840+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:34:17.840+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:34:17.850+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T00:34:17.850+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T00:34:18.005+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T00:34:18.006+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T00:34:18.019+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:34:18.019012
2025-04-26T00:34:18.058+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:34:18.058+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:34:18.062+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:34:18.062807900
2025-04-26T00:34:18.074+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:34:18.074+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:34:18.075+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:34:18.078+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T00:34:18.317+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T00:34:18.320+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:34:18.320+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:34:18.320+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T00:34:18.324+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T00:34:18.401+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T00:34:18.401+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T00:34:18.405+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:34:18.405187300
2025-04-26T00:34:18.416+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:34:18.417+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:34:18.417+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:34:18.417625400
2025-04-26T00:34:18.431+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:34:18.431+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:34:18.431+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:34:18.431+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T00:34:27.974+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T00:34:37.393+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T00:34:37.394+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:34:37.394+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:34:37.395+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T00:35:04.980+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/na-miru
2025-04-26T00:35:04.981+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:04.981+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:05.003+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: na-miru
2025-04-26T00:35:05.003+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using findActiveBySlugWithDetails. Slug: na-miru
2025-04-26T00:35:05.073+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'na-miru' nalezen (with details).
2025-04-26T00:35:05.075+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: na-miru) <<<
2025-04-26T00:35:05.076+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 1 nalezen pro slug 'na-miru'.
2025-04-26T00:35:05.079+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK
2025-04-26T00:35:05.080+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (CZK): 21600.00
2025-04-26T00:35:05.081+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK. Vypočtená ZÁKLADNÍ cena: 21600.00
2025-04-26T00:35:05.081+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: EUR
2025-04-26T00:35:05.082+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (EUR): 900.00
2025-04-26T00:35:05.082+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: EUR. Vypočtená ZÁKLADNÍ cena: 900.00
2025-04-26T00:35:05.082+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] Výchozí ZÁKLADNÍ cena (bez doplňků/atributů) pro custom produkt ID 1: CZK=21600.00, EUR=900.00
2025-04-26T00:35:05.099+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : JSON-LD data vygenerována a přidána do modelu.
2025-04-26T00:35:05.100+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : DEBUG: Načtené availableTaxRates pro produkt ID 1: 2
2025-04-26T00:35:05.102+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : DEBUG: Přidávám sortedTaxRates do modelu, velikost: 2
2025-04-26T00:35:05.103+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : Available designs: 1, glazes: 1, roofColors: 1
2025-04-26T00:35:05.103+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro CUSTOM produkt ID 1
2025-04-26T00:35:05.107+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] Grouped addons: [Montážní materiál]
2025-04-26T00:35:05.107+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (CUSTOM). Vracím 'produkt-detail-custom'. Model keys: [currentGlobalCurrency, product, initialCustomPriceCZK, initialCustomPriceEUR, initialCustomPriceError, jsonLdData, availableTaxRates, availableDesigns, availableGlazes, availableRoofColors, configurator, groupedAddons, cartItemDto]
2025-04-26T00:35:05.590+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T00:35:06.145+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /api/product/calculate-price
2025-04-26T00:35:06.145+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:06.145+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:06.208+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do API calculateCustomPrice (detailed). Product ID: 1
2025-04-26T00:35:06.208+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : [ProductController] Calc request data: ProductId=1, Dimensions={length=300.00, width=300.00, height=300.00}, DesignId=2, GlazeId=1, RoofColorId=1, AddonIds=[]
2025-04-26T00:35:06.209+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDetailedCustomPrice. Product ID: 1
2025-04-26T00:35:06.259+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Base price calculated: CZK=21600.00, EUR=900.00
2025-04-26T00:35:06.271+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Design price: CZK=0.00, EUR=0.00
2025-04-26T00:35:06.274+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Glaze price: CZK=0.00, EUR=0.00
2025-04-26T00:35:06.277+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] RoofColor price: CZK=0.00, EUR=0.00
2025-04-26T00:35:06.277+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total Addons price: CZK=0.00, EUR=0.00
2025-04-26T00:35:06.277+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total price calculated: CZK=21600.00, EUR=900.00
2025-04-26T00:35:06.278+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDetailedCustomPrice. Product ID: 1. Response has error: false
2025-04-26T00:35:06.280+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T00:35:06.281+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:06.282+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:06.282+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T00:35:06.286+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : >>> [ProductController] API calculateCustomPrice (detailed) úspěšně spočítána. Product ID 1: Total CZK=21600.00, Total EUR=900.00. Vracím OK.
2025-04-26T00:35:06.689+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T00:35:06.690+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:06.690+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:06.691+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T00:35:07.358+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T00:35:07.359+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:07.359+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:07.359+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T00:35:09.133+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.e.service.CustomUserDetailsService   : Attempting to load user by email: mirsvobo@gmail.com
2025-04-26T00:35:09.139+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.e.service.CustomUserDetailsService   : User found: mirsvobo@gmail.com, Enabled: true, Roles: [ROLE_USER, ROLE_ADMIN]
2025-04-26T00:35:09.386+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T00:35:09.387+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:09.387+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:09.387+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T00:35:09.388+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T00:35:09.432+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T00:35:09.432+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T00:35:09.435+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:35:09.435839200
2025-04-26T00:35:09.444+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:35:09.444+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:35:09.445+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:35:09.445368900
2025-04-26T00:35:09.453+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:35:09.453+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:35:09.453+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:35:09.455+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T00:35:10.645+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-04-26T00:35:13.739+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T00:35:13.740+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:13.740+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:13.754+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:35:13.760+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:35:13.799+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Found 1 orders matching criteria using specifications.
2025-04-26T00:35:13.804+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:35:13.823+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=1, TotalElements=1
2025-04-26T00:35:17.214+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:35:17.215+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:17.215+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:17.218+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:35:17.219+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:35:17.264+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:35:17.271+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:35:21.975+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:35:21.975+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:35:21.975+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:35:21.978+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:35:21.978+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:35:22.043+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:35:22.056+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:36:18.078+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:36:18.078+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:18.078+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:18.080+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:36:18.080+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:36:18.132+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:36:18.139+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:36:19.100+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:36:19.100+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:19.100+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:19.102+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:36:19.103+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:36:19.141+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:36:19.149+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:36:20.006+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:36:20.006+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:20.007+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:20.007+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:36:20.008+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:36:20.059+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:36:20.068+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:36:27.906+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T00:36:27.906+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:27.907+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:27.907+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T00:36:27.914+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T00:36:28.016+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T00:36:28.018+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T00:36:28.021+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:36:28.021261
2025-04-26T00:36:28.030+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:36:28.030+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:36:28.032+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:36:28.031767400
2025-04-26T00:36:28.042+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:36:28.042+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:36:28.043+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:36:28.045+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T00:36:32.005+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T00:36:32.005+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:32.006+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:32.011+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T00:36:32.013+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T00:36:32.023+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-4] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T00:36:32.109+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T00:36:32.110+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T00:36:32.110+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T00:36:32.112+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:36:32.112012
2025-04-26T00:36:32.129+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:36:32.131+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:36:32.134+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:36:32.134798700
2025-04-26T00:36:32.148+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:36:32.149+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:36:32.150+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:36:32.150+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T00:36:32.546+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T00:36:32.559+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-26T00:36:34.853+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/test1
2025-04-26T00:36:34.854+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:34.854+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:34.858+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: test1
2025-04-26T00:36:34.859+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using findActiveBySlugWithDetails. Slug: test1
2025-04-26T00:36:34.947+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'test1' nalezen (with details).
2025-04-26T00:36:34.947+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: test1) <<<
2025-04-26T00:36:34.947+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 2 nalezen pro slug 'test1'.
2025-04-26T00:36:34.947+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:36:34.947684
2025-04-26T00:36:34.958+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:36:34.958+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:36:34.959+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:36:34.959447200
2025-04-26T00:36:34.968+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:36:34.968+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:36:34.968+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:36:34.969+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : JSON-LD data vygenerována a přidána do modelu.
2025-04-26T00:36:34.969+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : DEBUG: Načtené availableTaxRates pro produkt ID 2: 2
2025-04-26T00:36:34.969+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : DEBUG: Přidávám sortedTaxRates do modelu, velikost: 2
2025-04-26T00:36:34.970+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : Available designs: 1, glazes: 1, roofColors: 1
2025-04-26T00:36:34.970+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro STANDARD produkt ID 2
2025-04-26T00:36:34.970+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:36:34.970459400
2025-04-26T00:36:34.979+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:36:34.980+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:36:34.981+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:36:34.981197300
2025-04-26T00:36:34.991+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:36:34.991+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:36:34.991+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:36:34.991+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (STANDARD). Vracím 'produkt-detail-standard'. Model keys: [currentGlobalCurrency, product, initialCustomPriceCZK, initialCustomPriceEUR, initialCustomPriceError, jsonLdData, availableTaxRates, availableDesigns, availableGlazes, availableRoofColors, priceInfo, cartItemDto]
2025-04-26T00:36:35.285+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T00:36:35.156+02:00 ERROR 7280 --- [Eshop] [http-nio-8080-exec-7] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-7] Exception processing template "produkt-detail-standard": An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1437) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.attoparser.ParseException: An error happened during template rendering
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 127 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateOutputException: An error happened during template rendering
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:75) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleText(ProcessorTemplateHandler.java:587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.beHandled(Text.java:97) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.GatheringModelProcessable.process(GatheringModelProcessable.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 129 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#request.requestURL" (template: "layout/main" - line 256, col 32)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.process(TemplateManager.java:519) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.LazyProcessingCharSequence.writeUnresolved(LazyProcessingCharSequence.java:85) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.AbstractLazyCharSequence.write(AbstractLazyCharSequence.java:103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.AbstractTextualTemplateEvent.writeContent(AbstractTextualTemplateEvent.java:224) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.write(Text.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:71) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 151 common frames omitted
Caused by: java.lang.IllegalArgumentException: The 'request','session','servletContext' and 'response' expression utility objects are no longer available by default for template expressions and their use is not recommended. In cases where they are really needed, they should be manually added as context variables.
	at org.thymeleaf.standard.expression.StandardExpressionObjectFactory.buildObject(StandardExpressionObjectFactory.java:207) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.SpringStandardExpressionObjectFactory.buildObject(SpringStandardExpressionObjectFactory.java:110) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.DialectSetConfiguration$AggregateExpressionObjectFactory.buildObject(DialectSetConfiguration.java:785) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.expression.ExpressionObjects.getObject(ExpressionObjects.java:108) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext.lookupVariable(ThymeleafEvaluationContext.java:134) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.expression.spel.ExpressionState.lookupVariable(ExpressionState.java:173) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.VariableReference.getValueInternal(VariableReference.java:88) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:60) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:96) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 168 common frames omitted

2025-04-26T00:36:37.554+02:00 ERROR 7280 --- [Eshop] [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")] with root cause

java.lang.IllegalArgumentException: The 'request','session','servletContext' and 'response' expression utility objects are no longer available by default for template expressions and their use is not recommended. In cases where they are really needed, they should be manually added as context variables.
	at org.thymeleaf.standard.expression.StandardExpressionObjectFactory.buildObject(StandardExpressionObjectFactory.java:207) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.SpringStandardExpressionObjectFactory.buildObject(SpringStandardExpressionObjectFactory.java:110) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.DialectSetConfiguration$AggregateExpressionObjectFactory.buildObject(DialectSetConfiguration.java:785) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.expression.ExpressionObjects.getObject(ExpressionObjects.java:108) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext.lookupVariable(ThymeleafEvaluationContext.java:134) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.expression.spel.ExpressionState.lookupVariable(ExpressionState.java:173) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.VariableReference.getValueInternal(VariableReference.java:88) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:60) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:96) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.process(TemplateManager.java:519) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.LazyProcessingCharSequence.writeUnresolved(LazyProcessingCharSequence.java:85) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.AbstractLazyCharSequence.write(AbstractLazyCharSequence.java:103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.AbstractTextualTemplateEvent.writeContent(AbstractTextualTemplateEvent.java:224) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.write(Text.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:71) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleText(ProcessorTemplateHandler.java:587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.beHandled(Text.java:97) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.GatheringModelProcessable.process(GatheringModelProcessable.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1437) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T00:36:38.224+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/test1
2025-04-26T00:36:38.224+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:38.224+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:38.245+02:00 ERROR 7280 --- [Eshop] [http-nio-8080-exec-7] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/produkt/test1] and exception [An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2025-04-26T00:36:47.082+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik/pridat
2025-04-26T00:36:47.083+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:47.083+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:47.256+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Raw request parameters: _csrf=[UkoOxWysxYmi_MhTBu9te0G32QfOxh98EZlB-uRBlCTvkQTbYHg6o12apO-PzK1kZcJZT3mH9D759SxRdf95nNN09kKOpzLp], productId=[2], isCustom=[false], selectedDesignId=[2], selectedGlazeId=[1], selectedRoofColorId=[1], selectedTaxRateId=[2], quantity=[1]
2025-04-26T00:36:47.257+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : --- addToCart START --- Cart hash: 1177021133
2025-04-26T00:36:47.257+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Received CartItemDto (after manual 'isCustom' set): CartItemDto(productId=2, quantity=1, isCustom=false, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=2, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=null)
2025-04-26T00:36:47.295+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details) using findByIdWithDetails. ID: 2
2025-04-26T00:36:47.374+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 2 nalezen (with details).
2025-04-26T00:36:47.374+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 2) <<<
2025-04-26T00:36:47.376+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Processing Cart Item: isCustom = false
2025-04-26T00:36:47.393+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Applied Tax Rate 12.00% (RC from TaxRate entity: false)
2025-04-26T00:36:47.394+02:00 ERROR 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Chyba: Produkt ID 2 je custom, ale zpracovává se jako standardní!
2025-04-26T00:36:47.395+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Final unit prices set for CartItem: CZK=24000.00, EUR=1000.00
2025-04-26T00:36:47.395+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Built variant info: Design: František | Lazura: Afromorsia|Střecha: Antracit
2025-04-26T00:36:47.396+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Generated Cart Item ID: P2-T2-S-D2-G1-RC1
2025-04-26T00:36:47.403+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.Cart           : addItem called for cart hash: 1413290294. Item ID: P2-T2-S-D2-G1-RC1, Product ID: 2
2025-04-26T00:36:47.404+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.Cart           : Added new cart item ID: P2-T2-S-D2-G1-RC1. Cart hash: 1413290294
2025-04-26T00:36:47.405+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.Cart           : Cart items map after addItem (hash: 1413290294): {P2-T2-S-D2-G1-RC1=CartItem(cartItemId=P2-T2-S-D2-G1-RC1, productId=2, productName=test1, productSlug=test1, imageUrl=/images/placeholder.png, quantity=1, isCustom=false, length=100.00, width=100.00, height=100.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=24000.00, unitPriceEUR=1000.00, variantInfo=Design: František | Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T00:36:47.430+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : --- addToCart END --- Item added/updated. Cart hash: 1177021133, Items count: 1
2025-04-26T00:36:47.531+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-26T00:36:47.531+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:47.531+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:47.533+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: 1177021133
2025-04-26T00:36:47.534+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : Cart items before display: {P2-T2-S-D2-G1-RC1=CartItem(cartItemId=P2-T2-S-D2-G1-RC1, productId=2, productName=test1, productSlug=test1, imageUrl=/images/placeholder.png, quantity=1, isCustom=false, length=100.00, width=100.00, height=100.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=24000.00, unitPriceEUR=1000.00, variantInfo=Design: František | Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T00:36:47.535+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 1 items.
2025-04-26T00:36:47.535+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-26T00:36:47.539+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : Cart subtotal (CZK): 24000.00
2025-04-26T00:36:47.540+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : Validated coupon: None, Discount amount (CZK): 0
2025-04-26T00:36:47.546+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : Total VAT (CZK): 2880.00
2025-04-26T00:36:47.546+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : VAT Breakdown (CZK): {0.12=2880.00}
2025-04-26T00:36:47.547+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : Total Price Before Shipping (CZK): 26880.00
2025-04-26T00:36:47.547+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : Total Price Without Tax After Discount (CZK): 24000.00
2025-04-26T00:36:47.547+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-26T00:36:47.809+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T00:36:50.102+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna
2025-04-26T00:36:50.102+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:50.103+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:50.106+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Displaying checkout page for user: mirsvobo@gmail.com in currency: CZK
2025-04-26T00:36:50.120+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Initialized checkout form DTO from logged-in customer 1.
2025-04-26T00:36:50.120+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Added shippingTaxRate 0.21 to model.
2025-04-26T00:36:50.121+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T00:36:50.121+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T00:36:50.857+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T00:36:50.858+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Preparing checkout summary model data for currency: CZK
2025-04-26T00:36:50.858+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Rounding calculation: originalTotalPrice=27920.09, roundedTotalPrice=27920, roundingDifference=0.09
2025-04-26T00:36:50.858+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Checkout summary model prepared: subtotal=24000.00, itemDiscount=0, itemVat=2880.00, origShipCost=859.58, shipDiscount=0, finalShipCost=859.58, finalShipTax=180.51, originalTotal=27920.09, roundingDiff=0.09, finalRoundedTotal=27920, totalVatWithShip=3060.51, shippingError='null'
2025-04-26T00:36:50.858+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Checkout page model prepared for mirsvobo@gmail.com. Currency: CZK
2025-04-26T00:36:56.947+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/calculate-shipping
2025-04-26T00:36:56.948+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:36:56.948+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:36:56.970+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : AJAX: Calculating shipping for user mirsvobo@gmail.com and currency CZK with address: ShippingAddressDto(street=Masarykovo náměstí 2799, city=Pardubice, zipCode=53002, country=Česká republika)
2025-04-26T00:36:56.984+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T00:36:56.984+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T00:36:57.097+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T00:36:57.098+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : AJAX: Calculated original shipping cost (no tax): 859.58
2025-04-26T00:36:57.099+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : AJAX: Shipping calculation successful for user mirsvobo@gmail.com. Response: ShippingCalculationResponseDto(shippingCostNoTax=859.58, shippingTax=180.51, totalPrice=27920.09, vatBreakdown={0.12=2880.00}, totalVatWithShipping=3060.51, errorMessage=null, currencySymbol=Kč, originalShippingCostNoTax=859.58, originalShippingTax=180.51, shippingDiscountAmount=0)
2025-04-26T00:37:06.182+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/odeslat
2025-04-26T00:37:06.183+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:37:06.183+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:37:06.244+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Processing checkout submission for user: mirsvobo@gmail.com in currency: CZK. Apply RC: true
2025-04-26T00:37:06.245+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Set email in DTO from principal for logged-in user: mirsvobo@gmail.com
2025-04-26T00:37:06.245+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Getting logged-in customer: mirsvobo@gmail.com
2025-04-26T00:37:06.256+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Customer 1 address matches DTO, no update needed.
2025-04-26T00:37:06.256+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Using valid shipping costs from form: NoTax=859.58, Tax=180.51
2025-04-26T00:37:06.260+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Attempting to create order with request: CreateOrderRequest(customerId=1, useCustomerAddresses=true, paymentMethod=BANK_TRANSFER, currency=CZK, customerNote=, couponCode=null, items=[CartItemDto(productId=2, quantity=1, isCustom=false, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=2, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=[])], shippingCostNoTax=859.58, shippingTax=180.51), Apply RC Flag: true
2025-04-26T00:37:06.271+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK. Apply RC: true
2025-04-26T00:37:06.271+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-26T00:37:06.282+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-26T00:37:06.283+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-26T00:37:06.283+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Invoice recipient is person: Miroslav Svoboda
2025-04-26T00:37:06.283+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-26T00:37:06.283+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-26T00:37:06.284+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-26T00:37:06.284+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-26T00:37:06.284+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2, TaxRate ID: 2, Apply RC Flag: true
2025-04-26T00:37:06.350+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Selected Tax Rate ID 2 ('Snížená', Rate: 0.1200) validated for Product ID 2
2025-04-26T00:37:06.356+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Attribute surcharge calculated for currency CZK: 0
2025-04-26T00:37:06.356+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [processCartItem] Standard Base Unit Price (No Tax, Currency: CZK): 24000.00
2025-04-26T00:37:06.356+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-26T00:37:06.356+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: František | Lazura: Afromorsia | Střecha: Antracit
2025-04-26T00:37:06.357+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:37:06.357596900
2025-04-26T00:37:06.368+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:37:06.370+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:37:06.370+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [processCartItem] Final Unit Price (No Tax, Currency: CZK): 24000.00
2025-04-26T00:37:06.371+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Applying Reverse Charge flag to OrderItem (Product ID: 2) based on checkout selection. Kept original tax rate: 0.1200
2025-04-26T00:37:06.371+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Recalculated Tax (RC=true): UnitTax=0, TotalTax=0 for OrderItem ID (new)
2025-04-26T00:37:06.372+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Final recalculated prices for OrderItem ID (new): UnitPriceWithoutTax=24000.00, UnitTaxAmount=0.00, UnitPriceWithTax=24000.00, TotalPriceWithoutTax=24000.00, TotalTaxAmount=0.00, TotalPriceWithTax=24000.00
2025-04-26T00:37:06.372+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finished processCartItem for Product ID: 2. RC applied: true, Total Price w/ Tax: 24000.00, Selected Rate ID: 2
2025-04-26T00:37:06.372+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 24000.00, Running Item Tax: 0.00
2025-04-26T00:37:06.373+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 24000.00, Final Item Tax: 0.00
2025-04-26T00:37:06.373+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-26T00:37:06.373+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 859.58, Tax: 180.51, Estimated Rate: 0.2100
2025-04-26T00:37:06.374+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-26T00:37:06.374+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=24859.58, TotalTax=180.51, OriginalTotalWithTax=25040.09, RoundedTotalToSave=25040
2025-04-26T00:37:06.374+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-26T00:37:06.376+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-26T00:37:06.376+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-26T00:37:06.376+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-26T00:37:06.376+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-26T00:37:06.377+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 207
2025-04-26T00:37:06.377+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Generated Order Code: 207
2025-04-26T00:37:06.377+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-26T00:37:06.530+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Order 207 created successfully. Total: 25040 CZK
2025-04-26T00:37:06.530+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 207...
2025-04-26T00:37:06.536+02:00  WARN 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Mismatch between calculated rounded price (27920) and saved order price (25040) for order 207
2025-04-26T00:37:06.537+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Order 207 successfully created with currency CZK for user: mirsvobo@gmail.com
2025-04-26T00:37:06.537+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.Cart           : clearCart called for cart hash: 1413290294. Clearing items and coupon.
2025-04-26T00:37:06.537+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Session cart cleared for mirsvobo@gmail.com
2025-04-26T00:37:06.592+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T00:37:06.592+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:37:06.592+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:37:06.606+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T00:37:17.608+02:00  INFO 7280 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Order confirmation email sent successfully to mirsvobo@gmail.com for order 207
2025-04-26T00:37:36.087+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T00:37:36.087+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:37:36.087+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:37:36.101+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:37:36.106+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:37:36.127+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Found 2 orders matching criteria using specifications.
2025-04-26T00:37:36.136+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:37:36.258+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=2, TotalElements=2
2025-04-26T00:37:51.679+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/2
2025-04-26T00:37:51.680+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:37:51.680+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:37:51.683+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 2
2025-04-26T00:37:51.683+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 2
2025-04-26T00:37:51.742+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:37:51.755+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 2
2025-04-26T00:37:54.310+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/2/generate-final
2025-04-26T00:37:54.311+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:37:54.311+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:37:54.313+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura FINAL invoice for order ID: 2
2025-04-26T00:37:54.315+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 2
2025-04-26T00:37:54.392+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Attempting to generate SuperFaktura FINAL invoice for order: 207. Order currency: CZK
2025-04-26T00:37:54.392+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Using 'item' rounding for invoice 207
2025-04-26T00:37:54.394+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Added rounding item to SF payload for order 207: Amount=-0.09
2025-04-26T00:37:54.394+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Not setting 'already_paid' for final invoice 207. Relying on SF deduction via linked proforma_id or payment status.
2025-04-26T00:37:54.396+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Setting top-level 'vat_transfer: 1' for Final Invoice (Order: 207) as all original items were RC.
2025-04-26T00:37:54.403+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Final Invoice - Order 207):
{
  "Invoice" : {
    "order_no" : "207",
    "date" : "2025-04-26",
    "note" : "",
    "InvoiceItem" : [ {
      "unit" : "ks",
      "quantity" : 1,
      "name" : "test1 (Design: František ,  Lazura: Afromorsia ,  Střecha: Antracit)",
      "description" : "Lazura: Afromorsia | Střecha: Antracit | Design: František | Přesah: 10",
      "tax" : 12.00,
      "currency" : "CZK",
      "unit_price" : 24000.00
    }, {
      "unit" : "ks",
      "quantity" : 1,
      "name" : "Doprava",
      "tax" : 21.00,
      "currency" : "CZK",
      "unit_price" : 859.58
    }, {
      "unit" : "ks",
      "quantity" : 1,
      "name" : "Zaokrouhlení",
      "tax" : 0.00,
      "currency" : "CZK",
      "unit_price" : -0.09
    } ],
    "due_date" : "2025-05-10",
    "rounding" : "item",
    "language" : "cze",
    "specific" : "2",
    "type" : "regular",
    "vat_transfer" : 1,
    "payment_type" : "transfer",
    "delivery_date" : "2025-04-26",
    "variable" : "207",
    "currency" : "CZK"
  },
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T00:37:54.404+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Sending Final Invoice request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T00:37:54.991+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Final Invoice (Order 207): START
{"error":5,"error_message":{"type":["Pros\u00edm, vlo\u017ete alespo\u0148 jednu polo\u017eku faktury"]},"error_data":{"Invoice":{"user_id":"39487","user_profile_id":"36761","parent_id":null,"proforma_id":null,"estimate_id":null,"sequence_id":"305624","import_type":null,"import_id":null,"import_parent_id":null,"type":"regular","template":null,"tax_document":null,"name":"Faktura 000011\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":null,\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":null,"invoice_no":11,"order_no":"207","invoice_no_formatted":"000011\/2025","invoice_no_formatted_raw":null,"invoice_no_formatted_length":"0","mask":"YYYYNNN","variable":"207","variable_raw":null,"constant":"","specific":"2","payment_type":"transfer","status":"1","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":1,"amount":null,"vat":null,"discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":null,"amount_paid":null,"deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"recurring":null,"paydate":null,"delivery":"2025-04-26","taxdate":null,"accounting_date":null,"delivery_type":"haulage","due":"2025-05-03","demo":"0","token":null,"tags":null,"vat_transfer":1,"special_vat_scheme":null,"issued_by_web":null,"summary_invoice":"0","total_amount":null,"date":"2025-04-26","note":"","InvoiceItem":[{"unit":"ks","quantity":1,"name":"test1 (Design: Franti\u0161ek ,  Lazura: Afromorsia ,  St\u0159echa: Antracit)","description":"Lazura: Afromorsia | St\u0159echa: Antracit | Design: Franti\u0161ek | P\u0159esah: 10","tax":12,"currency":"CZK","unit_price":24000},{"unit":"ks","quantity":1,"name":"Doprava","tax":21,"currency":"CZK","unit_price":859.58},{"unit":"ks","quantity":1,"name":"Zaokrouhlen\u00ed","tax":0,"currency":"CZK","unit_price":-0.09}],"due_date":"2025-05-10","rounding":"item","language":"cze","delivery_date":"2025-04-26","currency":"CZK","id":0,"client_id":3506921,"suffix":"3","created":"2025-04-26"},"InvoiceSetting":{"settings":"{\"summary_bg_color\":\"#d4eef6\"}"}}}
END_RESPONSE
2025-04-26T00:37:55.018+02:00 ERROR 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : SF API call OK (2xx) but returned error for Final Invoice (Order 207): type: Prosím, vložte alespoň jednu položku faktury;
2025-04-26T00:37:55.019+02:00 ERROR 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Unexpected error during Final Invoice API call for order 207: SF API reported error for Final Invoice (Order: 207): type: Prosím, vložte alespoň jednu položku faktury;

java.lang.RuntimeException: SF API reported error for Final Invoice (Order: 207): type: Prosím, vložte alespoň jednu položku faktury;
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:372) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateFinalInvoice(SuperFakturaInvoiceService.java:188) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateFinalInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.admin.controller.AdminOrderController.generateFinal(AdminOrderController.java:324) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.admin.controller.AdminOrderController$$SpringCGLIB$$0.generateFinal(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T00:37:55.027+02:00 ERROR 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Failed to generate Final Invoice for order 207: Unexpected error during SF API call for Final Invoice

java.lang.RuntimeException: Unexpected error during SF API call for Final Invoice
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:413) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateFinalInvoice(SuperFakturaInvoiceService.java:188) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateFinalInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.admin.controller.AdminOrderController.generateFinal(AdminOrderController.java:324) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.admin.controller.AdminOrderController$$SpringCGLIB$$0.generateFinal(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.RuntimeException: SF API reported error for Final Invoice (Order: 207): type: Prosím, vložte alespoň jednu položku faktury;
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:372) ~[classes/:na]
	... 144 common frames omitted

2025-04-26T00:37:55.040+02:00 ERROR 7280 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Error generating final invoice for order 2: Unexpected error during SF API call for Final Invoice

java.lang.RuntimeException: Unexpected error during SF API call for Final Invoice
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:413) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateFinalInvoice(SuperFakturaInvoiceService.java:188) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateFinalInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.admin.controller.AdminOrderController.generateFinal(AdminOrderController.java:324) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.admin.controller.AdminOrderController$$SpringCGLIB$$0.generateFinal(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.RuntimeException: SF API reported error for Final Invoice (Order: 207): type: Prosím, vložte alespoň jednu položku faktury;
	at org.example.eshop.service.SuperFakturaInvoiceService.callSuperfakturaApi(SuperFakturaInvoiceService.java:372) ~[classes/:na]
	... 144 common frames omitted

2025-04-26T00:37:55.065+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/2
2025-04-26T00:37:55.065+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:37:55.065+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:37:55.069+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 2
2025-04-26T00:37:55.069+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 2
2025-04-26T00:37:55.125+02:00 DEBUG 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:37:55.138+02:00  INFO 7280 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 2
2025-04-26T00:40:03.554+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T00:40:03.565+02:00  INFO 7280 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T00:40:03.573+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:40:03.576+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:40:03.580+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:40:03.580+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:40:03.580+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:40:03.580+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:40:03.582+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:40:03.591+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:40:03.598+02:00  INFO 7280 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:48:10.142+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 22840 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:48:10.150+02:00 DEBUG 22840 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:48:10.152+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:48:11.450+02:00  INFO 22840 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:48:11.451+02:00  INFO 22840 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:48:17.080+02:00  INFO 22840 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:48:17.579+02:00  INFO 22840 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 448 ms. Found 14 JPA repository interfaces.
2025-04-26T00:48:22.152+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:48:22.225+02:00  INFO 22840 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:48:22.226+02:00  INFO 22840 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:48:22.558+02:00  INFO 22840 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:48:22.560+02:00  INFO 22840 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11106 ms
2025-04-26T00:48:24.300+02:00  INFO 22840 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:48:24.466+02:00  INFO 22840 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:48:24.480+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:48:24.564+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:48:24.572+02:00  INFO 22840 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:48:26.239+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:48:26.427+02:00  INFO 22840 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:48:26.951+02:00  INFO 22840 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2d7688be
2025-04-26T00:48:26.961+02:00  INFO 22840 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:48:27.279+02:00  INFO 22840 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:48:30.216+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:30.631+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:48:30.681+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:30.688+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:48:30.696+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:48:30.697+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:30.705+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:48:30.707+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:30.716+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:48:30.721+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:30.733+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:48:30.736+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:30.746+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:48:30.750+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:31.241+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:48:31.245+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:31.252+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:48:31.254+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:31.264+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:48:31.267+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:31.277+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:48:31.281+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:31.290+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:48:31.294+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:31.300+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:48:31.303+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:48:31.472+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:48:35.459+02:00  INFO 22840 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:48:35.848+02:00  INFO 22840 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:48:38.284+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:48:41.589+02:00  INFO 22840 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:48:42.019+02:00  INFO 22840 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:48:42.020+02:00  INFO 22840 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:48:42.049+02:00  INFO 22840 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:48:42.297+02:00  INFO 22840 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 207
2025-04-26T00:48:42.298+02:00  INFO 22840 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 207
2025-04-26T00:48:42.870+02:00  WARN 22840 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:48:43.586+02:00  INFO 22840 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:48:43.807+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:48:44.823+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:48:45.959+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T00:48:46.050+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T00:48:46.067+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 38.142 seconds (process running for 41.712)
2025-04-26T00:48:46.085+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T00:48:46.188+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T00:48:46.301+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T00:48:46.310+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T00:48:46.310+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T00:48:46.381+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T00:48:46.390+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T00:48:46.395+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T00:48:46.400+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T00:48:46.411+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T00:48:46.417+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T00:48:46.423+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T00:48:46.428+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T00:48:46.428+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T00:48:46.428+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T00:48:46.443+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T00:48:46.458+02:00  WARN 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T00:48:46.463+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T00:48:46.463+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T00:48:47.158+02:00  INFO 22840 --- [Eshop] [RMI TCP Connection(1)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T00:48:47.159+02:00  INFO 22840 --- [Eshop] [RMI TCP Connection(1)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T00:48:47.163+02:00  INFO 22840 --- [Eshop] [RMI TCP Connection(1)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-04-26T00:49:10.098+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T00:49:10.100+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:49:10.100+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:49:10.119+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T00:49:10.120+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T00:49:10.239+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:49:10.251+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T00:49:14.141+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T00:49:14.141+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:49:14.141+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:49:14.151+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:49:14.156+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:49:14.176+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Found 2 orders matching criteria using specifications.
2025-04-26T00:49:14.178+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:49:14.191+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=2, TotalElements=2
2025-04-26T00:49:38.892+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/2
2025-04-26T00:49:38.893+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:49:38.893+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:49:38.895+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 2
2025-04-26T00:49:38.895+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 2
2025-04-26T00:49:38.927+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:49:38.932+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 2
2025-04-26T00:49:41.256+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/2/generate-final
2025-04-26T00:49:41.257+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:49:41.257+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:49:41.258+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura FINAL invoice for order ID: 2
2025-04-26T00:49:41.259+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 2
2025-04-26T00:49:41.296+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Attempting to generate SuperFaktura FINAL invoice for order: 207. Order currency: CZK
2025-04-26T00:49:41.297+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Setting invoice-level transfer_tax_liability to: 1 for order 207
2025-04-26T00:49:41.298+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Added shipping item to SF payload for order 207: Cost=859.58, TaxRate=21.00%
2025-04-26T00:49:41.298+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Calculating rounding difference for order 207: Original=25040.09, Rounded=25040.00, Difference=0.09
2025-04-26T00:49:41.298+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Added rounding item to SF payload for order 207: Amount=-0.09
2025-04-26T00:49:41.298+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Calculating rounding difference for order 207: Original=25040.09, Rounded=25040.00, Difference=0.09
2025-04-26T00:49:41.298+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Added rounding item to SF payload for order 207: Amount=-0.09
2025-04-26T00:49:41.298+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Not setting 'already_paid' for final invoice 207. Relying on SF deduction via linked proforma_id.
2025-04-26T00:49:41.298+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Not setting 'already_paid' for final invoice 207. Relying on SF deduction via linked proforma_id or payment status.
2025-04-26T00:49:41.315+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Final Invoice - Order 207):
{
  "Invoice" : {
    "order_no" : "207",
    "date" : "2025-04-26",
    "note" : "",
    "due_date" : "2025-05-10",
    "rounding" : "document",
    "language" : "cze",
    "specific" : "2",
    "type" : "regular",
    "transfer_tax_liability" : 1,
    "payment_type" : "transfer",
    "delivery_date" : "2025-04-26",
    "variable" : "207",
    "currency" : "CZK"
  },
  "InvoiceItem" : [ {
    "transfer_tax_liability" : 1,
    "unit" : "ks",
    "quantity" : 1,
    "name" : "test1 (Design: František | Lazura: Afromorsia | Střecha: Antracit)",
    "description" : "Lazura: Afromorsia | Střecha: Antracit | Design: František | Přesah: 10",
    "tax" : 12.00,
    "currency" : "CZK",
    "unit_price" : 24000.00,
    "sku" : "test1"
  }, {
    "unit" : "ks",
    "quantity" : 1,
    "name" : "Doprava",
    "tax" : 21.00,
    "currency" : "CZK",
    "unit_price" : 859.58
  }, {
    "unit" : "",
    "quantity" : 1,
    "name" : "Zaokrouhlení",
    "tax" : 0.00,
    "currency" : "CZK",
    "unit_price" : -0.09
  } ],
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "currency" : "CZK",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T00:49:41.316+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Sending Final Invoice request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T00:49:41.704+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Final Invoice (Order 207): START
{"error":0,"error_message":"Invoice created","data":{"Invoice":{"id":"7711191","user_id":"39487","user_profile_id":"36761","client_id":"3506921","parent_id":null,"proforma_id":null,"estimate_id":null,"sequence_id":"305624","import_type":null,"import_id":null,"import_parent_id":null,"type":"regular","template":null,"tax_document":null,"name":"Faktura 000011\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":\"CZK\",\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":"test1 (Design: Franti\u0161ek | Lazura: Afromorsia | St\u0159echa: Antracit) Lazura: Afromorsia | St\u0159echa: Antracit | Design: Franti\u0161ek | P\u0159esah: 10, Doprava , Zaokrouhlen\u00ed , ","invoice_no":"11","order_no":"207","invoice_no_formatted":"000011\/2025","invoice_no_formatted_raw":"112025","invoice_no_formatted_length":"11","mask":"YYYYNNN","variable":"207","variable_raw":"207","constant":"","specific":"2","payment_type":"transfer","status":"1","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":"1.00000000000000","amount":"24859.49","vat":"3060.51","discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":"0.00","amount_paid":"0.00","deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"created":"2025-04-26 00:00:00","modified":"2025-04-26 00:49:43","recurring":null,"paydate":null,"delivery":"2025-04-26 00:00:00","taxdate":null,"accounting_date":"2025-04-26","delivery_type":"haulage","due":"2025-05-03","demo":"0","token":"2b851e9b","tags":null,"rounding":"document","vat_transfer":null,"special_vat_scheme":null,"issued_by_web":null,"summary_invoice":null,"total_amount":"27920.00","show_items_with_dph":true,"show_special_vat":false,"flag":"issued"},"Client":{"id":"3506921","user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"created":"2025-04-13 20:09:26","modified":"2025-04-13 20:09:26","notices":true},"0":{"to_pay":"27920.000000","to_pay_in_invoice_currency":"27920.00","total":"27920.00"},"InvoiceEmail":[],"PostStamp":[],"InvoiceSetting":{"signature":true,"bysquare":true,"payment_info":true,"language":"cze","online_payment":false,"summary_bg_color":"#d4eef6","force_iban":true},"InvoicePayment":[],"Tag":[],"ClientData":{"user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"notices":"1","id":3506921,"Country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true}},"MyData":{"id":"36761","user_id":"39451","country_id":"57","company_name":"Truhl\u00e1\u0159stv\u00ed Kol\u00e1\u0159","ico":"73589292","dic":"","ic_dph":"CZ8204183086","business_register":"","address":"Dru\u017estevn\u00ed 304","city":"\u0158e\u010dany nad Labem","zip":"53313","tax_payer":"1","BankAccount":[{"id":"29020","user_id":"39451","user_profile_id":"36761","currency":"CZK","default":true,"show":true,"country_id":"57","bank_name":"Fio banka a.s.","bank_code":"2010","account":"2601817728","iban":"CZ0420100000002601817728","swift":"FIOBCZPPXXX","created":"2021-09-30 09:01:03","modified":"2022-03-15 08:14:09","show_account":true}],"Logo":"[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"mobile_path\":\"imagecache\\\/media\\\/transfer\\\/img\\\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}]","Signature":"{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}","country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true},"SignatureRaw":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"LogoRaw":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}]},"Logo":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}],"Signature":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"InvoiceItem":[{"id":"24771933","invoice_id":"7711191","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"test1 (Design: Franti\u0161ek | Lazura: Afromorsia | St\u0159echa: Antracit)","description":"Lazura: Afromorsia | St\u0159echa: Antracit | Design: Franti\u0161ek | P\u0159esah: 10","sku":"test1","quantity":"1.00000","unit":"ks","unit_price":24000,"tax":12,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"0","hide_in_autocomplete":null,"unit_price_discount":24000,"item_price":24000,"item_price_no_discount":24000,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":26880,"unit_price_vat_no_discount":26880,"item_price_vat":26880,"item_price_vat_no_discount":26880,"item_price_vat_check":26880},{"id":"24771934","invoice_id":"7711191","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Doprava","description":"","sku":null,"quantity":"1.00000","unit":"ks","unit_price":859.58,"tax":21,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"1","hide_in_autocomplete":null,"unit_price_discount":859.58,"item_price":859.58,"item_price_no_discount":859.58,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":1040.09,"unit_price_vat_no_discount":1040.09,"item_price_vat":1040.09,"item_price_vat_no_discount":1040.09,"item_price_vat_check":1040.09},{"id":"24771935","invoice_id":"7711191","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Zaokrouhlen\u00ed","description":"","sku":null,"quantity":"1.00000","unit":"","unit_price":-0.09,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"2","hide_in_autocomplete":null,"unit_price_discount":-0.09,"item_price":-0.09,"item_price_no_discount":-0.09,"discount_no_vat":0,"discount_with_vat":0,"discount_with_vat_total":0,"discount_no_vat_total":0,"unit_price_vat":-0.09,"unit_price_vat_no_discount":-0.09,"item_price_vat":-0.09,"item_price_vat_no_discount":-0.09,"item_price_vat_check":-0.09}],"Summary":{"vat_base_separate":{"12":24000,"21":859.58,"0":-0.09},"vat_base_total":24859.49,"vat_separate":{"12":2880,"21":180.51,"0":-0},"vat_total":3060.51,"invoice_total":27920,"discount":0},"SummaryInvoice":{"vat_base_separate_positive":{"12":24000,"21":859.58,"0":-0.09},"vat_base_separate_negative":{"12":0,"21":0,"0":0},"vat_separate_positive":{"12":2880,"21":180.51,"0":-0},"vat_separate_negative":{"12":0,"21":0,"0":0}},"UnitCount":{"ks":2},"Paypal":false,"RelatedItems":[],"Qr":{"qr":"SPD*1.0*ACC:CZ0420100000002601817728+FIOBCZPPXXX*AM:27920*CC:CZK*MSG:000011%252F2025%2B-%2BMIROSLAV%2BSVOBODA*X-VS:207*X-SS:2","qr_type":"QrPlatba","qr_url":"https:\/\/moje.superfaktura.cz\/tools\/qrCoder?key=3243b8d89c0508e9dc0d070b7b0e0a01&text=SPD%2A1.0%2AACC%3ACZ0420100000002601817728%2BFIOBCZPPXXX%2AAM%3A27920%2ACC%3ACZK%2AMSG%3A000011%25252F2025%252B-%252BMIROSLAV%252BSVOBODA%2AX-VS%3A207%2AX-SS%3A2&size=150"},"PaymentLink":""}}
END_RESPONSE
2025-04-26T00:49:41.718+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Final Invoice API call successful for order 207.
2025-04-26T00:49:41.719+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Constructed PDF download URL with token: https://moje.superfaktura.cz/invoices/pdf/7711191/token:2b851e9b
2025-04-26T00:49:41.719+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Parsed Final Invoice response for order 207: ID=7711191, Number=000011/2025, PDF URL=https://moje.superfaktura.cz/invoices/pdf/7711191/token:2b851e9b
2025-04-26T00:49:41.725+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-5] o.e.e.s.SuperFakturaInvoiceService       : Order 207 updated with Final Invoice details.
2025-04-26T00:49:41.773+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/2
2025-04-26T00:49:41.774+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:49:41.774+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:49:41.775+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 2
2025-04-26T00:49:41.775+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 2
2025-04-26T00:49:41.786+02:00 DEBUG 22840 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:49:41.790+02:00  INFO 22840 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 2
2025-04-26T00:54:03.807+02:00  INFO 22840 --- [Eshop] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-26T00:54:03.825+02:00  INFO 22840 --- [Eshop] [Thread-6] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T00:54:03.864+02:00  INFO 22840 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T00:54:03.889+02:00  INFO 22840 --- [Eshop] [Thread-6] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T00:54:03.906+02:00  INFO 22840 --- [Eshop] [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:54:03.917+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:54:03.919+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:54:03.920+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:54:03.921+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:54:03.922+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:54:03.923+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:54:03.923+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:54:03.925+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:54:03.926+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:54:03.927+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:54:03.928+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:54:03.929+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:54:03.931+02:00  INFO 22840 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:54:03.956+02:00  INFO 22840 --- [Eshop] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T00:54:03.967+02:00  INFO 22840 --- [Eshop] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T00:54:04.379+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 22840 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:54:04.379+02:00 DEBUG 22840 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:54:04.380+02:00  INFO 22840 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:54:08.121+02:00  INFO 22840 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:54:08.351+02:00  INFO 22840 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 225 ms. Found 14 JPA repository interfaces.
2025-04-26T00:54:09.681+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:54:09.941+02:00  INFO 22840 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5538 ms
2025-04-26T00:54:11.123+02:00  INFO 22840 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:54:11.140+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:54:11.149+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:54:11.151+02:00  INFO 22840 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:54:11.233+02:00  INFO 22840 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:54:11.241+02:00  INFO 22840 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-04-26T00:54:11.261+02:00  INFO 22840 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.mariadb.jdbc.Connection@357579d8
2025-04-26T00:54:11.262+02:00  INFO 22840 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-04-26T00:54:11.268+02:00  INFO 22840 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:54:12.177+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.209+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:54:12.212+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:54:12.215+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.226+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:54:12.227+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.239+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:54:12.240+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.252+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:54:12.254+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.266+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:54:12.267+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.275+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:54:12.277+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.285+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:54:12.286+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.292+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:54:12.293+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.300+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:54:12.306+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.311+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:54:12.313+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.322+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:54:12.323+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.327+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:54:12.328+02:00  WARN 22840 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:54:12.333+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:54:14.861+02:00  INFO 22840 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:54:15.944+02:00  INFO 22840 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:54:18.555+02:00  WARN 22840 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\service\OrderService.class]: Post-processing of merged bean definition failed
2025-04-26T00:54:18.557+02:00  INFO 22840 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:54:18.558+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T00:54:18.560+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T00:54:18.561+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T00:54:18.563+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T00:54:18.565+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T00:54:18.566+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T00:54:18.567+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T00:54:18.569+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T00:54:18.570+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T00:54:18.572+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T00:54:18.573+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T00:54:18.575+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T00:54:18.576+02:00  INFO 22840 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T00:54:18.629+02:00  INFO 22840 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-04-26T00:54:18.637+02:00  INFO 22840 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-04-26T00:56:33.573+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 1584 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T00:56:33.584+02:00 DEBUG 1584 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T00:56:33.588+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T00:56:34.739+02:00  INFO 1584 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T00:56:34.741+02:00  INFO 1584 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T00:56:40.489+02:00  INFO 1584 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T00:56:40.867+02:00  INFO 1584 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 346 ms. Found 14 JPA repository interfaces.
2025-04-26T00:56:43.628+02:00  INFO 1584 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T00:56:43.663+02:00  INFO 1584 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T00:56:43.664+02:00  INFO 1584 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T00:56:43.840+02:00  INFO 1584 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T00:56:43.842+02:00  INFO 1584 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9097 ms
2025-04-26T00:56:45.051+02:00  INFO 1584 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T00:56:45.190+02:00  INFO 1584 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T00:56:45.208+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:56:45.271+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T00:56:45.283+02:00  INFO 1584 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T00:56:46.151+02:00  INFO 1584 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T00:56:46.273+02:00  INFO 1584 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T00:56:46.581+02:00  INFO 1584 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@5feee017
2025-04-26T00:56:46.587+02:00  INFO 1584 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T00:56:46.756+02:00  INFO 1584 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T00:56:48.754+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.023+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T00:56:49.043+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.049+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T00:56:49.052+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.060+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T00:56:49.063+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.070+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T00:56:49.072+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.079+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T00:56:49.083+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T00:56:49.084+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.091+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T00:56:49.093+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.102+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T00:56:49.106+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.116+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T00:56:49.118+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.136+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T00:56:49.140+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.154+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T00:56:49.157+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.167+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T00:56:49.171+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.175+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T00:56:49.178+02:00  WARN 1584 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T00:56:49.186+02:00  INFO 1584 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T00:56:51.819+02:00  INFO 1584 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T00:56:52.183+02:00  INFO 1584 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T00:56:53.967+02:00  INFO 1584 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T00:56:57.409+02:00  INFO 1584 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T00:56:57.871+02:00  INFO 1584 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T00:56:57.871+02:00  INFO 1584 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T00:56:57.905+02:00  INFO 1584 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T00:56:58.183+02:00  INFO 1584 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 207
2025-04-26T00:56:58.184+02:00  INFO 1584 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 207
2025-04-26T00:56:59.234+02:00  WARN 1584 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T00:57:00.392+02:00  INFO 1584 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T00:57:00.613+02:00  INFO 1584 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T00:57:02.066+02:00  INFO 1584 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T00:57:03.932+02:00  INFO 1584 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T00:57:04.109+02:00  INFO 1584 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T00:57:04.144+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 32.489 seconds (process running for 35.647)
2025-04-26T00:57:04.180+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T00:57:04.325+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T00:57:04.649+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T00:57:04.672+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T00:57:04.673+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T00:57:04.829+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T00:57:04.840+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T00:57:04.849+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T00:57:04.864+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T00:57:04.881+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T00:57:04.893+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T00:57:04.901+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T00:57:04.909+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T00:57:04.909+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T00:57:04.910+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T00:57:04.942+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T00:57:04.957+02:00  WARN 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T00:57:04.968+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T00:57:04.968+02:00  INFO 1584 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T00:57:05.419+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T00:57:05.419+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T00:57:05.432+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2025-04-26T00:57:05.601+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/2
2025-04-26T00:57:05.602+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:05.602+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:05.620+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 2
2025-04-26T00:57:05.621+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 2
2025-04-26T00:57:05.721+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:57:05.736+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 2
2025-04-26T00:57:13.345+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T00:57:13.347+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:13.347+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:13.348+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T00:57:13.350+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T00:57:13.405+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T00:57:13.406+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T00:57:13.415+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:13.415110700
2025-04-26T00:57:13.436+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:13.437+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:13.439+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:13.439496100
2025-04-26T00:57:13.447+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:13.448+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:13.449+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:57:13.451+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T00:57:16.005+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T00:57:16.006+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:16.007+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:16.017+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T00:57:16.018+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T00:57:16.029+02:00  WARN 1584 --- [Eshop] [http-nio-8080-exec-7] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T00:57:16.086+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T00:57:16.087+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T00:57:16.087+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T00:57:16.088+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:16.088345
2025-04-26T00:57:16.095+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:16.095+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:16.096+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:16.096611400
2025-04-26T00:57:16.103+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:16.104+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:16.105+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:57:16.105+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T00:57:16.540+02:00  WARN 1584 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-26T00:57:16.540+02:00  WARN 1584 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T00:57:18.355+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/test1
2025-04-26T00:57:18.356+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:18.356+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:18.358+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: test1
2025-04-26T00:57:18.359+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using findActiveBySlugWithDetails. Slug: test1
2025-04-26T00:57:18.396+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'test1' nalezen (with details).
2025-04-26T00:57:18.396+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: test1) <<<
2025-04-26T00:57:18.397+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 2 nalezen pro slug 'test1'.
2025-04-26T00:57:18.398+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:18.398712100
2025-04-26T00:57:18.403+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:18.403+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:18.403+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:18.403787700
2025-04-26T00:57:18.408+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:18.408+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:18.408+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:57:18.424+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : JSON-LD data vygenerována a přidána do modelu.
2025-04-26T00:57:18.424+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : DEBUG: Načtené availableTaxRates pro produkt ID 2: 2
2025-04-26T00:57:18.426+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : DEBUG: Přidávám sortedTaxRates do modelu, velikost: 2
2025-04-26T00:57:18.426+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : Available designs: 1, glazes: 1, roofColors: 1
2025-04-26T00:57:18.426+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro STANDARD produkt ID 2
2025-04-26T00:57:18.427+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:18.427339500
2025-04-26T00:57:18.432+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:18.432+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:18.432+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:18.432280800
2025-04-26T00:57:18.436+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:18.436+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:18.437+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T00:57:18.437+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (STANDARD). Vracím 'produkt-detail-standard'. Model keys: [currentGlobalCurrency, product, initialCustomPriceCZK, initialCustomPriceEUR, initialCustomPriceError, jsonLdData, availableTaxRates, availableDesigns, availableGlazes, availableRoofColors, priceInfo, cartItemDto]
2025-04-26T00:57:18.559+02:00  WARN 1584 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T00:57:18.538+02:00 ERROR 1584 --- [Eshop] [http-nio-8080-exec-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-4] Exception processing template "produkt-detail-standard": An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1437) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.attoparser.ParseException: An error happened during template rendering
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 127 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateOutputException: An error happened during template rendering
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:75) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleText(ProcessorTemplateHandler.java:587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.beHandled(Text.java:97) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.GatheringModelProcessable.process(GatheringModelProcessable.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 129 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#request.requestURL" (template: "layout/main" - line 256, col 32)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.process(TemplateManager.java:519) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.LazyProcessingCharSequence.writeUnresolved(LazyProcessingCharSequence.java:85) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.AbstractLazyCharSequence.write(AbstractLazyCharSequence.java:103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.AbstractTextualTemplateEvent.writeContent(AbstractTextualTemplateEvent.java:224) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.write(Text.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:71) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 151 common frames omitted
Caused by: java.lang.IllegalArgumentException: The 'request','session','servletContext' and 'response' expression utility objects are no longer available by default for template expressions and their use is not recommended. In cases where they are really needed, they should be manually added as context variables.
	at org.thymeleaf.standard.expression.StandardExpressionObjectFactory.buildObject(StandardExpressionObjectFactory.java:207) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.SpringStandardExpressionObjectFactory.buildObject(SpringStandardExpressionObjectFactory.java:110) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.DialectSetConfiguration$AggregateExpressionObjectFactory.buildObject(DialectSetConfiguration.java:785) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.expression.ExpressionObjects.getObject(ExpressionObjects.java:108) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext.lookupVariable(ThymeleafEvaluationContext.java:134) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.expression.spel.ExpressionState.lookupVariable(ExpressionState.java:173) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.VariableReference.getValueInternal(VariableReference.java:88) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:60) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:96) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 168 common frames omitted

2025-04-26T00:57:18.573+02:00 ERROR 1584 --- [Eshop] [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")] with root cause

java.lang.IllegalArgumentException: The 'request','session','servletContext' and 'response' expression utility objects are no longer available by default for template expressions and their use is not recommended. In cases where they are really needed, they should be manually added as context variables.
	at org.thymeleaf.standard.expression.StandardExpressionObjectFactory.buildObject(StandardExpressionObjectFactory.java:207) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.SpringStandardExpressionObjectFactory.buildObject(SpringStandardExpressionObjectFactory.java:110) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.DialectSetConfiguration$AggregateExpressionObjectFactory.buildObject(DialectSetConfiguration.java:785) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.expression.ExpressionObjects.getObject(ExpressionObjects.java:108) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext.lookupVariable(ThymeleafEvaluationContext.java:134) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.expression.spel.ExpressionState.lookupVariable(ExpressionState.java:173) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.VariableReference.getValueInternal(VariableReference.java:88) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:60) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:96) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.process(TemplateManager.java:519) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.LazyProcessingCharSequence.writeUnresolved(LazyProcessingCharSequence.java:85) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.AbstractLazyCharSequence.write(AbstractLazyCharSequence.java:103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.AbstractTextualTemplateEvent.writeContent(AbstractTextualTemplateEvent.java:224) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.write(Text.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:71) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleText(ProcessorTemplateHandler.java:587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.beHandled(Text.java:97) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.GatheringModelProcessable.process(GatheringModelProcessable.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1437) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T00:57:18.592+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/test1
2025-04-26T00:57:18.594+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:18.594+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:18.610+02:00 ERROR 1584 --- [Eshop] [http-nio-8080-exec-4] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/produkt/test1] and exception [An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2025-04-26T00:57:27.401+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik/pridat
2025-04-26T00:57:27.401+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:27.401+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:27.455+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Raw request parameters: _csrf=[9_wiMezTA0JEl659vLgS0UT5c8--2W_0rqK-b_jiOE0Ibr2cxc4WV93lYiRpp8tK35Um5XzJXvaJ6lzZysSGCc_XWitpWIuu], productId=[2], isCustom=[false], selectedDesignId=[2], selectedGlazeId=[1], selectedRoofColorId=[1], selectedTaxRateId=[2], quantity=[1]
2025-04-26T00:57:27.455+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : --- addToCart START --- Cart hash: 1410252185
2025-04-26T00:57:27.455+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Received CartItemDto (after manual 'isCustom' set): CartItemDto(productId=2, quantity=1, isCustom=false, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=2, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=null)
2025-04-26T00:57:27.464+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details) using findByIdWithDetails. ID: 2
2025-04-26T00:57:27.501+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 2 nalezen (with details).
2025-04-26T00:57:27.501+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 2) <<<
2025-04-26T00:57:27.503+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Processing Cart Item: isCustom = false
2025-04-26T00:57:27.517+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Applied Tax Rate 12.00% (RC from TaxRate entity: false)
2025-04-26T00:57:27.518+02:00 ERROR 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Chyba: Produkt ID 2 je custom, ale zpracovává se jako standardní!
2025-04-26T00:57:27.518+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Final unit prices set for CartItem: CZK=24000.00, EUR=1000.00
2025-04-26T00:57:27.518+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Built variant info: Design: František | Lazura: Afromorsia|Střecha: Antracit
2025-04-26T00:57:27.518+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Generated Cart Item ID: P2-T2-S-D2-G1-RC1
2025-04-26T00:57:27.518+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.Cart           : addItem called for cart hash: 945763271. Item ID: P2-T2-S-D2-G1-RC1, Product ID: 2
2025-04-26T00:57:27.519+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.Cart           : Added new cart item ID: P2-T2-S-D2-G1-RC1. Cart hash: 945763271
2025-04-26T00:57:27.519+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.Cart           : Cart items map after addItem (hash: 945763271): {P2-T2-S-D2-G1-RC1=CartItem(cartItemId=P2-T2-S-D2-G1-RC1, productId=2, productName=test1, productSlug=test1, imageUrl=/images/placeholder.png, quantity=1, isCustom=false, length=100.00, width=100.00, height=100.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=24000.00, unitPriceEUR=1000.00, variantInfo=Design: František | Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T00:57:27.527+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : --- addToCart END --- Item added/updated. Cart hash: 1410252185, Items count: 1
2025-04-26T00:57:27.564+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-26T00:57:27.564+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:27.564+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:27.565+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: 1410252185
2025-04-26T00:57:27.565+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Cart items before display: {P2-T2-S-D2-G1-RC1=CartItem(cartItemId=P2-T2-S-D2-G1-RC1, productId=2, productName=test1, productSlug=test1, imageUrl=/images/placeholder.png, quantity=1, isCustom=false, length=100.00, width=100.00, height=100.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=24000.00, unitPriceEUR=1000.00, variantInfo=Design: František | Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T00:57:27.565+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 1 items.
2025-04-26T00:57:27.565+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-26T00:57:27.567+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Cart subtotal (CZK): 24000.00
2025-04-26T00:57:27.567+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Validated coupon: None, Discount amount (CZK): 0
2025-04-26T00:57:27.568+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Total VAT (CZK): 2880.00
2025-04-26T00:57:27.569+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : VAT Breakdown (CZK): {0.12=2880.00}
2025-04-26T00:57:27.569+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Total Price Before Shipping (CZK): 26880.00
2025-04-26T00:57:27.569+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Total Price Without Tax After Discount (CZK): 24000.00
2025-04-26T00:57:27.570+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-26T00:57:27.680+02:00  WARN 1584 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T00:57:29.392+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna
2025-04-26T00:57:29.393+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:29.393+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:29.395+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Displaying checkout page for user: mirsvobo@gmail.com in currency: CZK
2025-04-26T00:57:29.404+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Initialized checkout form DTO from logged-in customer 1.
2025-04-26T00:57:29.404+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Added shippingTaxRate 0.21 to model.
2025-04-26T00:57:29.404+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T00:57:29.406+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T00:57:30.129+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T00:57:30.129+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Preparing checkout summary model data for currency: CZK
2025-04-26T00:57:30.130+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Rounding calculation: originalTotalPrice=27920.09, roundedTotalPrice=27920, roundingDifference=0.09
2025-04-26T00:57:30.130+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Checkout summary model prepared: subtotal=24000.00, itemDiscount=0, itemVat=2880.00, origShipCost=859.58, shipDiscount=0, finalShipCost=859.58, finalShipTax=180.51, originalTotal=27920.09, roundingDiff=0.09, finalRoundedTotal=27920, totalVatWithShip=3060.51, shippingError='null'
2025-04-26T00:57:30.131+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Checkout page model prepared for mirsvobo@gmail.com. Currency: CZK
2025-04-26T00:57:36.578+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/calculate-shipping
2025-04-26T00:57:36.578+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:36.578+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:36.633+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : AJAX: Calculating shipping for user mirsvobo@gmail.com and currency CZK with address: ShippingAddressDto(street=Masarykovo náměstí 2799, city=Pardubice, zipCode=53002, country=Česká republika)
2025-04-26T00:57:36.640+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T00:57:36.640+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T00:57:36.713+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T00:57:36.714+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : AJAX: Calculated original shipping cost (no tax): 859.58
2025-04-26T00:57:36.714+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : AJAX: Shipping calculation successful for user mirsvobo@gmail.com. Response: ShippingCalculationResponseDto(shippingCostNoTax=859.58, shippingTax=180.51, totalPrice=27920.09, vatBreakdown={0.12=2880.00}, totalVatWithShipping=3060.51, errorMessage=null, currencySymbol=Kč, originalShippingCostNoTax=859.58, originalShippingTax=180.51, shippingDiscountAmount=0)
2025-04-26T00:57:41.358+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/odeslat
2025-04-26T00:57:41.358+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:41.358+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:41.374+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Processing checkout submission for user: mirsvobo@gmail.com in currency: CZK. Apply RC: true
2025-04-26T00:57:41.374+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Set email in DTO from principal for logged-in user: mirsvobo@gmail.com
2025-04-26T00:57:41.375+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Getting logged-in customer: mirsvobo@gmail.com
2025-04-26T00:57:41.380+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Customer 1 address matches DTO, no update needed.
2025-04-26T00:57:41.380+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Using valid shipping costs from form: NoTax=859.58, Tax=180.51
2025-04-26T00:57:41.381+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Attempting to create order with request: CreateOrderRequest(customerId=1, useCustomerAddresses=true, paymentMethod=BANK_TRANSFER, currency=CZK, customerNote=, couponCode=null, items=[CartItemDto(productId=2, quantity=1, isCustom=false, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=2, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=[])], shippingCostNoTax=859.58, shippingTax=180.51), Apply RC Flag: true
2025-04-26T00:57:41.384+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK. Apply RC: true
2025-04-26T00:57:41.384+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-26T00:57:41.389+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-26T00:57:41.389+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-26T00:57:41.389+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Invoice recipient is person: Miroslav Svoboda
2025-04-26T00:57:41.389+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-26T00:57:41.389+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-26T00:57:41.389+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-26T00:57:41.389+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-26T00:57:41.389+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2, TaxRate ID: 2, Apply RC Flag: true
2025-04-26T00:57:41.419+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Selected Tax Rate ID 2 ('Snížená', Rate: 0.1200) validated for Product ID 2
2025-04-26T00:57:41.421+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Attribute surcharge calculated for currency CZK: 0
2025-04-26T00:57:41.421+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [processCartItem] Standard Base Unit Price (No Tax, Currency: CZK): 24000.00
2025-04-26T00:57:41.421+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-26T00:57:41.421+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: František | Lazura: Afromorsia | Střecha: Antracit
2025-04-26T00:57:41.421+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T00:57:41.421779
2025-04-26T00:57:41.427+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T00:57:41.427+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T00:57:41.427+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [processCartItem] Final Unit Price (No Tax, Currency: CZK): 24000.00
2025-04-26T00:57:41.427+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Applying Reverse Charge flag to OrderItem (Product ID: 2) based on checkout selection. Kept original tax rate: 0.1200
2025-04-26T00:57:41.427+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Recalculated Tax (RC=true): UnitTax=0, TotalTax=0 for OrderItem ID (new)
2025-04-26T00:57:41.427+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final recalculated prices for OrderItem ID (new): UnitPriceWithoutTax=24000.00, UnitTaxAmount=0.00, UnitPriceWithTax=24000.00, TotalPriceWithoutTax=24000.00, TotalTaxAmount=0.00, TotalPriceWithTax=24000.00
2025-04-26T00:57:41.427+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finished processCartItem for Product ID: 2. RC applied: true, Total Price w/ Tax: 24000.00, Selected Rate ID: 2
2025-04-26T00:57:41.428+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 24000.00, Running Item Tax: 0.00
2025-04-26T00:57:41.428+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 24000.00, Final Item Tax: 0.00
2025-04-26T00:57:41.428+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-26T00:57:41.428+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 859.58, Tax: 180.51, Estimated Rate: 0.2100
2025-04-26T00:57:41.428+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-26T00:57:41.428+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=24859.58, TotalTax=180.51, OriginalTotalWithTax=25040.09, RoundedTotalToSave=25040
2025-04-26T00:57:41.428+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-26T00:57:41.429+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-26T00:57:41.429+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-26T00:57:41.429+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-26T00:57:41.429+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-26T00:57:41.429+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 208
2025-04-26T00:57:41.429+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Generated Order Code: 208
2025-04-26T00:57:41.429+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-26T00:57:41.459+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Order 208 created successfully. Total: 25040 CZK
2025-04-26T00:57:41.459+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 208...
2025-04-26T00:57:41.462+02:00  WARN 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Mismatch between calculated rounded price (27920) and saved order price (25040) for order 208
2025-04-26T00:57:41.462+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Order 208 successfully created with currency CZK for user: mirsvobo@gmail.com
2025-04-26T00:57:41.462+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.Cart           : clearCart called for cart hash: 945763271. Clearing items and coupon.
2025-04-26T00:57:41.462+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Session cart cleared for mirsvobo@gmail.com
2025-04-26T00:57:41.479+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T00:57:41.479+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:41.479+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:41.485+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T00:57:46.645+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/2
2025-04-26T00:57:46.645+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:46.645+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:46.646+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 2
2025-04-26T00:57:46.646+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 2
2025-04-26T00:57:46.674+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:57:46.679+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 2
2025-04-26T00:57:48.882+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T00:57:48.882+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:48.882+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:48.884+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:57:48.886+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T00:57:48.893+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Found 3 orders matching criteria using specifications.
2025-04-26T00:57:48.895+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:57:48.904+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=3, TotalElements=3
2025-04-26T00:57:50.335+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/3
2025-04-26T00:57:50.336+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:50.336+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:50.337+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 3
2025-04-26T00:57:50.337+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 3
2025-04-26T00:57:50.369+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:57:50.376+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 3
2025-04-26T00:57:52.218+02:00  INFO 1584 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Order confirmation email sent successfully to mirsvobo@gmail.com for order 208
2025-04-26T00:57:52.406+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/3/generate-final
2025-04-26T00:57:52.406+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:52.406+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:52.406+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura FINAL invoice for order ID: 3
2025-04-26T00:57:52.408+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 3
2025-04-26T00:57:52.452+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Attempting to generate SuperFaktura FINAL invoice for order: 208. Order currency: CZK
2025-04-26T00:57:52.453+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Setting invoice-level vat_transfer to: 1 for order 208
2025-04-26T00:57:52.454+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Calculating rounding difference for order 208: Original=25040.09, Rounded=25040.00, Difference=0.09
2025-04-26T00:57:52.454+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Added rounding item to SF payload for order 208: Amount=-0.09
2025-04-26T00:57:52.454+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Not setting 'already_paid' for final invoice 208. Relying on SF deduction via linked proforma_id.
2025-04-26T00:57:52.454+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Not setting 'already_paid' for final invoice 208. Relying on SF deduction via linked proforma_id or payment status.
2025-04-26T00:57:52.457+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Final Invoice - Order 208):
{
  "Invoice" : {
    "order_no" : "208",
    "date" : "2025-04-26",
    "note" : "",
    "due_date" : "2025-05-10",
    "rounding" : "document",
    "language" : "cze",
    "specific" : "3",
    "type" : "regular",
    "vat_transfer" : 1,
    "payment_type" : "transfer",
    "delivery_date" : "2025-04-26",
    "variable" : "208",
    "currency" : "CZK"
  },
  "InvoiceItem" : [ {
    "unit" : "ks",
    "quantity" : 1,
    "name" : "test1",
    "description" : "Design: František | Lazura: Afromorsia | Střecha: Antracit | Přesah: 10",
    "tax" : 12.00,
    "currency" : "CZK",
    "unit_price" : 24000.00,
    "sku" : "test1",
    "vat_transfer" : 1
  }, {
    "unit" : "ks",
    "quantity" : 1,
    "name" : "Doprava",
    "tax" : 21.00,
    "currency" : "CZK",
    "unit_price" : 859.58
  }, {
    "unit" : "",
    "quantity" : 1,
    "name" : "Zaokrouhlení",
    "tax" : 0.00,
    "currency" : "CZK",
    "unit_price" : -0.09
  } ],
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "currency" : "CZK",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T00:57:52.457+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Sending Final Invoice request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T00:57:52.861+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Final Invoice (Order 208): START
{"error":0,"error_message":"Invoice created","data":{"Invoice":{"id":"7711196","user_id":"39487","user_profile_id":"36761","client_id":"3506921","parent_id":null,"proforma_id":null,"estimate_id":null,"sequence_id":"305624","import_type":null,"import_id":null,"import_parent_id":null,"type":"regular","template":null,"tax_document":null,"name":"Faktura 000011\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":\"CZK\",\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":"test1 Design: Franti\u0161ek | Lazura: Afromorsia | St\u0159echa: Antracit | P\u0159esah: 10, Doprava , Zaokrouhlen\u00ed , ","invoice_no":"11","order_no":"208","invoice_no_formatted":"000011\/2025","invoice_no_formatted_raw":"112025","invoice_no_formatted_length":"11","mask":"YYYYNNN","variable":"208","variable_raw":"208","constant":"","specific":"3","payment_type":"transfer","status":"1","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":"1.00000000000000","amount":"24859.49","vat":"0.00","discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":"0.00","amount_paid":"0.00","deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"created":"2025-04-26 00:00:00","modified":"2025-04-26 00:57:54","recurring":null,"paydate":null,"delivery":"2025-04-26 00:00:00","taxdate":null,"accounting_date":"2025-04-26","delivery_type":"haulage","due":"2025-05-03","demo":"0","token":"2b851e9b","tags":null,"rounding":"document","vat_transfer":"1","special_vat_scheme":null,"issued_by_web":null,"summary_invoice":null,"total_amount":"24859.49","show_items_with_dph":true,"czechToCzechVatTransfer":true,"show_special_vat":false,"flag":"issued"},"Client":{"id":"3506921","user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"created":"2025-04-13 20:09:26","modified":"2025-04-13 20:09:26","notices":true},"0":{"to_pay":"24859.490000","to_pay_in_invoice_currency":"24859.49","total":"24859.49"},"InvoiceEmail":[],"PostStamp":[],"InvoiceSetting":{"signature":true,"bysquare":true,"payment_info":true,"language":"cze","online_payment":false,"summary_bg_color":"#d4eef6","force_iban":true},"InvoicePayment":[],"Tag":[],"ClientData":{"user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"notices":"1","id":3506921,"Country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true}},"MyData":{"id":"36761","user_id":"39451","country_id":"57","company_name":"Truhl\u00e1\u0159stv\u00ed Kol\u00e1\u0159","ico":"73589292","dic":"","ic_dph":"CZ8204183086","business_register":"","address":"Dru\u017estevn\u00ed 304","city":"\u0158e\u010dany nad Labem","zip":"53313","tax_payer":"1","BankAccount":[{"id":"29020","user_id":"39451","user_profile_id":"36761","currency":"CZK","default":true,"show":true,"country_id":"57","bank_name":"Fio banka a.s.","bank_code":"2010","account":"2601817728","iban":"CZ0420100000002601817728","swift":"FIOBCZPPXXX","created":"2021-09-30 09:01:03","modified":"2022-03-15 08:14:09","show_account":true}],"Logo":"[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"mobile_path\":\"imagecache\\\/media\\\/transfer\\\/img\\\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}]","Signature":"{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}","country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true},"SignatureRaw":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"LogoRaw":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}]},"Logo":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}],"Signature":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"InvoiceItem":[{"id":"24771940","invoice_id":"7711196","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"test1","description":"Design: Franti\u0161ek | Lazura: Afromorsia | St\u0159echa: Antracit | P\u0159esah: 10","sku":"test1","quantity":"1.00000","unit":"ks","unit_price":24000,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"0","hide_in_autocomplete":null,"original_tax":12,"unit_price_discount":24000,"item_price":24000,"item_price_no_discount":24000,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":24000,"unit_price_vat_no_discount":24000,"item_price_vat":24000,"item_price_vat_no_discount":24000,"item_price_vat_check":24000},{"id":"24771941","invoice_id":"7711196","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Doprava","description":"","sku":null,"quantity":"1.00000","unit":"ks","unit_price":859.58,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"1","hide_in_autocomplete":null,"original_tax":21,"unit_price_discount":859.58,"item_price":859.58,"item_price_no_discount":859.58,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":859.58,"unit_price_vat_no_discount":859.58,"item_price_vat":859.58,"item_price_vat_no_discount":859.58,"item_price_vat_check":859.58},{"id":"24771942","invoice_id":"7711196","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Zaokrouhlen\u00ed","description":"","sku":null,"quantity":"1.00000","unit":"","unit_price":-0.09,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"2","hide_in_autocomplete":null,"original_tax":0,"unit_price_discount":-0.09,"item_price":-0.09,"item_price_no_discount":-0.09,"discount_no_vat":0,"discount_with_vat":0,"discount_with_vat_total":0,"discount_no_vat_total":0,"unit_price_vat":-0.09,"unit_price_vat_no_discount":-0.09,"item_price_vat":-0.09,"item_price_vat_no_discount":-0.09,"item_price_vat_check":-0.09}],"Summary":{"vat_base_separate":{"12":24000,"21":859.58,"0":-0.09},"vat_base_total":24859.49,"vat_separate":{"12":0,"21":0,"0":0},"transfer_vat_base_separate":{"12":24000,"21":859.58,"0":-0.09},"vat_total":0,"invoice_total":24859.49,"discount":0},"SummaryInvoice":{"vat_base_separate_positive":{"12":24000,"21":859.58},"vat_separate_positive":{"12":0,"21":0},"vat_base_separate_negative":[-0.09],"vat_separate_negative":[0]},"UnitCount":{"ks":2},"Paypal":false,"RelatedItems":[],"Qr":{"qr":"SPD*1.0*ACC:CZ0420100000002601817728+FIOBCZPPXXX*AM:24859.49*CC:CZK*MSG:000011%252F2025%2B-%2BMIROSLAV%2BSVOBODA*X-VS:208*X-SS:3","qr_type":"QrPlatba","qr_url":"https:\/\/moje.superfaktura.cz\/tools\/qrCoder?key=9a9b37c8a3f30637f5726c678a6b0f18&text=SPD%2A1.0%2AACC%3ACZ0420100000002601817728%2BFIOBCZPPXXX%2AAM%3A24859.49%2ACC%3ACZK%2AMSG%3A000011%25252F2025%252B-%252BMIROSLAV%252BSVOBODA%2AX-VS%3A208%2AX-SS%3A3&size=150"},"PaymentLink":""}}
END_RESPONSE
2025-04-26T00:57:52.876+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Final Invoice API call successful for order 208.
2025-04-26T00:57:52.876+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Constructed PDF download URL with token: https://moje.superfaktura.cz/invoices/pdf/7711196/token:2b851e9b
2025-04-26T00:57:52.876+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Parsed Final Invoice response for order 208: ID=7711196, Number=000011/2025, PDF URL=https://moje.superfaktura.cz/invoices/pdf/7711196/token:2b851e9b
2025-04-26T00:57:52.879+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-6] o.e.e.s.SuperFakturaInvoiceService       : Order 208 updated with Final Invoice details.
2025-04-26T00:57:52.899+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/3
2025-04-26T00:57:52.899+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T00:57:52.899+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T00:57:52.901+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 3
2025-04-26T00:57:52.901+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 3
2025-04-26T00:57:52.911+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T00:57:52.916+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 3
2025-04-26T01:01:28.760+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/208
2025-04-26T01:01:28.760+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:01:28.760+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:01:28.769+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 208
2025-04-26T01:01:28.770+02:00 DEBUG 1584 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 208
2025-04-26T01:01:28.796+02:00  INFO 1584 --- [Eshop] [http-nio-8080-exec-1] o.e.e.c.CustomerAccountController        : Order detail for CODE 208 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T01:05:45.207+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T01:05:45.246+02:00  INFO 1584 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T01:05:45.286+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T01:05:45.311+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T01:05:45.332+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T01:05:45.334+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T01:05:45.336+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T01:05:45.338+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T01:05:45.338+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T01:05:45.339+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T01:05:45.340+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T01:05:45.341+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T01:05:45.342+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T01:05:45.342+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T01:05:45.343+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T01:05:45.343+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T01:05:45.345+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T01:05:45.447+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T01:05:45.469+02:00  INFO 1584 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T01:09:10.399+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 24356 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T01:09:10.406+02:00 DEBUG 24356 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T01:09:10.409+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T01:09:11.292+02:00  INFO 24356 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T01:09:11.293+02:00  INFO 24356 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T01:09:17.025+02:00  INFO 24356 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T01:09:17.375+02:00  INFO 24356 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 316 ms. Found 14 JPA repository interfaces.
2025-04-26T01:09:20.879+02:00  INFO 24356 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T01:09:20.925+02:00  INFO 24356 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T01:09:20.928+02:00  INFO 24356 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T01:09:21.154+02:00  INFO 24356 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T01:09:21.156+02:00  INFO 24356 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9860 ms
2025-04-26T01:09:22.333+02:00  INFO 24356 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T01:09:22.521+02:00  INFO 24356 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T01:09:22.542+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T01:09:22.635+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T01:09:22.649+02:00  INFO 24356 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T01:09:23.645+02:00  INFO 24356 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T01:09:23.748+02:00  INFO 24356 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T01:09:24.128+02:00  INFO 24356 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@401b507
2025-04-26T01:09:24.136+02:00  INFO 24356 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T01:09:24.382+02:00  INFO 24356 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T01:09:36.037+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.335+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T01:09:36.381+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.391+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T01:09:36.395+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.405+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T01:09:36.409+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T01:09:36.411+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.422+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T01:09:36.424+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.436+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T01:09:36.439+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.449+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T01:09:36.451+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.462+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T01:09:36.466+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.474+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T01:09:36.476+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.488+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T01:09:36.490+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.502+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T01:09:36.506+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.532+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T01:09:36.535+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.541+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T01:09:36.544+02:00  WARN 24356 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:09:36.550+02:00  INFO 24356 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T01:09:41.329+02:00  INFO 24356 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T01:09:41.606+02:00  INFO 24356 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T01:09:42.940+02:00  INFO 24356 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T01:09:45.793+02:00  INFO 24356 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T01:09:46.195+02:00  INFO 24356 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T01:09:46.196+02:00  INFO 24356 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T01:09:46.227+02:00  INFO 24356 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T01:09:46.441+02:00  INFO 24356 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 208
2025-04-26T01:09:46.442+02:00  INFO 24356 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 208
2025-04-26T01:09:46.892+02:00  WARN 24356 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T01:09:47.399+02:00  INFO 24356 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T01:09:47.510+02:00  INFO 24356 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T01:09:48.191+02:00  INFO 24356 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T01:09:49.434+02:00  INFO 24356 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T01:09:49.556+02:00  INFO 24356 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T01:09:49.580+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 41.25 seconds (process running for 43.664)
2025-04-26T01:09:49.606+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T01:09:49.697+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T01:09:49.913+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T01:09:49.928+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T01:09:49.928+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T01:09:50.032+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T01:09:50.047+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T01:09:50.054+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T01:09:50.061+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T01:09:50.074+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T01:09:50.082+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T01:09:50.090+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T01:09:50.098+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T01:09:50.098+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T01:09:50.099+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T01:09:50.120+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T01:09:50.139+02:00  WARN 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T01:09:50.145+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T01:09:50.146+02:00  INFO 24356 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T01:09:50.707+02:00  INFO 24356 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T01:09:50.707+02:00  INFO 24356 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T01:09:50.713+02:00  INFO 24356 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-04-26T01:09:53.453+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/208
2025-04-26T01:09:53.454+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:09:53.454+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:09:53.482+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-1] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 208
2025-04-26T01:09:53.483+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 208
2025-04-26T01:09:54.005+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-1] o.e.e.c.CustomerAccountController        : Order detail for CODE 208 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T01:10:01.418+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T01:10:01.419+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:01.419+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:01.419+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T01:10:01.420+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T01:10:01.459+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T01:10:01.459+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T01:10:01.464+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:01.464176100
2025-04-26T01:10:01.474+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:01.475+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:01.476+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:01.476736400
2025-04-26T01:10:01.480+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:01.481+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:01.481+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T01:10:01.482+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T01:10:03.815+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T01:10:03.815+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:03.816+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:03.819+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T01:10:03.819+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T01:10:03.824+02:00  WARN 24356 --- [Eshop] [http-nio-8080-exec-5] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T01:10:03.852+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T01:10:03.853+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T01:10:03.853+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T01:10:03.853+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:03.853162300
2025-04-26T01:10:03.856+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:03.856+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:03.856+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:03.856145
2025-04-26T01:10:03.859+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:03.859+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:03.859+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T01:10:03.859+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T01:10:04.004+02:00  WARN 24356 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-26T01:10:04.004+02:00  WARN 24356 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:10:06.097+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/test1
2025-04-26T01:10:06.099+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:06.099+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:06.102+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: test1
2025-04-26T01:10:06.102+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using findActiveBySlugWithDetails. Slug: test1
2025-04-26T01:10:06.137+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'test1' nalezen (with details).
2025-04-26T01:10:06.137+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: test1) <<<
2025-04-26T01:10:06.138+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 2 nalezen pro slug 'test1'.
2025-04-26T01:10:06.139+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:06.139292700
2025-04-26T01:10:06.143+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:06.143+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:06.143+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:06.143726900
2025-04-26T01:10:06.148+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:06.148+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:06.148+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T01:10:06.154+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : JSON-LD data vygenerována a přidána do modelu.
2025-04-26T01:10:06.155+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : DEBUG: Načtené availableTaxRates pro produkt ID 2: 2
2025-04-26T01:10:06.155+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : DEBUG: Přidávám sortedTaxRates do modelu, velikost: 2
2025-04-26T01:10:06.155+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : Available designs: 1, glazes: 1, roofColors: 1
2025-04-26T01:10:06.155+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro STANDARD produkt ID 2
2025-04-26T01:10:06.156+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:06.156746600
2025-04-26T01:10:06.160+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:06.161+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:06.161+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:06.161674800
2025-04-26T01:10:06.165+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:06.165+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:06.165+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T01:10:06.165+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (STANDARD). Vracím 'produkt-detail-standard'. Model keys: [currentGlobalCurrency, product, initialCustomPriceCZK, initialCustomPriceEUR, initialCustomPriceError, jsonLdData, availableTaxRates, availableDesigns, availableGlazes, availableRoofColors, priceInfo, cartItemDto]
2025-04-26T01:10:06.291+02:00  WARN 24356 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:10:06.308+02:00 ERROR 24356 --- [Eshop] [http-nio-8080-exec-6] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-6] Exception processing template "produkt-detail-standard": An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1437) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.attoparser.ParseException: An error happened during template rendering
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 127 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateOutputException: An error happened during template rendering
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:75) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleText(ProcessorTemplateHandler.java:587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.beHandled(Text.java:97) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.GatheringModelProcessable.process(GatheringModelProcessable.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 129 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#request.requestURL" (template: "layout/main" - line 256, col 32)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.process(TemplateManager.java:519) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.LazyProcessingCharSequence.writeUnresolved(LazyProcessingCharSequence.java:85) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.AbstractLazyCharSequence.write(AbstractLazyCharSequence.java:103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.AbstractTextualTemplateEvent.writeContent(AbstractTextualTemplateEvent.java:224) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.write(Text.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:71) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 151 common frames omitted
Caused by: java.lang.IllegalArgumentException: The 'request','session','servletContext' and 'response' expression utility objects are no longer available by default for template expressions and their use is not recommended. In cases where they are really needed, they should be manually added as context variables.
	at org.thymeleaf.standard.expression.StandardExpressionObjectFactory.buildObject(StandardExpressionObjectFactory.java:207) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.SpringStandardExpressionObjectFactory.buildObject(SpringStandardExpressionObjectFactory.java:110) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.DialectSetConfiguration$AggregateExpressionObjectFactory.buildObject(DialectSetConfiguration.java:785) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.expression.ExpressionObjects.getObject(ExpressionObjects.java:108) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext.lookupVariable(ThymeleafEvaluationContext.java:134) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.expression.spel.ExpressionState.lookupVariable(ExpressionState.java:173) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.VariableReference.getValueInternal(VariableReference.java:88) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:60) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:96) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 168 common frames omitted

2025-04-26T01:10:06.340+02:00 ERROR 24356 --- [Eshop] [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")] with root cause

java.lang.IllegalArgumentException: The 'request','session','servletContext' and 'response' expression utility objects are no longer available by default for template expressions and their use is not recommended. In cases where they are really needed, they should be manually added as context variables.
	at org.thymeleaf.standard.expression.StandardExpressionObjectFactory.buildObject(StandardExpressionObjectFactory.java:207) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.SpringStandardExpressionObjectFactory.buildObject(SpringStandardExpressionObjectFactory.java:110) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.DialectSetConfiguration$AggregateExpressionObjectFactory.buildObject(DialectSetConfiguration.java:785) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.expression.ExpressionObjects.getObject(ExpressionObjects.java:108) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext.lookupVariable(ThymeleafEvaluationContext.java:134) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.expression.spel.ExpressionState.lookupVariable(ExpressionState.java:173) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.VariableReference.getValueInternal(VariableReference.java:88) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:60) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:96) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.process(TemplateManager.java:519) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.LazyProcessingCharSequence.writeUnresolved(LazyProcessingCharSequence.java:85) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.AbstractLazyCharSequence.write(AbstractLazyCharSequence.java:103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.AbstractTextualTemplateEvent.writeContent(AbstractTextualTemplateEvent.java:224) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.write(Text.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:71) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleText(ProcessorTemplateHandler.java:587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.beHandled(Text.java:97) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.GatheringModelProcessable.process(GatheringModelProcessable.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1437) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T01:10:06.354+02:00  WARN 24356 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:10:06.363+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/test1
2025-04-26T01:10:06.364+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:06.364+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:06.381+02:00 ERROR 24356 --- [Eshop] [http-nio-8080-exec-6] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/produkt/test1] and exception [An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2025-04-26T01:10:17.081+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik/pridat
2025-04-26T01:10:17.082+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:17.082+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:17.131+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Raw request parameters: _csrf=[wgn-PV0Bw6AIW0hgW73V6EVBGE6bitKOzfxR2VmgmW9M15dQ8DvKW2w3osYlay1XOJDh3H1xNXesueGjqZppv26V-wkt4aFi], productId=[2], isCustom=[false], selectedDesignId=[2], selectedGlazeId=[1], selectedRoofColorId=[1], selectedTaxRateId=[2], quantity=[1]
2025-04-26T01:10:17.131+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : --- addToCart START --- Cart hash: 1442027067
2025-04-26T01:10:17.131+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Received CartItemDto (after manual 'isCustom' set): CartItemDto(productId=2, quantity=1, isCustom=false, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=2, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=null)
2025-04-26T01:10:17.138+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details) using findByIdWithDetails. ID: 2
2025-04-26T01:10:17.168+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 2 nalezen (with details).
2025-04-26T01:10:17.168+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 2) <<<
2025-04-26T01:10:17.169+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Processing Cart Item: isCustom = false
2025-04-26T01:10:17.180+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Applied Tax Rate 12.00% (RC from TaxRate entity: false)
2025-04-26T01:10:17.180+02:00 ERROR 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Chyba: Produkt ID 2 je custom, ale zpracovává se jako standardní!
2025-04-26T01:10:17.180+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Final unit prices set for CartItem: CZK=24000.00, EUR=1000.00
2025-04-26T01:10:17.180+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Built variant info: Design: František | Lazura: Afromorsia|Střecha: Antracit
2025-04-26T01:10:17.180+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Generated Cart Item ID: P2-T2-S-D2-G1-RC1
2025-04-26T01:10:17.181+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.Cart           : addItem called for cart hash: 1885595306. Item ID: P2-T2-S-D2-G1-RC1, Product ID: 2
2025-04-26T01:10:17.181+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.Cart           : Added new cart item ID: P2-T2-S-D2-G1-RC1. Cart hash: 1885595306
2025-04-26T01:10:17.181+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.Cart           : Cart items map after addItem (hash: 1885595306): {P2-T2-S-D2-G1-RC1=CartItem(cartItemId=P2-T2-S-D2-G1-RC1, productId=2, productName=test1, productSlug=test1, imageUrl=/images/placeholder.png, quantity=1, isCustom=false, length=100.00, width=100.00, height=100.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=24000.00, unitPriceEUR=1000.00, variantInfo=Design: František | Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T01:10:17.188+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : --- addToCart END --- Item added/updated. Cart hash: 1442027067, Items count: 1
2025-04-26T01:10:17.216+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-26T01:10:17.216+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:17.216+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:17.217+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: 1442027067
2025-04-26T01:10:17.217+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Cart items before display: {P2-T2-S-D2-G1-RC1=CartItem(cartItemId=P2-T2-S-D2-G1-RC1, productId=2, productName=test1, productSlug=test1, imageUrl=/images/placeholder.png, quantity=1, isCustom=false, length=100.00, width=100.00, height=100.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=24000.00, unitPriceEUR=1000.00, variantInfo=Design: František | Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T01:10:17.217+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 1 items.
2025-04-26T01:10:17.217+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-26T01:10:17.218+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Cart subtotal (CZK): 24000.00
2025-04-26T01:10:17.219+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Validated coupon: None, Discount amount (CZK): 0
2025-04-26T01:10:17.220+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Total VAT (CZK): 2880.00
2025-04-26T01:10:17.221+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : VAT Breakdown (CZK): {0.12=2880.00}
2025-04-26T01:10:17.221+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Total Price Before Shipping (CZK): 26880.00
2025-04-26T01:10:17.221+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Total Price Without Tax After Discount (CZK): 24000.00
2025-04-26T01:10:17.221+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-26T01:10:17.319+02:00  WARN 24356 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:10:19.327+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna
2025-04-26T01:10:19.328+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:19.328+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:19.330+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : Displaying checkout page for user: mirsvobo@gmail.com in currency: CZK
2025-04-26T01:10:19.339+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : Initialized checkout form DTO from logged-in customer 1.
2025-04-26T01:10:19.340+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : Added shippingTaxRate 0.21 to model.
2025-04-26T01:10:19.340+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T01:10:19.340+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T01:10:19.775+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T01:10:19.775+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : Preparing checkout summary model data for currency: CZK
2025-04-26T01:10:19.776+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : Rounding calculation: originalTotalPrice=27920.09, roundedTotalPrice=27920, roundingDifference=0.09
2025-04-26T01:10:19.777+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : Checkout summary model prepared: subtotal=24000.00, itemDiscount=0, itemVat=2880.00, origShipCost=859.58, shipDiscount=0, finalShipCost=859.58, finalShipTax=180.51, originalTotal=27920.09, roundingDiff=0.09, finalRoundedTotal=27920, totalVatWithShip=3060.51, shippingError='null'
2025-04-26T01:10:19.777+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CheckoutController  : Checkout page model prepared for mirsvobo@gmail.com. Currency: CZK
2025-04-26T01:10:25.964+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/calculate-shipping
2025-04-26T01:10:25.965+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:25.965+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:26.006+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : AJAX: Calculating shipping for user mirsvobo@gmail.com and currency CZK with address: ShippingAddressDto(street=Masarykovo náměstí 2799, city=Pardubice, zipCode=53002, country=Česká republika)
2025-04-26T01:10:26.012+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T01:10:26.013+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T01:10:26.084+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T01:10:26.084+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : AJAX: Calculated original shipping cost (no tax): 859.58
2025-04-26T01:10:26.086+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : AJAX: Shipping calculation successful for user mirsvobo@gmail.com. Response: ShippingCalculationResponseDto(shippingCostNoTax=859.58, shippingTax=180.51, totalPrice=27920.09, vatBreakdown={0.12=2880.00}, totalVatWithShipping=3060.51, errorMessage=null, currencySymbol=Kč, originalShippingCostNoTax=859.58, originalShippingTax=180.51, shippingDiscountAmount=0)
2025-04-26T01:10:30.176+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/odeslat
2025-04-26T01:10:30.176+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:30.176+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:30.199+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Processing checkout submission for user: mirsvobo@gmail.com in currency: CZK. Apply RC: true
2025-04-26T01:10:30.199+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Set email in DTO from principal for logged-in user: mirsvobo@gmail.com
2025-04-26T01:10:30.199+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Getting logged-in customer: mirsvobo@gmail.com
2025-04-26T01:10:30.203+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Customer 1 address matches DTO, no update needed.
2025-04-26T01:10:30.203+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Using valid shipping costs from form: NoTax=859.58, Tax=180.51
2025-04-26T01:10:30.204+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Attempting to create order with request: CreateOrderRequest(customerId=1, useCustomerAddresses=true, paymentMethod=BANK_TRANSFER, currency=CZK, customerNote=, couponCode=null, items=[CartItemDto(productId=2, quantity=1, isCustom=false, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=2, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=[])], shippingCostNoTax=859.58, shippingTax=180.51), Apply RC Flag: true
2025-04-26T01:10:30.207+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK. Apply RC: true
2025-04-26T01:10:30.207+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-26T01:10:30.212+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-26T01:10:30.212+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-26T01:10:30.212+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Invoice recipient is person: Miroslav Svoboda
2025-04-26T01:10:30.212+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-26T01:10:30.212+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-26T01:10:30.212+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-26T01:10:30.212+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-26T01:10:30.212+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2, TaxRate ID: 2, Apply RC Flag from Checkout: true
2025-04-26T01:10:30.243+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Selected Tax Rate ID 2 ('Snížená', Rate: 0.1200, Original RC Flag: false) validated for Product ID 2
2025-04-26T01:10:30.245+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Attribute surcharge calculated for currency CZK: 0
2025-04-26T01:10:30.245+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-26T01:10:30.245+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: František | Lazura: Afromorsia | Střecha: Antracit
2025-04-26T01:10:30.246+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:10:30.246424600
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Setting OrderItem.isReverseCharge to: true (based SOLELY on checkout flag)
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Recalculated Tax (RC=true): UnitTax=0, TotalTax=0 for OrderItem ID (new)
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final recalculated prices for OrderItem ID (new): UnitPriceWithoutTax=24000.00, UnitTaxAmount=0.00, UnitPriceWithTax=24000.00, TotalPriceWithoutTax=24000.00, TotalTaxAmount=0.00, TotalPriceWithTax=24000.00
2025-04-26T01:10:30.250+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finished processCartItem for Product ID: 2. RC applied: true, Total Price w/ Tax: 24000.00, Selected Rate ID: 2
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 24000.00, Running Item Tax: 0.00
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 24000.00, Final Item Tax: 0.00
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 859.58, Tax: 180.51, Estimated Rate: 0.2100
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=24859.58, TotalTax=180.51, OriginalTotalWithTax=25040.09, RoundedTotalToSave=25040
2025-04-26T01:10:30.250+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-26T01:10:30.251+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-26T01:10:30.251+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-26T01:10:30.251+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-26T01:10:30.251+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-26T01:10:30.252+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 209
2025-04-26T01:10:30.252+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Generated Order Code: 209
2025-04-26T01:10:30.252+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-26T01:10:30.280+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Order 209 created successfully. Total: 25040 CZK
2025-04-26T01:10:30.280+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 209...
2025-04-26T01:10:30.283+02:00  WARN 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Mismatch between calculated rounded price (27920) and saved order price (25040) for order 209
2025-04-26T01:10:30.283+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Order 209 successfully created with currency CZK for user: mirsvobo@gmail.com
2025-04-26T01:10:30.283+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.Cart           : clearCart called for cart hash: 1885595306. Clearing items and coupon.
2025-04-26T01:10:30.283+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Session cart cleared for mirsvobo@gmail.com
2025-04-26T01:10:30.303+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T01:10:30.303+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:30.303+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:30.309+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T01:10:41.046+02:00  INFO 24356 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Order confirmation email sent successfully to mirsvobo@gmail.com for order 209
2025-04-26T01:10:44.170+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T01:10:44.170+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:44.170+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:44.172+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T01:10:44.174+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T01:10:44.183+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-26T01:10:44.184+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T01:10:44.191+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=4, TotalElements=4
2025-04-26T01:10:47.443+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/4
2025-04-26T01:10:47.443+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:47.443+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:47.444+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 4
2025-04-26T01:10:47.445+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 4
2025-04-26T01:10:47.469+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T01:10:47.473+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 4
2025-04-26T01:10:49.039+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/4/generate-final
2025-04-26T01:10:49.040+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:49.040+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:49.040+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Admin action: Trigger SuperFaktura FINAL invoice for order ID: 4
2025-04-26T01:10:49.041+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 4
2025-04-26T01:10:49.074+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Attempting to generate SuperFaktura FINAL invoice for order: 209. Order currency: CZK
2025-04-26T01:10:49.075+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Setting invoice-level vat_transfer to: 1 for order 209
2025-04-26T01:10:49.075+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Calculating rounding difference for order 209: Original=25040.09, Rounded=25040.00, Difference=0.09
2025-04-26T01:10:49.075+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Added rounding item to SF payload for order 209: Amount=-0.09
2025-04-26T01:10:49.075+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Not setting 'already_paid' for final invoice 209. Relying on SF deduction via linked proforma_id.
2025-04-26T01:10:49.075+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Not setting 'already_paid' for final invoice 209. Relying on SF deduction via linked proforma_id or payment status.
2025-04-26T01:10:49.078+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : SF API Request Payload (Final Invoice - Order 209):
{
  "Invoice" : {
    "order_no" : "209",
    "date" : "2025-04-26",
    "note" : "",
    "due_date" : "2025-05-10",
    "rounding" : "document",
    "language" : "cze",
    "specific" : "4",
    "type" : "regular",
    "vat_transfer" : 1,
    "payment_type" : "transfer",
    "delivery_date" : "2025-04-26",
    "variable" : "209",
    "currency" : "CZK"
  },
  "InvoiceItem" : [ {
    "unit" : "ks",
    "quantity" : 1,
    "name" : "test1",
    "description" : "Design: František | Lazura: Afromorsia | Střecha: Antracit | Přesah: 10",
    "tax" : 12.00,
    "currency" : "CZK",
    "unit_price" : 24000.00,
    "sku" : "test1",
    "vat_transfer" : 1
  }, {
    "unit" : "ks",
    "quantity" : 1,
    "name" : "Doprava",
    "tax" : 21.00,
    "currency" : "CZK",
    "unit_price" : 859.58
  }, {
    "unit" : "",
    "quantity" : 1,
    "name" : "Zaokrouhlení",
    "tax" : 0.00,
    "currency" : "CZK",
    "unit_price" : -0.09
  } ],
  "Client" : {
    "zip" : "53002",
    "country" : "Česká republika",
    "address" : "Masarykovo náměstí 2799",
    "phone" : "704756313",
    "city" : "Pardubice",
    "name" : "Miroslav Svoboda",
    "currency" : "CZK",
    "email" : "mirsvobo@gmail.com"
  }
}
2025-04-26T01:10:49.078+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Sending Final Invoice request to SF API: URL=https://moje.superfaktura.cz/invoices/create.json, Method=POST
2025-04-26T01:10:49.409+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Raw SF API Response Body for Final Invoice (Order 209): START
{"error":0,"error_message":"Invoice created","data":{"Invoice":{"id":"7711197","user_id":"39487","user_profile_id":"36761","client_id":"3506921","parent_id":null,"proforma_id":null,"estimate_id":null,"sequence_id":"305624","import_type":null,"import_id":null,"import_parent_id":null,"type":"regular","template":null,"tax_document":null,"name":"Faktura 000011\/2025","lang":null,"client_data":"{\"Client\":{\"user_id\":\"39487\",\"user_profile_id\":\"36761\",\"uuid\":null,\"country_id\":\"57\",\"name\":\"Miroslav Svoboda\",\"ico\":null,\"dic\":null,\"ic_dph\":null,\"iban\":null,\"swift\":null,\"bank_account_prefix\":null,\"bank_account\":null,\"bank_code\":null,\"account\":null,\"email\":\"mirsvobo@gmail.com\",\"address\":\"Masarykovo n\\u00e1m\\u011bst\\u00ed 2799\",\"city\":\"Pardubice\",\"zip\":\"53002\",\"state\":null,\"country\":\"\\u010cesk\\u00e1 republika\",\"delivery_name\":null,\"delivery_address\":null,\"delivery_city\":null,\"delivery_zip\":null,\"delivery_state\":null,\"delivery_country\":null,\"delivery_country_id\":null,\"phone\":\"704756313\",\"delivery_phone\":null,\"fax\":null,\"due_date\":null,\"default_variable\":null,\"discount\":null,\"currency\":\"CZK\",\"bank_account_id\":null,\"comment\":null,\"tags\":null,\"distance\":null,\"dont_travel\":null,\"notices\":\"1\",\"id\":3506921}}","my_data":"{\"MyData\":{\"id\":\"36761\",\"user_id\":\"39451\",\"country_id\":\"57\",\"company_name\":\"Truhl\\u00e1\\u0159stv\\u00ed Kol\\u00e1\\u0159\",\"ico\":\"73589292\",\"dic\":\"\",\"ic_dph\":\"CZ8204183086\",\"business_register\":\"\",\"address\":\"Dru\\u017estevn\\u00ed 304\",\"city\":\"\\u0158e\\u010dany nad Labem\",\"zip\":\"53313\",\"tax_payer\":\"1\",\"BankAccount\":[{\"id\":\"29020\",\"user_id\":\"39451\",\"user_profile_id\":\"36761\",\"currency\":\"CZK\",\"default\":true,\"show\":true,\"country_id\":\"57\",\"bank_name\":\"Fio banka a.s.\",\"bank_code\":\"2010\",\"account\":\"2601817728\",\"iban\":\"CZ0420100000002601817728\",\"swift\":\"FIOBCZPPXXX\",\"created\":\"2021-09-30 09:01:03\",\"modified\":\"2022-03-15 08:14:09\",\"show_account\":true}],\"Logo\":[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}],\"Signature\":{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}}}","items_data":"test1 Design: Franti\u0161ek | Lazura: Afromorsia | St\u0159echa: Antracit | P\u0159esah: 10, Doprava , Zaokrouhlen\u00ed , ","invoice_no":"11","order_no":"209","invoice_no_formatted":"000011\/2025","invoice_no_formatted_raw":"112025","invoice_no_formatted_length":"11","mask":"YYYYNNN","variable":"209","variable_raw":"209","constant":"","specific":"4","payment_type":"transfer","status":"1","home_currency":"CZK","invoice_currency":"CZK","exchange_rate":1,"country_exchange_rate":"1.00000000000000","amount":"24859.49","vat":"0.00","discount":"0","items_name":null,"issued_by":"mirsvobo","issued_by_phone":"704756313","issued_by_email":"mirsvobo@gmail.com","paid":"0.00","amount_paid":"0.00","deposit":"0.00","header_comment":"","comment":"","internal_comment":null,"created":"2025-04-26 00:00:00","modified":"2025-04-26 01:10:51","recurring":null,"paydate":null,"delivery":"2025-04-26 00:00:00","taxdate":null,"accounting_date":"2025-04-26","delivery_type":"haulage","due":"2025-05-03","demo":"0","token":"2b851e9b","tags":null,"rounding":"document","vat_transfer":"1","special_vat_scheme":null,"issued_by_web":null,"summary_invoice":null,"total_amount":"24859.49","show_items_with_dph":true,"czechToCzechVatTransfer":true,"show_special_vat":false,"flag":"issued"},"Client":{"id":"3506921","user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"created":"2025-04-13 20:09:26","modified":"2025-04-13 20:09:26","notices":true},"0":{"to_pay":"24859.490000","to_pay_in_invoice_currency":"24859.49","total":"24859.49"},"InvoiceEmail":[],"PostStamp":[],"InvoiceSetting":{"signature":true,"bysquare":true,"payment_info":true,"language":"cze","online_payment":false,"summary_bg_color":"#d4eef6","force_iban":true},"InvoicePayment":[],"Tag":[],"ClientData":{"user_id":"39487","user_profile_id":"36761","uuid":null,"country_id":"57","name":"Miroslav Svoboda","ico":null,"dic":null,"ic_dph":null,"iban":null,"swift":null,"bank_account_prefix":null,"bank_account":null,"bank_code":null,"account":null,"email":"mirsvobo@gmail.com","address":"Masarykovo n\u00e1m\u011bst\u00ed 2799","city":"Pardubice","zip":"53002","state":null,"country":"\u010cesk\u00e1 republika","delivery_name":null,"delivery_address":null,"delivery_city":null,"delivery_zip":null,"delivery_state":null,"delivery_country":null,"delivery_country_id":null,"phone":"704756313","delivery_phone":null,"fax":null,"due_date":null,"default_variable":null,"discount":null,"currency":"CZK","bank_account_id":null,"comment":null,"tags":null,"distance":null,"dont_travel":null,"notices":"1","id":3506921,"Country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true}},"MyData":{"id":"36761","user_id":"39451","country_id":"57","company_name":"Truhl\u00e1\u0159stv\u00ed Kol\u00e1\u0159","ico":"73589292","dic":"","ic_dph":"CZ8204183086","business_register":"","address":"Dru\u017estevn\u00ed 304","city":"\u0158e\u010dany nad Labem","zip":"53313","tax_payer":"1","BankAccount":[{"id":"29020","user_id":"39451","user_profile_id":"36761","currency":"CZK","default":true,"show":true,"country_id":"57","bank_name":"Fio banka a.s.","bank_code":"2010","account":"2601817728","iban":"CZ0420100000002601817728","swift":"FIOBCZPPXXX","created":"2021-09-30 09:01:03","modified":"2022-03-15 08:14:09","show_account":true}],"Logo":"[{\"id\":\"232833\",\"model\":\"User\",\"foreign_key\":\"36761\",\"dirname\":\"img\",\"basename\":\"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"checksum\":\"879da79e1e0cb910db85417d917648c9\",\"group\":\"logo\",\"default\":true,\"alternative\":null,\"size\":\"56033\",\"extern_file\":\"0\",\"delete_flag\":false,\"created\":\"2021-09-30 09:00:09\",\"modified\":\"2022-03-15 08:14:09\",\"path\":\"img\\\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\",\"mobile_path\":\"imagecache\\\/media\\\/transfer\\\/img\\\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png\"}]","Signature":"{\"id\":null,\"model\":null,\"foreign_key\":null,\"dirname\":null,\"basename\":null,\"checksum\":null,\"group\":null,\"default\":null,\"alternative\":null,\"size\":null,\"extern_file\":null,\"delete_flag\":null,\"created\":null,\"modified\":null,\"path\":\"\"}","country":{"id":57,"name":"\u010cesk\u00e1 republika","iso":"cz","eu":true},"SignatureRaw":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"LogoRaw":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}]},"Logo":[{"id":"232833","model":"User","foreign_key":"36761","dirname":"img","basename":"01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","checksum":"879da79e1e0cb910db85417d917648c9","group":"logo","default":true,"alternative":null,"size":"56033","extern_file":"0","delete_flag":false,"created":"2021-09-30 09:00:09","modified":"2022-03-15 08:14:09","path":"img\/01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png","mobile_path":"imagecache\/media\/transfer\/img\/100x100_01bee4bf6f88cc7efb2e_36761_kolar_miniatura.png"}],"Signature":{"id":null,"model":null,"foreign_key":null,"dirname":null,"basename":null,"checksum":null,"group":null,"default":null,"alternative":null,"size":null,"extern_file":null,"delete_flag":null,"created":null,"modified":null,"path":""},"InvoiceItem":[{"id":"24771943","invoice_id":"7711197","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"test1","description":"Design: Franti\u0161ek | Lazura: Afromorsia | St\u0159echa: Antracit | P\u0159esah: 10","sku":"test1","quantity":"1.00000","unit":"ks","unit_price":24000,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"0","hide_in_autocomplete":null,"original_tax":12,"unit_price_discount":24000,"item_price":24000,"item_price_no_discount":24000,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":24000,"unit_price_vat_no_discount":24000,"item_price_vat":24000,"item_price_vat_no_discount":24000,"item_price_vat_check":24000},{"id":"24771944","invoice_id":"7711197","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Doprava","description":"","sku":null,"quantity":"1.00000","unit":"ks","unit_price":859.58,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"1","hide_in_autocomplete":null,"original_tax":21,"unit_price_discount":859.58,"item_price":859.58,"item_price_no_discount":859.58,"discount_no_vat":-0,"discount_with_vat":-0,"discount_with_vat_total":-0,"discount_no_vat_total":-0,"unit_price_vat":859.58,"unit_price_vat_no_discount":859.58,"item_price_vat":859.58,"item_price_vat_no_discount":859.58,"item_price_vat_check":859.58},{"id":"24771945","invoice_id":"7711197","user_id":"39487","user_profile_id":"36761","stock_item_id":null,"name":"Zaokrouhlen\u00ed","description":"","sku":null,"quantity":"1.00000","unit":"","unit_price":-0.09,"tax":0,"tax_deposit":null,"discount":0,"discount_description":"","ordernum":"2","hide_in_autocomplete":null,"original_tax":0,"unit_price_discount":-0.09,"item_price":-0.09,"item_price_no_discount":-0.09,"discount_no_vat":0,"discount_with_vat":0,"discount_with_vat_total":0,"discount_no_vat_total":0,"unit_price_vat":-0.09,"unit_price_vat_no_discount":-0.09,"item_price_vat":-0.09,"item_price_vat_no_discount":-0.09,"item_price_vat_check":-0.09}],"Summary":{"vat_base_separate":{"12":24000,"21":859.58,"0":-0.09},"vat_base_total":24859.49,"vat_separate":{"12":0,"21":0,"0":0},"transfer_vat_base_separate":{"12":24000,"21":859.58,"0":-0.09},"vat_total":0,"invoice_total":24859.49,"discount":0},"SummaryInvoice":{"vat_base_separate_positive":{"12":24000,"21":859.58},"vat_separate_positive":{"12":0,"21":0},"vat_base_separate_negative":[-0.09],"vat_separate_negative":[0]},"UnitCount":{"ks":2},"Paypal":false,"RelatedItems":[],"Qr":{"qr":"SPD*1.0*ACC:CZ0420100000002601817728+FIOBCZPPXXX*AM:24859.49*CC:CZK*MSG:000011%252F2025%2B-%2BMIROSLAV%2BSVOBODA*X-VS:209*X-SS:4","qr_type":"QrPlatba","qr_url":"https:\/\/moje.superfaktura.cz\/tools\/qrCoder?key=a6d0628be857de9276fab5ad74a9d0e7&text=SPD%2A1.0%2AACC%3ACZ0420100000002601817728%2BFIOBCZPPXXX%2AAM%3A24859.49%2ACC%3ACZK%2AMSG%3A000011%25252F2025%252B-%252BMIROSLAV%252BSVOBODA%2AX-VS%3A209%2AX-SS%3A4&size=150"},"PaymentLink":""}}
END_RESPONSE
2025-04-26T01:10:49.419+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Final Invoice API call successful for order 209.
2025-04-26T01:10:49.419+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Constructed PDF download URL with token: https://moje.superfaktura.cz/invoices/pdf/7711197/token:2b851e9b
2025-04-26T01:10:49.419+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Parsed Final Invoice response for order 209: ID=7711197, Number=000011/2025, PDF URL=https://moje.superfaktura.cz/invoices/pdf/7711197/token:2b851e9b
2025-04-26T01:10:49.422+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-4] o.e.e.s.SuperFakturaInvoiceService       : Order 209 updated with Final Invoice details.
2025-04-26T01:10:49.441+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/4
2025-04-26T01:10:49.441+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:10:49.441+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:10:49.442+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 4
2025-04-26T01:10:49.442+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 4
2025-04-26T01:10:49.450+02:00 DEBUG 24356 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T01:10:49.456+02:00  INFO 24356 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 4
2025-04-26T01:16:02.793+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T01:16:03.978+02:00  INFO 24356 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T01:16:04.592+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T01:16:04.651+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T01:16:04.692+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T01:16:04.694+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T01:16:04.696+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T01:16:04.710+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T01:16:04.712+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T01:16:04.713+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T01:16:04.714+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T01:16:04.716+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T01:16:04.718+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T01:16:04.818+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T01:16:04.821+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T01:16:04.825+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T01:16:04.827+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T01:16:04.877+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T01:16:04.952+02:00  INFO 24356 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T01:16:52.671+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 25672 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T01:16:52.682+02:00 DEBUG 25672 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T01:16:52.687+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T01:16:54.212+02:00  INFO 25672 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T01:16:54.228+02:00  INFO 25672 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T01:17:02.197+02:00  INFO 25672 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T01:17:03.499+02:00  INFO 25672 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1224 ms. Found 14 JPA repository interfaces.
2025-04-26T01:17:16.442+02:00  INFO 25672 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T01:17:16.831+02:00  INFO 25672 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T01:17:16.833+02:00  INFO 25672 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T01:17:17.793+02:00  INFO 25672 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T01:17:17.811+02:00  INFO 25672 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 23555 ms
2025-04-26T01:17:21.816+02:00  INFO 25672 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T01:17:22.871+02:00  INFO 25672 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T01:17:22.908+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T01:17:23.055+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T01:17:23.074+02:00  INFO 25672 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T01:17:23.864+02:00  INFO 25672 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T01:17:23.968+02:00  INFO 25672 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T01:17:24.261+02:00  INFO 25672 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@30680655
2025-04-26T01:17:24.269+02:00  INFO 25672 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T01:17:24.432+02:00  INFO 25672 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T01:17:26.208+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.486+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T01:17:26.522+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.528+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T01:17:26.531+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.538+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T01:17:26.542+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.550+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T01:17:26.553+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.558+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T01:17:26.561+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.567+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T01:17:26.571+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T01:17:26.572+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.580+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T01:17:26.583+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.588+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T01:17:26.589+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.595+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T01:17:26.597+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.602+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T01:17:26.604+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.610+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T01:17:26.612+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.617+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T01:17:26.618+02:00  WARN 25672 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T01:17:26.623+02:00  INFO 25672 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T01:17:29.462+02:00  INFO 25672 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T01:17:29.874+02:00  INFO 25672 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T01:17:31.851+02:00  INFO 25672 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T01:17:39.007+02:00  INFO 25672 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T01:17:39.828+02:00  INFO 25672 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T01:17:39.828+02:00  INFO 25672 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T01:17:39.893+02:00  INFO 25672 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T01:17:40.425+02:00  INFO 25672 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 209
2025-04-26T01:17:40.426+02:00  INFO 25672 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 209
2025-04-26T01:17:42.471+02:00  WARN 25672 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T01:17:44.472+02:00  INFO 25672 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T01:17:44.847+02:00  INFO 25672 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T01:17:46.528+02:00  INFO 25672 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T01:17:49.465+02:00  INFO 25672 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T01:17:49.700+02:00  INFO 25672 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T01:17:49.743+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 59.979 seconds (process running for 64.076)
2025-04-26T01:17:49.783+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T01:17:49.921+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T01:17:50.170+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T01:17:50.197+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T01:17:50.199+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T01:17:50.377+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T01:17:50.397+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T01:17:50.411+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T01:17:50.425+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T01:17:50.446+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T01:17:50.464+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T01:17:50.474+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T01:17:50.482+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T01:17:50.482+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T01:17:50.484+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T01:17:50.515+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T01:17:50.538+02:00  WARN 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T01:17:50.547+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T01:17:50.547+02:00  INFO 25672 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T01:17:51.729+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T01:17:51.729+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T01:17:51.737+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-26T01:17:51.919+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T01:17:51.920+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:17:51.920+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:17:51.921+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T01:17:51.929+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T01:17:52.056+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T01:17:52.057+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T01:17:52.071+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:17:52.071513200
2025-04-26T01:17:52.101+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:17:52.102+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:17:52.104+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:17:52.104150
2025-04-26T01:17:52.111+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:17:52.111+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:17:52.112+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T01:17:52.114+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T01:17:56.153+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:17:56.378+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:17:58.532+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/na-miru
2025-04-26T01:17:58.533+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:17:58.533+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:17:58.551+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: na-miru
2025-04-26T01:17:58.553+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using findActiveBySlugWithDetails. Slug: na-miru
2025-04-26T01:17:58.621+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'na-miru' nalezen (with details).
2025-04-26T01:17:58.622+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: na-miru) <<<
2025-04-26T01:17:58.623+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 1 nalezen pro slug 'na-miru'.
2025-04-26T01:17:58.625+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK
2025-04-26T01:17:58.625+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (CZK): 21600.00
2025-04-26T01:17:58.626+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK. Vypočtená ZÁKLADNÍ cena: 21600.00
2025-04-26T01:17:58.626+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: EUR
2025-04-26T01:17:58.627+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (EUR): 900.00
2025-04-26T01:17:58.627+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: EUR. Vypočtená ZÁKLADNÍ cena: 900.00
2025-04-26T01:17:58.627+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : [ProductController] Výchozí ZÁKLADNÍ cena (bez doplňků/atributů) pro custom produkt ID 1: CZK=21600.00, EUR=900.00
2025-04-26T01:17:58.657+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : JSON-LD data vygenerována a přidána do modelu.
2025-04-26T01:17:58.658+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : DEBUG: Načtené availableTaxRates pro produkt ID 1: 2
2025-04-26T01:17:58.660+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : DEBUG: Přidávám sortedTaxRates do modelu, velikost: 2
2025-04-26T01:17:58.661+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : Available designs: 1, glazes: 1, roofColors: 1
2025-04-26T01:17:58.661+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro CUSTOM produkt ID 1
2025-04-26T01:17:58.663+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : [ProductController] Grouped addons: [Montážní materiál]
2025-04-26T01:17:58.664+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (CUSTOM). Vracím 'produkt-detail-custom'. Model keys: [currentGlobalCurrency, product, initialCustomPriceCZK, initialCustomPriceEUR, initialCustomPriceError, jsonLdData, availableTaxRates, availableDesigns, availableGlazes, availableRoofColors, configurator, groupedAddons, cartItemDto]
2025-04-26T01:17:59.140+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:17:59.265+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /api/product/calculate-price
2025-04-26T01:17:59.267+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:17:59.268+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:17:59.381+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do API calculateCustomPrice (detailed). Product ID: 1
2025-04-26T01:17:59.383+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.ProductController   : [ProductController] Calc request data: ProductId=1, Dimensions={length=300.00, width=300.00, height=300.00}, DesignId=2, GlazeId=1, RoofColorId=1, AddonIds=[]
2025-04-26T01:17:59.386+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDetailedCustomPrice. Product ID: 1
2025-04-26T01:17:59.450+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Base price calculated: CZK=21600.00, EUR=900.00
2025-04-26T01:17:59.463+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Design price: CZK=0.00, EUR=0.00
2025-04-26T01:17:59.466+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Glaze price: CZK=0.00, EUR=0.00
2025-04-26T01:17:59.469+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] RoofColor price: CZK=0.00, EUR=0.00
2025-04-26T01:17:59.470+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total Addons price: CZK=0.00, EUR=0.00
2025-04-26T01:17:59.470+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total price calculated: CZK=21600.00, EUR=900.00
2025-04-26T01:17:59.471+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDetailedCustomPrice. Product ID: 1. Response has error: false
2025-04-26T01:17:59.473+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.ProductController   : >>> [ProductController] API calculateCustomPrice (detailed) úspěšně spočítána. Product ID 1: Total CZK=21600.00, Total EUR=900.00. Vracím OK.
2025-04-26T01:18:03.923+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /api/product/calculate-price
2025-04-26T01:18:03.924+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:03.924+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:03.925+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do API calculateCustomPrice (detailed). Product ID: 1
2025-04-26T01:18:03.926+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : [ProductController] Calc request data: ProductId=1, Dimensions={length=300.00, width=300.00, height=300.00}, DesignId=2, GlazeId=1, RoofColorId=1, AddonIds=[]
2025-04-26T01:18:03.927+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDetailedCustomPrice. Product ID: 1
2025-04-26T01:18:03.973+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Base price calculated: CZK=21600.00, EUR=900.00
2025-04-26T01:18:03.974+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Design price: CZK=0.00, EUR=0.00
2025-04-26T01:18:03.974+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Glaze price: CZK=0.00, EUR=0.00
2025-04-26T01:18:03.974+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] RoofColor price: CZK=0.00, EUR=0.00
2025-04-26T01:18:03.975+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total Addons price: CZK=0.00, EUR=0.00
2025-04-26T01:18:03.975+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total price calculated: CZK=21600.00, EUR=900.00
2025-04-26T01:18:03.975+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDetailedCustomPrice. Product ID: 1. Response has error: false
2025-04-26T01:18:03.976+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : >>> [ProductController] API calculateCustomPrice (detailed) úspěšně spočítána. Product ID 1: Total CZK=21600.00, Total EUR=900.00. Vracím OK.
2025-04-26T01:18:05.009+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik/pridat
2025-04-26T01:18:05.009+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:05.010+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:05.073+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Raw request parameters: _csrf=[uHYtS0XXO05U4eTup9FsTxblNuGmBNSoG0dLOhuFHNqtmbtRikQZLXThWih50YHZxPxYey7VG9iRN-eFfyFzXCywfrzMr41j], isCustom=[true], productId=[1], customDimensions[length]=[300.00], customDimensions[width]=[300.00], customDimensions[height]=[300.00], selectedDesignId=[2], selectedGlazeId=[1], selectedRoofColorId=[1], selectedTaxRateId=[2], quantity=[1]
2025-04-26T01:18:05.074+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : --- addToCart START --- Cart hash: 1491469042
2025-04-26T01:18:05.074+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Received CartItemDto (after manual 'isCustom' set): CartItemDto(productId=1, quantity=1, isCustom=true, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=2, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=null)
2025-04-26T01:18:05.097+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details) using findByIdWithDetails. ID: 1
2025-04-26T01:18:05.134+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 1 nalezen (with details).
2025-04-26T01:18:05.135+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 1) <<<
2025-04-26T01:18:05.138+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Processing Cart Item: isCustom = true
2025-04-26T01:18:05.157+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Applied Tax Rate 12.00% (RC from TaxRate entity: false)
2025-04-26T01:18:05.157+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Processing CUSTOM product path for product ID: 1
2025-04-26T01:18:05.159+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDetailedCustomPrice. Product ID: 1
2025-04-26T01:18:05.177+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Base price calculated: CZK=21600.00, EUR=900.00
2025-04-26T01:18:05.178+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Design price: CZK=0.00, EUR=0.00
2025-04-26T01:18:05.180+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Glaze price: CZK=0.00, EUR=0.00
2025-04-26T01:18:05.180+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] RoofColor price: CZK=0.00, EUR=0.00
2025-04-26T01:18:05.180+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total Addons price: CZK=0.00, EUR=0.00
2025-04-26T01:18:05.180+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total price calculated: CZK=21600.00, EUR=900.00
2025-04-26T01:18:05.180+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDetailedCustomPrice. Product ID: 1. Response has error: false
2025-04-26T01:18:05.181+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : [processCartItem] No addons selected for custom item.
2025-04-26T01:18:05.182+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Final unit prices set for CartItem: CZK=21600.00, EUR=900.00
2025-04-26T01:18:05.183+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Built variant info: Na míru | Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit
2025-04-26T01:18:05.184+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Generated Cart Item ID: P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1
2025-04-26T01:18:05.186+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.Cart           : addItem called for cart hash: 763099570. Item ID: P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1, Product ID: 1
2025-04-26T01:18:05.187+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.Cart           : Added new cart item ID: P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1. Cart hash: 763099570
2025-04-26T01:18:05.187+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.Cart           : Cart items map after addItem (hash: 763099570): {P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1=CartItem(cartItemId=P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1, productId=1, productName=test, productSlug=na-miru, imageUrl=/images/placeholder.png, quantity=1, isCustom=true, length=300.00, width=300.00, height=300.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=21600.00, unitPriceEUR=900.00, variantInfo=Na míru | Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T01:18:05.212+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : --- addToCart END --- Item added/updated. Cart hash: 1491469042, Items count: 1
2025-04-26T01:18:05.305+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-26T01:18:05.305+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:05.305+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:05.307+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: 1491469042
2025-04-26T01:18:05.309+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Cart items before display: {P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1=CartItem(cartItemId=P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1, productId=1, productName=test, productSlug=na-miru, imageUrl=/images/placeholder.png, quantity=1, isCustom=true, length=300.00, width=300.00, height=300.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=21600.00, unitPriceEUR=900.00, variantInfo=Na míru | Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T01:18:05.310+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 1 items.
2025-04-26T01:18:05.310+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-26T01:18:05.315+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Cart subtotal (CZK): 21600.00
2025-04-26T01:18:05.318+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Validated coupon: None, Discount amount (CZK): 0
2025-04-26T01:18:05.327+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Total VAT (CZK): 2592.00
2025-04-26T01:18:05.328+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : VAT Breakdown (CZK): {0.12=2592.00}
2025-04-26T01:18:05.329+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Total Price Before Shipping (CZK): 24192.00
2025-04-26T01:18:05.330+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Total Price Without Tax After Discount (CZK): 21600.00
2025-04-26T01:18:05.330+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-26T01:18:05.533+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:18:08.028+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:18:08.707+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T01:18:08.708+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:08.709+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:08.720+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T01:18:08.721+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T01:18:08.732+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-5] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T01:18:08.779+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T01:18:08.780+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T01:18:08.780+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T01:18:08.781+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:18:08.781200800
2025-04-26T01:18:08.787+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:18:08.788+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:18:08.788+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:18:08.788788600
2025-04-26T01:18:08.796+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:18:08.797+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:18:08.797+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T01:18:08.797+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T01:18:08.982+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:18:08.986+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-26T01:18:10.362+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/test1
2025-04-26T01:18:10.363+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:10.363+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:10.365+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: test1
2025-04-26T01:18:10.365+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using findActiveBySlugWithDetails. Slug: test1
2025-04-26T01:18:10.405+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'test1' nalezen (with details).
2025-04-26T01:18:10.405+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: test1) <<<
2025-04-26T01:18:10.406+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 2 nalezen pro slug 'test1'.
2025-04-26T01:18:10.406+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:18:10.406758600
2025-04-26T01:18:10.413+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:18:10.413+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:18:10.414+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:18:10.414329200
2025-04-26T01:18:10.419+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:18:10.421+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:18:10.421+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T01:18:10.421+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : JSON-LD data vygenerována a přidána do modelu.
2025-04-26T01:18:10.422+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : DEBUG: Načtené availableTaxRates pro produkt ID 2: 2
2025-04-26T01:18:10.422+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : DEBUG: Přidávám sortedTaxRates do modelu, velikost: 2
2025-04-26T01:18:10.422+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : Available designs: 1, glazes: 1, roofColors: 1
2025-04-26T01:18:10.422+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro STANDARD produkt ID 2
2025-04-26T01:18:10.423+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:18:10.423821800
2025-04-26T01:18:10.431+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:18:10.431+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:18:10.431+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:18:10.431303500
2025-04-26T01:18:10.438+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:18:10.438+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:18:10.438+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T01:18:10.439+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (STANDARD). Vracím 'produkt-detail-standard'. Model keys: [currentGlobalCurrency, product, initialCustomPriceCZK, initialCustomPriceEUR, initialCustomPriceError, jsonLdData, availableTaxRates, availableDesigns, availableGlazes, availableRoofColors, priceInfo, cartItemDto]
2025-04-26T01:18:10.610+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:18:10.571+02:00 ERROR 25672 --- [Eshop] [http-nio-8080-exec-8] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-8] Exception processing template "produkt-detail-standard": An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1437) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.attoparser.ParseException: An error happened during template rendering
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 127 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateOutputException: An error happened during template rendering
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:75) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleText(ProcessorTemplateHandler.java:587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.beHandled(Text.java:97) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.GatheringModelProcessable.process(GatheringModelProcessable.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 129 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#request.requestURL" (template: "layout/main" - line 256, col 32)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.process(TemplateManager.java:519) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.LazyProcessingCharSequence.writeUnresolved(LazyProcessingCharSequence.java:85) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.AbstractLazyCharSequence.write(AbstractLazyCharSequence.java:103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.AbstractTextualTemplateEvent.writeContent(AbstractTextualTemplateEvent.java:224) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.write(Text.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:71) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 151 common frames omitted
Caused by: java.lang.IllegalArgumentException: The 'request','session','servletContext' and 'response' expression utility objects are no longer available by default for template expressions and their use is not recommended. In cases where they are really needed, they should be manually added as context variables.
	at org.thymeleaf.standard.expression.StandardExpressionObjectFactory.buildObject(StandardExpressionObjectFactory.java:207) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.SpringStandardExpressionObjectFactory.buildObject(SpringStandardExpressionObjectFactory.java:110) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.DialectSetConfiguration$AggregateExpressionObjectFactory.buildObject(DialectSetConfiguration.java:785) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.expression.ExpressionObjects.getObject(ExpressionObjects.java:108) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext.lookupVariable(ThymeleafEvaluationContext.java:134) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.expression.spel.ExpressionState.lookupVariable(ExpressionState.java:173) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.VariableReference.getValueInternal(VariableReference.java:88) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:60) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:96) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 168 common frames omitted

2025-04-26T01:18:10.620+02:00 ERROR 25672 --- [Eshop] [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")] with root cause

java.lang.IllegalArgumentException: The 'request','session','servletContext' and 'response' expression utility objects are no longer available by default for template expressions and their use is not recommended. In cases where they are really needed, they should be manually added as context variables.
	at org.thymeleaf.standard.expression.StandardExpressionObjectFactory.buildObject(StandardExpressionObjectFactory.java:207) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.SpringStandardExpressionObjectFactory.buildObject(SpringStandardExpressionObjectFactory.java:110) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.DialectSetConfiguration$AggregateExpressionObjectFactory.buildObject(DialectSetConfiguration.java:785) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.expression.ExpressionObjects.getObject(ExpressionObjects.java:108) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext.lookupVariable(ThymeleafEvaluationContext.java:134) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.expression.spel.ExpressionState.lookupVariable(ExpressionState.java:173) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.VariableReference.getValueInternal(VariableReference.java:88) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:60) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:96) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.process(TemplateManager.java:519) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.LazyProcessingCharSequence.writeUnresolved(LazyProcessingCharSequence.java:85) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.AbstractLazyCharSequence.write(AbstractLazyCharSequence.java:103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.AbstractTextualTemplateEvent.writeContent(AbstractTextualTemplateEvent.java:224) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.write(Text.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OutputTemplateHandler.handleText(OutputTemplateHandler.java:71) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleText(ProcessorTemplateHandler.java:587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Text.beHandled(Text.java:97) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.GatheringModelProcessable.process(GatheringModelProcessable.java:78) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1437) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T01:18:10.644+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/test1
2025-04-26T01:18:10.644+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:10.645+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:10.674+02:00 ERROR 25672 --- [Eshop] [http-nio-8080-exec-8] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/produkt/test1] and exception [An error happened during template parsing (template: "class path resource [templates/produkt-detail-standard.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2025-04-26T01:18:17.664+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik/pridat
2025-04-26T01:18:17.665+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:17.665+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:17.669+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : Raw request parameters: _csrf=[NTyKTyzZUVeWpjtLuWv60npDdgkK-J4f8L6TqVOpoEwpzpO1Bw6-KR3vMDG7ll582kbO5kJzWzA9y60ylNirz2ScwipI-KWH], productId=[2], isCustom=[false], selectedDesignId=[2], selectedGlazeId=[1], selectedRoofColorId=[1], selectedTaxRateId=[1], quantity=[1]
2025-04-26T01:18:17.669+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : --- addToCart START --- Cart hash: 1491469042
2025-04-26T01:18:17.669+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : Received CartItemDto (after manual 'isCustom' set): CartItemDto(productId=2, quantity=1, isCustom=false, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=1, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=null)
2025-04-26T01:18:17.670+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details) using findByIdWithDetails. ID: 2
2025-04-26T01:18:17.706+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 2 nalezen (with details).
2025-04-26T01:18:17.707+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 2) <<<
2025-04-26T01:18:17.708+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : Processing Cart Item: isCustom = false
2025-04-26T01:18:17.716+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : Applied Tax Rate 21.00% (RC from TaxRate entity: false)
2025-04-26T01:18:17.716+02:00 ERROR 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : Chyba: Produkt ID 2 je custom, ale zpracovává se jako standardní!
2025-04-26T01:18:17.717+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : Final unit prices set for CartItem: CZK=24000.00, EUR=1000.00
2025-04-26T01:18:17.717+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : Built variant info: Design: František | Lazura: Afromorsia|Střecha: Antracit
2025-04-26T01:18:17.717+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : Generated Cart Item ID: P2-T1-S-D2-G1-RC1
2025-04-26T01:18:17.717+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.Cart           : addItem called for cart hash: 763099570. Item ID: P2-T1-S-D2-G1-RC1, Product ID: 2
2025-04-26T01:18:17.717+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.Cart           : Added new cart item ID: P2-T1-S-D2-G1-RC1. Cart hash: 763099570
2025-04-26T01:18:17.717+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.Cart           : Cart items map after addItem (hash: 763099570): {P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1=CartItem(cartItemId=P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1, productId=1, productName=test, productSlug=na-miru, imageUrl=/images/placeholder.png, quantity=1, isCustom=true, length=300.00, width=300.00, height=300.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=21600.00, unitPriceEUR=900.00, variantInfo=Na míru | Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit), P2-T1-S-D2-G1-RC1=CartItem(cartItemId=P2-T1-S-D2-G1-RC1, productId=2, productName=test1, productSlug=test1, imageUrl=/images/placeholder.png, quantity=1, isCustom=false, length=100.00, width=100.00, height=100.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=1, selectedTaxRateValue=0.2100, selectedIsReverseCharge=false, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=24000.00, unitPriceEUR=1000.00, variantInfo=Design: František | Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T01:18:17.718+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CartController      : --- addToCart END --- Item added/updated. Cart hash: 1491469042, Items count: 2
2025-04-26T01:18:17.729+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-26T01:18:17.729+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:17.729+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:17.730+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: 1491469042
2025-04-26T01:18:17.730+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Cart items before display: {P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1=CartItem(cartItemId=P1-T2-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1, productId=1, productName=test, productSlug=na-miru, imageUrl=/images/placeholder.png, quantity=1, isCustom=true, length=300.00, width=300.00, height=300.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=2, selectedTaxRateValue=0.1200, selectedIsReverseCharge=false, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=21600.00, unitPriceEUR=900.00, variantInfo=Na míru | Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit), P2-T1-S-D2-G1-RC1=CartItem(cartItemId=P2-T1-S-D2-G1-RC1, productId=2, productName=test1, productSlug=test1, imageUrl=/images/placeholder.png, quantity=1, isCustom=false, length=100.00, width=100.00, height=100.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=1, selectedTaxRateValue=0.2100, selectedIsReverseCharge=false, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=24000.00, unitPriceEUR=1000.00, variantInfo=Design: František | Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T01:18:17.730+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 2 items.
2025-04-26T01:18:17.730+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-26T01:18:17.730+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Cart subtotal (CZK): 45600.00
2025-04-26T01:18:17.730+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Validated coupon: None, Discount amount (CZK): 0
2025-04-26T01:18:17.731+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Total VAT (CZK): 7632.00
2025-04-26T01:18:17.731+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : VAT Breakdown (CZK): {0.12=2592.00, 0.21=5040.00}
2025-04-26T01:18:17.731+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Total Price Before Shipping (CZK): 53232.00
2025-04-26T01:18:17.731+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : Total Price Without Tax After Discount (CZK): 45600.00
2025-04-26T01:18:17.731+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-26T01:18:17.842+02:00  WARN 25672 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T01:18:19.591+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna
2025-04-26T01:18:19.592+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:19.592+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:19.595+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CheckoutController  : Displaying checkout page for user: mirsvobo@gmail.com in currency: CZK
2025-04-26T01:18:19.602+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CheckoutController  : Initialized checkout form DTO from logged-in customer 1.
2025-04-26T01:18:19.603+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CheckoutController  : Added shippingTaxRate 0.21 to model.
2025-04-26T01:18:19.603+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T01:18:19.604+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T01:18:20.421+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T01:18:20.421+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CheckoutController  : Preparing checkout summary model data for currency: CZK
2025-04-26T01:18:20.422+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CheckoutController  : Rounding calculation: originalTotalPrice=54272.09, roundedTotalPrice=54272, roundingDifference=0.09
2025-04-26T01:18:20.423+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CheckoutController  : Checkout summary model prepared: subtotal=45600.00, itemDiscount=0, itemVat=7632.00, origShipCost=859.58, shipDiscount=0, finalShipCost=859.58, finalShipTax=180.51, originalTotal=54272.09, roundingDiff=0.09, finalRoundedTotal=54272, totalVatWithShip=7812.51, shippingError='null'
2025-04-26T01:18:20.423+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CheckoutController  : Checkout page model prepared for mirsvobo@gmail.com. Currency: CZK
2025-04-26T01:18:27.827+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/calculate-shipping
2025-04-26T01:18:27.827+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:27.828+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:27.841+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CheckoutController  : AJAX: Calculating shipping for user mirsvobo@gmail.com and currency CZK with address: ShippingAddressDto(street=Masarykovo náměstí 2799, city=Pardubice, zipCode=53002, country=Česká republika)
2025-04-26T01:18:27.849+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T01:18:27.849+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T01:18:27.916+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T01:18:27.917+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CheckoutController  : AJAX: Calculated original shipping cost (no tax): 859.58
2025-04-26T01:18:27.917+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.CheckoutController  : AJAX: Shipping calculation successful for user mirsvobo@gmail.com. Response: ShippingCalculationResponseDto(shippingCostNoTax=859.58, shippingTax=180.51, totalPrice=54272.09, vatBreakdown={0.12=2592.00, 0.21=5040.00}, totalVatWithShipping=7812.51, errorMessage=null, currencySymbol=Kč, originalShippingCostNoTax=859.58, originalShippingTax=180.51, shippingDiscountAmount=0)
2025-04-26T01:18:36.081+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/odeslat
2025-04-26T01:18:36.082+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:36.082+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:36.115+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : Processing checkout submission for user: mirsvobo@gmail.com in currency: CZK. Apply RC: false
2025-04-26T01:18:36.115+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : Set email in DTO from principal for logged-in user: mirsvobo@gmail.com
2025-04-26T01:18:36.115+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : Getting logged-in customer: mirsvobo@gmail.com
2025-04-26T01:18:36.122+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : Customer 1 address matches DTO, no update needed.
2025-04-26T01:18:36.122+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : Using valid shipping costs from form: NoTax=859.58, Tax=180.51
2025-04-26T01:18:36.124+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : Attempting to create order with request: CreateOrderRequest(customerId=1, useCustomerAddresses=true, paymentMethod=BANK_TRANSFER, currency=CZK, customerNote=, couponCode=null, items=[CartItemDto(productId=1, quantity=1, isCustom=true, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=2, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=[]), CartItemDto(productId=2, quantity=1, isCustom=false, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=1, customDimensions=null, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=[])], shippingCostNoTax=859.58, shippingTax=180.51), Apply RC Flag: false
2025-04-26T01:18:36.133+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK. Apply RC: false
2025-04-26T01:18:36.133+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-26T01:18:36.140+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-26T01:18:36.141+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-26T01:18:36.141+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Invoice recipient is person: Miroslav Svoboda
2025-04-26T01:18:36.141+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-26T01:18:36.141+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-26T01:18:36.141+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-26T01:18:36.141+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-26T01:18:36.141+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1, TaxRate ID: 2, Apply RC Flag from Checkout: false
2025-04-26T01:18:36.181+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Selected Tax Rate ID 2 ('Snížená', Rate: 0.1200, Original RC Flag: false) validated for Product ID 1
2025-04-26T01:18:36.185+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Attribute surcharge calculated for currency CZK: 0
2025-04-26T01:18:36.185+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK
2025-04-26T01:18:36.185+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (CZK): 21600.00
2025-04-26T01:18:36.185+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK. Vypočtená ZÁKLADNÍ cena: 21600.00
2025-04-26T01:18:36.185+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-26T01:18:36.186+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit
2025-04-26T01:18:36.187+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-26T01:18:36.186454900
2025-04-26T01:18:36.201+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:18:36.201+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-26T01:18:36.201+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Setting OrderItem.isReverseCharge to: false (based SOLELY on checkout flag)
2025-04-26T01:18:36.202+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Recalculated Tax (RC=false): UnitTax=2592.00, TotalTax=2592.00 for OrderItem ID (new)
2025-04-26T01:18:36.202+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Final recalculated prices for OrderItem ID (new): UnitPriceWithoutTax=21600.00, UnitTaxAmount=2592.00, UnitPriceWithTax=24192.00, TotalPriceWithoutTax=21600.00, TotalTaxAmount=2592.00, TotalPriceWithTax=24192.00
2025-04-26T01:18:36.202+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finished processCartItem for Product ID: 1. RC applied: false, Total Price w/ Tax: 24192.00, Selected Rate ID: 2
2025-04-26T01:18:36.202+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 21600.00, Running Item Tax: 2592.00
2025-04-26T01:18:36.202+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-26T01:18:36.202+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2, TaxRate ID: 1, Apply RC Flag from Checkout: false
2025-04-26T01:18:36.223+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Selected Tax Rate ID 1 ('Základní', Rate: 0.2100, Original RC Flag: false) validated for Product ID 2
2025-04-26T01:18:36.225+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Attribute surcharge calculated for currency CZK: 0
2025-04-26T01:18:36.225+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-26T01:18:36.225+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: František | Lazura: Afromorsia | Střecha: Antracit
2025-04-26T01:18:36.226+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T01:18:36.226045100
2025-04-26T01:18:36.233+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T01:18:36.233+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T01:18:36.233+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Setting OrderItem.isReverseCharge to: false (based SOLELY on checkout flag)
2025-04-26T01:18:36.233+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Recalculated Tax (RC=false): UnitTax=5040.00, TotalTax=5040.00 for OrderItem ID (new)
2025-04-26T01:18:36.233+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Final recalculated prices for OrderItem ID (new): UnitPriceWithoutTax=24000.00, UnitTaxAmount=5040.00, UnitPriceWithTax=29040.00, TotalPriceWithoutTax=24000.00, TotalTaxAmount=5040.00, TotalPriceWithTax=29040.00
2025-04-26T01:18:36.233+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finished processCartItem for Product ID: 2. RC applied: false, Total Price w/ Tax: 29040.00, Selected Rate ID: 1
2025-04-26T01:18:36.233+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 45600.00, Running Item Tax: 7632.00
2025-04-26T01:18:36.233+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 45600.00, Final Item Tax: 7632.00
2025-04-26T01:18:36.234+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-26T01:18:36.234+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 859.58, Tax: 180.51, Estimated Rate: 0.2100
2025-04-26T01:18:36.235+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-26T01:18:36.235+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=46459.58, TotalTax=7812.51, OriginalTotalWithTax=54272.09, RoundedTotalToSave=54272
2025-04-26T01:18:36.235+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-26T01:18:36.235+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-26T01:18:36.235+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 54272 is 27136.00
2025-04-26T01:18:36.236+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 27000
2025-04-26T01:18:36.236+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 27000.00
2025-04-26T01:18:36.236+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-26T01:18:36.237+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 54272 is 27136.00
2025-04-26T01:18:36.237+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 27000
2025-04-26T01:18:36.237+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 27000.00
2025-04-26T01:18:36.237+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Deposit amount 27000.00 CZK calculated for custom order (new).
2025-04-26T01:18:36.237+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 27000.00
2025-04-26T01:18:36.237+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 210
2025-04-26T01:18:36.237+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Generated Order Code: 210
2025-04-26T01:18:36.237+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-26T01:18:36.291+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Order 210 created successfully. Total: 54272 CZK
2025-04-26T01:18:36.291+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 210...
2025-04-26T01:18:36.293+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 210. Currency: CZK
2025-04-26T01:18:36.309+02:00 ERROR 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Non-critical error generating proforma invoice for order 210: Order not found: 5. Order creation continues.

jakarta.persistence.EntityNotFoundException: Order not found: 5
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:352) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:352) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:77) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateProformaInvoice(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$0.generateProformaInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.service.OrderService.createOrder(OrderService.java:375) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>) ~[classes/:na]
	at org.example.eshop.controller.CheckoutController.processCheckout(CheckoutController.java:321) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.controller.CheckoutController$$SpringCGLIB$$0.processCheckout(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T01:18:36.315+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : Order 210 successfully created with currency CZK for user: mirsvobo@gmail.com
2025-04-26T01:18:36.316+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.Cart           : clearCart called for cart hash: 763099570. Clearing items and coupon.
2025-04-26T01:18:36.316+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.CheckoutController  : Session cart cleared for mirsvobo@gmail.com
2025-04-26T01:18:36.345+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T01:18:36.346+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:18:36.347+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:18:36.360+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T01:18:47.337+02:00  INFO 25672 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Order confirmation email sent successfully to mirsvobo@gmail.com for order 210
2025-04-26T01:19:05.529+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/210
2025-04-26T01:19:05.529+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:19:05.530+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:19:05.538+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 210
2025-04-26T01:19:05.538+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 210
2025-04-26T01:19:05.579+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.c.CustomerAccountController        : Order detail for CODE 210 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T01:19:35.425+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T01:19:35.426+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:19:35.426+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:19:35.432+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T01:19:35.436+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T01:19:35.451+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Found 5 orders matching criteria using specifications.
2025-04-26T01:19:35.452+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T01:19:35.461+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=5, TotalElements=5
2025-04-26T01:19:38.106+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/5
2025-04-26T01:19:38.107+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:19:38.107+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:19:38.110+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 5
2025-04-26T01:19:38.110+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 5
2025-04-26T01:19:38.152+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T01:19:38.160+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 5
2025-04-26T01:19:47.725+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T01:19:47.725+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:19:47.725+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:19:47.727+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T01:19:47.729+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T01:19:47.733+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Found 5 orders matching criteria using specifications.
2025-04-26T01:19:47.735+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T01:19:47.743+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=5, TotalElements=5
2025-04-26T01:19:48.842+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-26T01:19:48.842+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:19:48.842+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:19:48.843+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-26T01:19:48.846+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-26T00:00 and 2025-04-26T23:59:59.999999999
2025-04-26T01:19:48.854+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-26T01:19:48.860+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-26T01:19:48.864+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-26T01:19:48.870+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-26T01:19:48.873+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-26T01:19:48.876+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-26T01:19:48.881+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-26T01:19:48.889+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Found 5 orders matching criteria using specifications.
2025-04-26T01:19:48.890+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-26T01:19:53.676+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-26T01:19:53.676+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:19:53.676+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:19:53.678+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-26T01:19:53.678+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 1
2025-04-26T01:19:53.705+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T01:19:53.711+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-26T01:20:15.403+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/customers
2025-04-26T01:20:15.405+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:20:15.405+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:20:15.409+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.c.AdminCustomerController        : Requesting admin customer list view. Filters: email=null, name=null, enabled=null. Pageable: Page request [number: 0, size 20, sort: id: DESC]
2025-04-26T01:20:15.412+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Searching for customers with filters - Email: 'null', Name: 'null', Enabled: null, Page: Page request [number: 0, size 20, sort: id: DESC]
2025-04-26T01:20:17.535+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/customers/1
2025-04-26T01:20:17.535+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:20:17.536+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:20:17.537+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.c.AdminCustomerController        : Requesting admin customer detail view for ID: 1
2025-04-26T01:20:24.057+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-26T01:20:24.058+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T01:20:24.058+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T01:20:24.058+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-26T01:20:24.060+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-26T00:00 and 2025-04-26T23:59:59.999999999
2025-04-26T01:20:24.067+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-26T01:20:24.071+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-26T01:20:24.074+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-26T01:20:24.077+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-26T01:20:24.080+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-26T01:20:24.084+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-26T01:20:24.088+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-26T01:20:24.101+02:00  INFO 25672 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Found 5 orders matching criteria using specifications.
2025-04-26T01:20:24.103+02:00 DEBUG 25672 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-26T01:21:05.602+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T01:21:05.611+02:00  INFO 25672 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T01:21:05.622+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T01:21:05.626+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T01:21:05.630+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T01:21:05.630+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T01:21:05.631+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T01:21:05.631+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T01:21:05.631+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T01:21:05.631+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T01:21:05.631+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T01:21:05.632+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T01:21:05.632+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T01:21:05.632+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T01:21:05.632+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T01:21:05.632+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T01:21:05.632+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T01:21:05.649+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T01:21:05.653+02:00  INFO 25672 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T12:36:45.906+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 17444 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T12:36:45.915+02:00 DEBUG 17444 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T12:36:45.919+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T12:36:46.955+02:00  INFO 17444 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T12:36:46.956+02:00  INFO 17444 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T12:36:51.135+02:00  INFO 17444 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T12:36:51.489+02:00  INFO 17444 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 319 ms. Found 14 JPA repository interfaces.
2025-04-26T12:36:54.130+02:00  INFO 17444 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T12:36:54.167+02:00  INFO 17444 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T12:36:54.167+02:00  INFO 17444 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T12:36:54.340+02:00  INFO 17444 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T12:36:54.341+02:00  INFO 17444 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7378 ms
2025-04-26T12:36:55.344+02:00  INFO 17444 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T12:36:55.521+02:00  INFO 17444 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T12:36:55.531+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T12:36:55.613+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T12:36:55.623+02:00  INFO 17444 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T12:36:56.329+02:00  INFO 17444 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T12:36:56.412+02:00  INFO 17444 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T12:36:56.683+02:00  INFO 17444 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@71fe237d
2025-04-26T12:36:56.686+02:00  INFO 17444 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T12:36:56.876+02:00  INFO 17444 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T12:36:58.476+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.654+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T12:36:58.674+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T12:36:58.674+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.678+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T12:36:58.681+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.685+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T12:36:58.685+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.687+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T12:36:58.689+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.694+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T12:36:58.696+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.700+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T12:36:58.701+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.705+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T12:36:58.707+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.711+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T12:36:58.713+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.719+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T12:36:58.719+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.725+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T12:36:58.727+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.733+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T12:36:58.736+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.739+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T12:36:58.739+02:00  WARN 17444 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:36:58.744+02:00  INFO 17444 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T12:37:00.604+02:00  INFO 17444 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T12:37:00.841+02:00  INFO 17444 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T12:37:01.776+02:00  INFO 17444 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T12:37:04.181+02:00  INFO 17444 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T12:37:04.862+02:00  INFO 17444 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T12:37:04.864+02:00  INFO 17444 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T12:37:04.921+02:00  INFO 17444 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T12:37:05.859+02:00  INFO 17444 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : No existing numeric-like order codes found in database.
2025-04-26T12:37:05.861+02:00  INFO 17444 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 205
2025-04-26T12:37:07.809+02:00  WARN 17444 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T12:37:10.093+02:00  INFO 17444 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T12:37:10.539+02:00  INFO 17444 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T12:37:13.200+02:00  INFO 17444 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T12:37:17.852+02:00  INFO 17444 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T12:37:18.384+02:00  INFO 17444 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T12:37:18.460+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 34.929 seconds (process running for 39.067)
2025-04-26T12:37:18.546+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T12:37:18.907+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T12:37:19.507+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T12:37:19.594+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T12:37:19.596+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T12:37:19.892+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T12:37:19.938+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T12:37:19.965+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T12:37:19.976+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T12:37:20.001+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T12:37:20.014+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T12:37:20.029+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T12:37:20.043+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T12:37:20.044+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T12:37:20.044+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T12:37:20.111+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T12:37:20.166+02:00  WARN 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T12:37:20.182+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T12:37:20.184+02:00  INFO 17444 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T12:37:23.461+02:00  INFO 17444 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T12:37:23.463+02:00  INFO 17444 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T12:37:23.473+02:00  INFO 17444 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-04-26T12:39:37.187+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T12:39:37.227+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:37.227+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:37.229+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T12:39:37.234+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T12:39:37.389+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T12:39:37.390+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T12:39:37.403+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:37.403748600
2025-04-26T12:39:37.444+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:37.445+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:37.447+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:37.447533600
2025-04-26T12:39:37.458+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:37.459+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:37.461+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T12:39:37.465+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T12:39:42.499+02:00  WARN 17444 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:39:43.350+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:43.350+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:43.350+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:43.351+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:50.072+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T12:39:50.072+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:50.072+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:50.080+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T12:39:50.081+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T12:39:50.093+02:00  WARN 17444 --- [Eshop] [http-nio-8080-exec-6] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T12:39:50.144+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T12:39:50.144+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T12:39:50.144+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T12:39:50.145+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:50.145705500
2025-04-26T12:39:50.150+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:50.152+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:50.152+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:50.152223900
2025-04-26T12:39:50.157+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:50.157+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:50.157+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T12:39:50.158+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T12:39:50.317+02:00  WARN 17444 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-26T12:39:50.320+02:00  WARN 17444 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:39:50.439+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:50.440+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:50.441+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:50.441+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:51.346+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/na-miru
2025-04-26T12:39:51.347+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:51.347+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:51.350+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: na-miru
2025-04-26T12:39:51.350+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using findActiveBySlugWithDetails. Slug: na-miru
2025-04-26T12:39:51.393+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'na-miru' nalezen (with details).
2025-04-26T12:39:51.393+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: na-miru) <<<
2025-04-26T12:39:51.395+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 1 nalezen pro slug 'na-miru'.
2025-04-26T12:39:51.396+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK
2025-04-26T12:39:51.398+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (CZK): 21600.00
2025-04-26T12:39:51.398+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK. Vypočtená ZÁKLADNÍ cena: 21600.00
2025-04-26T12:39:51.398+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: EUR
2025-04-26T12:39:51.398+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (EUR): 900.00
2025-04-26T12:39:51.398+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: EUR. Vypočtená ZÁKLADNÍ cena: 900.00
2025-04-26T12:39:51.398+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : [ProductController] Výchozí ZÁKLADNÍ cena (bez doplňků/atributů) pro custom produkt ID 1: CZK=21600.00, EUR=900.00
2025-04-26T12:39:51.408+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : JSON-LD data vygenerována a přidána do modelu.
2025-04-26T12:39:51.408+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : DEBUG: Načtené availableTaxRates pro produkt ID 1: 2
2025-04-26T12:39:51.411+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : DEBUG: Přidávám sortedTaxRates do modelu, velikost: 2
2025-04-26T12:39:51.411+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : Available designs: 1, glazes: 1, roofColors: 1
2025-04-26T12:39:51.411+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro CUSTOM produkt ID 1
2025-04-26T12:39:51.413+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : [ProductController] Grouped addons: [Montážní materiál]
2025-04-26T12:39:51.413+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (CUSTOM). Vracím 'produkt-detail-custom'. Model keys: [currentGlobalCurrency, product, initialCustomPriceCZK, initialCustomPriceEUR, initialCustomPriceError, jsonLdData, availableTaxRates, availableDesigns, availableGlazes, availableRoofColors, configurator, groupedAddons, cartItemDto]
2025-04-26T12:39:51.692+02:00  WARN 17444 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:39:51.780+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /api/product/calculate-price
2025-04-26T12:39:51.780+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:51.780+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:51.854+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do API calculateCustomPrice (detailed). Product ID: 1
2025-04-26T12:39:51.854+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.ProductController   : [ProductController] Calc request data: ProductId=1, Dimensions={length=300.00, width=300.00, height=300.00}, DesignId=2, GlazeId=1, RoofColorId=1, AddonIds=[]
2025-04-26T12:39:51.858+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDetailedCustomPrice. Product ID: 1
2025-04-26T12:39:51.879+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:51.879+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:51.880+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:51.880+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:51.910+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Base price calculated: CZK=21600.00, EUR=900.00
2025-04-26T12:39:51.923+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Design price: CZK=0.00, EUR=0.00
2025-04-26T12:39:51.925+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Glaze price: CZK=0.00, EUR=0.00
2025-04-26T12:39:51.927+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] RoofColor price: CZK=0.00, EUR=0.00
2025-04-26T12:39:51.929+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total Addons price: CZK=0.00, EUR=0.00
2025-04-26T12:39:51.929+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total price calculated: CZK=21600.00, EUR=900.00
2025-04-26T12:39:51.929+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDetailedCustomPrice. Product ID: 1. Response has error: false
2025-04-26T12:39:51.930+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.ProductController   : >>> [ProductController] API calculateCustomPrice (detailed) úspěšně spočítána. Product ID 1: Total CZK=21600.00, Total EUR=900.00. Vracím OK.
2025-04-26T12:39:52.544+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T12:39:52.544+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:52.544+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:52.544+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T12:39:52.547+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T12:39:52.592+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T12:39:52.592+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T12:39:52.595+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:52.595030400
2025-04-26T12:39:52.601+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:52.601+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:52.601+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:52.601883
2025-04-26T12:39:52.606+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:52.607+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:52.607+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T12:39:52.608+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T12:39:53.330+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:53.331+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:53.331+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:53.331+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:53.338+02:00  WARN 17444 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:39:54.470+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:54.470+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:54.470+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:54.471+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:54.695+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:54.696+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:54.696+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:54.696+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:55.607+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T12:39:55.607+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:55.607+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:55.607+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T12:39:55.609+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T12:39:55.644+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T12:39:55.644+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T12:39:55.645+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:55.645955600
2025-04-26T12:39:55.651+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:55.651+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:55.651+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:55.651685200
2025-04-26T12:39:55.656+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:55.657+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:55.657+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T12:39:55.657+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T12:39:56.015+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:56.016+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:56.016+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:56.017+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:56.597+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:56.597+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:56.597+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:56.597+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:56.820+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:56.821+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:56.821+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:56.821+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:57.552+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:57.552+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:57.552+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:57.552+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:57.750+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:57.750+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:57.750+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:57.750+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:57.919+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:57.920+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:57.920+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:57.920+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:58.122+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:58.124+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:58.124+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:58.124+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:58.269+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:58.269+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:58.269+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:58.269+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:58.465+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T12:39:58.465+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:58.465+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:58.465+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T12:39:59.710+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.CustomUserDetailsService   : Attempting to load user by email: mirsvobo@gmail.com
2025-04-26T12:39:59.716+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.CustomUserDetailsService   : User found: mirsvobo@gmail.com, Enabled: true, Roles: [ROLE_USER, ROLE_ADMIN]
2025-04-26T12:39:59.875+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T12:39:59.876+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:39:59.876+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:39:59.876+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T12:39:59.877+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T12:39:59.912+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T12:39:59.912+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T12:39:59.913+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:59.913556200
2025-04-26T12:39:59.917+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:59.918+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:59.918+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:39:59.918905300
2025-04-26T12:39:59.922+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:39:59.922+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:39:59.922+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T12:39:59.923+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T12:40:00.375+02:00  WARN 17444 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-04-26T12:40:01.372+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /o-nas
2025-04-26T12:40:01.372+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:40:01.372+02:00  INFO 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:40:01.373+02:00 DEBUG 17444 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.AboutUsController   : Zobrazuji stránku O nás.
2025-04-26T12:40:48.206+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T12:40:48.225+02:00  INFO 17444 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T12:40:48.247+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T12:40:48.258+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T12:40:48.268+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T12:40:48.268+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T12:40:48.269+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T12:40:48.270+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T12:40:48.271+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T12:40:48.271+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T12:40:48.272+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T12:40:48.275+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T12:40:48.275+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T12:40:48.276+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T12:40:48.276+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T12:40:48.277+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T12:40:48.278+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T12:40:48.321+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T12:40:48.329+02:00  INFO 17444 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T12:41:01.512+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 28264 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T12:41:01.515+02:00 DEBUG 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T12:41:01.517+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T12:41:01.969+02:00  INFO 28264 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T12:41:01.970+02:00  INFO 28264 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T12:41:03.714+02:00  INFO 28264 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T12:41:03.830+02:00  INFO 28264 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 14 JPA repository interfaces.
2025-04-26T12:41:05.229+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T12:41:05.267+02:00  INFO 28264 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T12:41:05.268+02:00  INFO 28264 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T12:41:05.420+02:00  INFO 28264 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T12:41:05.421+02:00  INFO 28264 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3451 ms
2025-04-26T12:41:06.138+02:00  INFO 28264 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T12:41:06.273+02:00  INFO 28264 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T12:41:06.284+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T12:41:06.347+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T12:41:06.355+02:00  INFO 28264 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T12:41:06.772+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T12:41:06.813+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T12:41:06.921+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2ea8aeb6
2025-04-26T12:41:06.924+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T12:41:07.015+02:00  INFO 28264 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T12:41:08.111+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.224+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T12:41:08.239+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.242+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T12:41:08.243+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.246+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T12:41:08.247+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.251+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T12:41:08.252+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.256+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T12:41:08.257+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.260+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T12:41:08.261+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.264+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T12:41:08.266+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.269+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T12:41:08.270+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.275+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T12:41:08.276+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.279+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T12:41:08.280+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.286+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T12:41:08.287+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.289+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T12:41:08.291+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T12:41:08.292+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:41:08.294+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T12:41:10.095+02:00  INFO 28264 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T12:41:10.368+02:00  INFO 28264 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T12:41:11.814+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T12:41:14.656+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T12:41:15.125+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T12:41:15.126+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T12:41:15.157+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T12:41:15.406+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : No existing numeric-like order codes found in database.
2025-04-26T12:41:15.407+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 205
2025-04-26T12:41:16.072+02:00  WARN 28264 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T12:41:16.826+02:00  INFO 28264 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T12:41:16.980+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T12:41:19.301+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T12:41:21.908+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T12:41:22.158+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T12:41:22.206+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 21.818 seconds (process running for 23.753)
2025-04-26T12:41:22.261+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T12:41:22.467+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T12:41:22.468+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T12:41:22.469+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T12:41:22.476+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-04-26T12:41:22.781+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T12:41:22.803+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T12:41:22.803+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T12:41:22.962+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T12:41:22.978+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T12:41:22.986+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T12:41:22.998+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T12:41:23.025+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T12:41:23.046+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T12:41:23.058+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T12:41:23.069+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T12:41:23.070+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T12:41:23.072+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T12:41:23.112+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T12:41:23.137+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T12:41:23.155+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T12:41:23.156+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T12:41:33.040+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /o-nas
2025-04-26T12:41:33.042+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:41:33.043+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:41:33.045+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.AboutUsController   : Zobrazuji stránku O nás.
2025-04-26T12:41:38.979+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T12:41:38.979+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:41:38.980+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:41:38.981+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T12:41:38.983+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T12:41:39.066+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T12:41:39.066+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T12:41:39.074+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:41:39.074297200
2025-04-26T12:41:39.095+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:41:39.096+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:41:39.098+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:41:39.098055
2025-04-26T12:41:39.103+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:41:39.104+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:41:39.106+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T12:41:39.108+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T12:41:48.606+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:48:03.313+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T12:48:03.318+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:03.320+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:03.378+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T12:48:03.394+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T12:48:03.440+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Found 0 orders matching criteria using specifications.
2025-04-26T12:48:03.444+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T12:48:03.477+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=0, TotalElements=0
2025-04-26T12:48:05.845+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T12:48:05.846+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:05.846+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:05.847+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T12:48:05.848+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T12:48:05.891+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T12:48:05.892+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T12:48:05.895+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:48:05.895256600
2025-04-26T12:48:05.902+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:48:05.903+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:48:05.903+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:48:05.903817
2025-04-26T12:48:05.913+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:48:05.914+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:48:05.914+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T12:48:05.916+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T12:48:06.263+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:48:08.468+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-26T12:48:08.469+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:08.469+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:08.470+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: 88392699
2025-04-26T12:48:08.478+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Cart items before display: {}
2025-04-26T12:48:08.479+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 0 items.
2025-04-26T12:48:08.479+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-26T12:48:08.480+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-26T12:48:20.090+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T12:48:20.091+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:20.091+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:20.093+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T12:48:20.093+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T12:48:20.097+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-7] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T12:48:20.121+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T12:48:20.122+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T12:48:20.122+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T12:48:20.123+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:48:20.123203300
2025-04-26T12:48:20.128+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:48:20.128+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:48:20.129+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T12:48:20.129313900
2025-04-26T12:48:20.134+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:48:20.134+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T12:48:20.134+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T12:48:20.134+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T12:48:20.247+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:48:20.247+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-26T12:48:22.390+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/na-miru
2025-04-26T12:48:22.390+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:22.390+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:22.393+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: na-miru
2025-04-26T12:48:22.394+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using findActiveBySlugWithDetails. Slug: na-miru
2025-04-26T12:48:22.435+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'na-miru' nalezen (with details).
2025-04-26T12:48:22.436+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: na-miru) <<<
2025-04-26T12:48:22.436+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 1 nalezen pro slug 'na-miru'.
2025-04-26T12:48:22.438+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK
2025-04-26T12:48:22.438+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (CZK): 21600.00
2025-04-26T12:48:22.438+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK. Vypočtená ZÁKLADNÍ cena: 21600.00
2025-04-26T12:48:22.438+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: EUR
2025-04-26T12:48:22.438+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (EUR): 900.00
2025-04-26T12:48:22.439+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: EUR. Vypočtená ZÁKLADNÍ cena: 900.00
2025-04-26T12:48:22.439+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : [ProductController] Výchozí ZÁKLADNÍ cena (bez doplňků/atributů) pro custom produkt ID 1: CZK=21600.00, EUR=900.00
2025-04-26T12:48:22.452+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : JSON-LD data vygenerována a přidána do modelu.
2025-04-26T12:48:22.452+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : DEBUG: Načtené availableTaxRates pro produkt ID 1: 2
2025-04-26T12:48:22.454+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : DEBUG: Přidávám sortedTaxRates do modelu, velikost: 2
2025-04-26T12:48:22.454+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : Available designs: 1, glazes: 1, roofColors: 1
2025-04-26T12:48:22.454+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro CUSTOM produkt ID 1
2025-04-26T12:48:22.456+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : [ProductController] Grouped addons: [Montážní materiál]
2025-04-26T12:48:22.457+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (CUSTOM). Vracím 'produkt-detail-custom'. Model keys: [currentGlobalCurrency, product, initialCustomPriceCZK, initialCustomPriceEUR, initialCustomPriceError, jsonLdData, availableTaxRates, availableDesigns, availableGlazes, availableRoofColors, configurator, groupedAddons, cartItemDto]
2025-04-26T12:48:22.813+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:48:22.851+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /api/product/calculate-price
2025-04-26T12:48:22.851+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:22.853+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:22.900+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do API calculateCustomPrice (detailed). Product ID: 1
2025-04-26T12:48:22.900+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : [ProductController] Calc request data: ProductId=1, Dimensions={length=300.00, width=300.00, height=300.00}, DesignId=2, GlazeId=1, RoofColorId=1, AddonIds=[]
2025-04-26T12:48:22.901+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDetailedCustomPrice. Product ID: 1
2025-04-26T12:48:22.931+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Base price calculated: CZK=21600.00, EUR=900.00
2025-04-26T12:48:22.941+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Design price: CZK=0.00, EUR=0.00
2025-04-26T12:48:22.943+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Glaze price: CZK=0.00, EUR=0.00
2025-04-26T12:48:22.944+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] RoofColor price: CZK=0.00, EUR=0.00
2025-04-26T12:48:22.945+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total Addons price: CZK=0.00, EUR=0.00
2025-04-26T12:48:22.945+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total price calculated: CZK=21600.00, EUR=900.00
2025-04-26T12:48:22.945+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDetailedCustomPrice. Product ID: 1. Response has error: false
2025-04-26T12:48:22.946+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : >>> [ProductController] API calculateCustomPrice (detailed) úspěšně spočítána. Product ID 1: Total CZK=21600.00, Total EUR=900.00. Vracím OK.
2025-04-26T12:48:27.348+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /api/product/calculate-price
2025-04-26T12:48:27.348+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:27.348+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:27.350+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do API calculateCustomPrice (detailed). Product ID: 1
2025-04-26T12:48:27.350+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : [ProductController] Calc request data: ProductId=1, Dimensions={length=300.00, width=300.00, height=300.00}, DesignId=2, GlazeId=1, RoofColorId=1, AddonIds=[]
2025-04-26T12:48:27.351+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDetailedCustomPrice. Product ID: 1
2025-04-26T12:48:27.380+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Base price calculated: CZK=21600.00, EUR=900.00
2025-04-26T12:48:27.381+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Design price: CZK=0.00, EUR=0.00
2025-04-26T12:48:27.382+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Glaze price: CZK=0.00, EUR=0.00
2025-04-26T12:48:27.382+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] RoofColor price: CZK=0.00, EUR=0.00
2025-04-26T12:48:27.382+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total Addons price: CZK=0.00, EUR=0.00
2025-04-26T12:48:27.382+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total price calculated: CZK=21600.00, EUR=900.00
2025-04-26T12:48:27.382+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDetailedCustomPrice. Product ID: 1. Response has error: false
2025-04-26T12:48:27.383+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.ProductController   : >>> [ProductController] API calculateCustomPrice (detailed) úspěšně spočítána. Product ID 1: Total CZK=21600.00, Total EUR=900.00. Vracím OK.
2025-04-26T12:48:31.295+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik/pridat
2025-04-26T12:48:31.296+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:31.296+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:31.380+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Raw request parameters: _csrf=[j4VA2Ne9lJIsJ96T0yyy0yu0U-TINa1EDTS0fZFxdAXe-YNstrN26-_cpvYBQ72m5AGGtxPQft38BMhpaASBT6hIFTXsyLcN], isCustom=[true], productId=[1], customDimensions[length]=[300.00], customDimensions[width]=[300.00], customDimensions[height]=[300.00], selectedDesignId=[2], selectedGlazeId=[1], selectedRoofColorId=[1], selectedTaxRateId=[1], quantity=[1]
2025-04-26T12:48:31.380+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : --- addToCart START --- Cart hash: 88392699
2025-04-26T12:48:31.380+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Received CartItemDto (after manual 'isCustom' set): CartItemDto(productId=1, quantity=1, isCustom=true, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=1, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=null)
2025-04-26T12:48:31.392+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details) using findByIdWithDetails. ID: 1
2025-04-26T12:48:31.426+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 1 nalezen (with details).
2025-04-26T12:48:31.426+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 1) <<<
2025-04-26T12:48:31.429+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Processing Cart Item: isCustom = true
2025-04-26T12:48:31.440+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Applied Tax Rate 21.00% (RC from TaxRate entity: false)
2025-04-26T12:48:31.440+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Processing CUSTOM product path for product ID: 1
2025-04-26T12:48:31.441+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDetailedCustomPrice. Product ID: 1
2025-04-26T12:48:31.455+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Base price calculated: CZK=21600.00, EUR=900.00
2025-04-26T12:48:31.456+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Design price: CZK=0.00, EUR=0.00
2025-04-26T12:48:31.456+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Glaze price: CZK=0.00, EUR=0.00
2025-04-26T12:48:31.456+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] RoofColor price: CZK=0.00, EUR=0.00
2025-04-26T12:48:31.456+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total Addons price: CZK=0.00, EUR=0.00
2025-04-26T12:48:31.456+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [calculateDetailedCustomPrice] Total price calculated: CZK=21600.00, EUR=900.00
2025-04-26T12:48:31.458+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDetailedCustomPrice. Product ID: 1. Response has error: false
2025-04-26T12:48:31.458+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : [processCartItem] No addons selected for custom item.
2025-04-26T12:48:31.458+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Final unit prices set for CartItem: CZK=21600.00, EUR=900.00
2025-04-26T12:48:31.459+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Built variant info: Na míru | Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit
2025-04-26T12:48:31.459+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Generated Cart Item ID: P1-T1-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1
2025-04-26T12:48:31.461+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.Cart           : addItem called for cart hash: 812797270. Item ID: P1-T1-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1, Product ID: 1
2025-04-26T12:48:31.461+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.Cart           : Added new cart item ID: P1-T1-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1. Cart hash: 812797270
2025-04-26T12:48:31.461+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.Cart           : Cart items map after addItem (hash: 812797270): {P1-T1-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1=CartItem(cartItemId=P1-T1-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1, productId=1, productName=test, productSlug=na-miru, imageUrl=/images/placeholder.png, quantity=1, isCustom=true, length=300.00, width=300.00, height=300.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=1, selectedTaxRateValue=0.2100, selectedIsReverseCharge=false, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=21600.00, unitPriceEUR=900.00, variantInfo=Na míru | Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T12:48:31.481+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : --- addToCart END --- Item added/updated. Cart hash: 88392699, Items count: 1
2025-04-26T12:48:31.561+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-26T12:48:31.561+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:31.561+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:31.561+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: 88392699
2025-04-26T12:48:31.562+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Cart items before display: {P1-T1-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1=CartItem(cartItemId=P1-T1-C-DIMS[height=300;length=300;width=300;]-D2-G1-RC1, productId=1, productName=test, productSlug=na-miru, imageUrl=/images/placeholder.png, quantity=1, isCustom=true, length=300.00, width=300.00, height=300.00, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedDesignName=František, selectedGlazeName=Afromorsia, selectedRoofColorName=Antracit, selectedTaxRateId=1, selectedTaxRateValue=0.2100, selectedIsReverseCharge=false, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddons=[], unitPriceCZK=21600.00, unitPriceEUR=900.00, variantInfo=Na míru | Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit)}
2025-04-26T12:48:31.562+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 1 items.
2025-04-26T12:48:31.562+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-26T12:48:31.566+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Cart subtotal (CZK): 21600.00
2025-04-26T12:48:31.566+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Validated coupon: None, Discount amount (CZK): 0
2025-04-26T12:48:31.568+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Total VAT (CZK): 4536.00
2025-04-26T12:48:31.568+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : VAT Breakdown (CZK): {0.21=4536.00}
2025-04-26T12:48:31.568+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Total Price Before Shipping (CZK): 26136.00
2025-04-26T12:48:31.570+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Total Price Without Tax After Discount (CZK): 21600.00
2025-04-26T12:48:31.570+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-26T12:48:31.733+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:48:33.967+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna
2025-04-26T12:48:33.967+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:33.968+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:33.972+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Displaying checkout page for user: mirsvobo@gmail.com in currency: CZK
2025-04-26T12:48:33.983+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Initialized checkout form DTO from logged-in customer 1.
2025-04-26T12:48:33.984+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Added shippingTaxRate 0.21 to model.
2025-04-26T12:48:33.984+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T12:48:33.984+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T12:48:34.120+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T12:48:34.496+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T12:48:34.496+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Preparing checkout summary model data for currency: CZK
2025-04-26T12:48:34.496+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Rounding calculation: originalTotalPrice=27176.09, roundedTotalPrice=27176, roundingDifference=0.09
2025-04-26T12:48:34.496+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Checkout summary model prepared: subtotal=21600.00, itemDiscount=0, itemVat=4536.00, origShipCost=859.58, shipDiscount=0, finalShipCost=859.58, finalShipTax=180.51, originalTotal=27176.09, roundingDiff=0.09, finalRoundedTotal=27176, totalVatWithShip=4716.51, shippingError='null'
2025-04-26T12:48:34.496+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : Checkout page model prepared for mirsvobo@gmail.com. Currency: CZK
2025-04-26T12:48:39.909+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/calculate-shipping
2025-04-26T12:48:39.910+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:39.910+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:39.922+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CheckoutController  : AJAX: Calculating shipping for user mirsvobo@gmail.com and currency CZK with address: ShippingAddressDto(street=Masarykovo náměstí 2799, city=Pardubice, zipCode=53002, country=Česká republika)
2025-04-26T12:48:39.930+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-26T12:48:39.930+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Masarykovo náměstí 2799, Pardubice, 53002, Česká republika'
2025-04-26T12:48:40.012+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 859.58 CZK (Distance: 24.0 km)
2025-04-26T12:48:40.012+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CheckoutController  : AJAX: Calculated original shipping cost (no tax): 859.58
2025-04-26T12:48:40.013+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CheckoutController  : AJAX: Shipping calculation successful for user mirsvobo@gmail.com. Response: ShippingCalculationResponseDto(shippingCostNoTax=859.58, shippingTax=180.51, totalPrice=27176.09, vatBreakdown={0.21=4536.00}, totalVatWithShipping=4716.51, errorMessage=null, currencySymbol=Kč, originalShippingCostNoTax=859.58, originalShippingTax=180.51, shippingDiscountAmount=0)
2025-04-26T12:48:49.392+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/odeslat
2025-04-26T12:48:49.392+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:49.392+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:49.423+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Processing checkout submission for user: mirsvobo@gmail.com in currency: CZK. Apply RC: true
2025-04-26T12:48:49.423+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Set email in DTO from principal for logged-in user: mirsvobo@gmail.com
2025-04-26T12:48:49.423+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Getting logged-in customer: mirsvobo@gmail.com
2025-04-26T12:48:49.428+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Customer 1 address matches DTO, no update needed.
2025-04-26T12:48:49.429+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Using valid shipping costs from form: NoTax=859.58, Tax=180.51
2025-04-26T12:48:49.430+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Attempting to create order with request: CreateOrderRequest(customerId=1, useCustomerAddresses=true, paymentMethod=BANK_TRANSFER, currency=CZK, customerNote=, couponCode=null, items=[CartItemDto(productId=1, quantity=1, isCustom=true, selectedDesignId=2, selectedGlazeId=1, selectedRoofColorId=1, selectedTaxRateId=1, customDimensions={height=300.00, length=300.00, width=300.00}, customRoofOverstep=null, customHasDivider=false, customHasGutter=false, customHasGardenShed=false, selectedAddonIds=[])], shippingCostNoTax=859.58, shippingTax=180.51), Apply RC Flag: true
2025-04-26T12:48:49.435+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK. Apply RC: true
2025-04-26T12:48:49.435+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-26T12:48:49.444+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-26T12:48:49.444+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-26T12:48:49.444+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Invoice recipient is person: Miroslav Svoboda
2025-04-26T12:48:49.444+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-26T12:48:49.444+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-26T12:48:49.444+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-26T12:48:49.445+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-26T12:48:49.445+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1, TaxRate ID: 1, Apply RC Flag from Checkout: true
2025-04-26T12:48:49.479+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Selected Tax Rate ID 1 ('Základní', Rate: 0.2100, Original RC Flag: false) validated for Product ID 1
2025-04-26T12:48:49.482+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Attribute surcharge calculated for currency CZK: 0
2025-04-26T12:48:49.482+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK
2025-04-26T12:48:49.483+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [ProductService] Calculated BASE price from dimensions (CZK): 21600.00
2025-04-26T12:48:49.483+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice (Base Dimensions Only). Product ID: 1, Currency: CZK. Vypočtená ZÁKLADNÍ cena: 21600.00
2025-04-26T12:48:49.483+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-26T12:48:49.483+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 300x300x300 cm|Design: František|Lazura: Afromorsia|Střecha: Antracit
2025-04-26T12:48:49.483+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-26T12:48:49.483136600
2025-04-26T12:48:49.493+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T12:48:49.493+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-26T12:48:49.493+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Setting OrderItem.isReverseCharge to: true (based SOLELY on checkout flag)
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Recalculated Tax (RC=true): UnitTax=0, TotalTax=0 for OrderItem ID (new)
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Final recalculated prices for OrderItem ID (new): UnitPriceWithoutTax=21600.00, UnitTaxAmount=0.00, UnitPriceWithTax=21600.00, TotalPriceWithoutTax=21600.00, TotalTaxAmount=0.00, TotalPriceWithTax=21600.00
2025-04-26T12:48:49.494+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finished processCartItem for Product ID: 1. RC applied: true, Total Price w/ Tax: 21600.00, Selected Rate ID: 1
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 21600.00, Running Item Tax: 0.00
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 21600.00, Final Item Tax: 0.00
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 859.58, Tax: 180.51, Estimated Rate: 0.2100
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=22459.58, TotalTax=180.51, OriginalTotalWithTax=22640.09, RoundedTotalToSave=22640
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-26T12:48:49.494+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-26T12:48:49.495+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 22640 is 11320.00
2025-04-26T12:48:49.495+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 11000
2025-04-26T12:48:49.495+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 11000.00
2025-04-26T12:48:49.495+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-26T12:48:49.495+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 22640 is 11320.00
2025-04-26T12:48:49.495+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 11000
2025-04-26T12:48:49.495+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 11000.00
2025-04-26T12:48:49.495+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Deposit amount 11000.00 CZK calculated for custom order (new).
2025-04-26T12:48:49.495+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 11000.00
2025-04-26T12:48:49.496+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 206
2025-04-26T12:48:49.496+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Generated Order Code: 206
2025-04-26T12:48:49.496+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-26T12:48:49.550+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Order 206 created successfully. Total: 22640 CZK
2025-04-26T12:48:49.550+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 206...
2025-04-26T12:48:49.554+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 206. Currency: CZK
2025-04-26T12:48:49.562+02:00 ERROR 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Non-critical error generating proforma invoice for order 206: Order not found: 6. Order creation continues.

jakarta.persistence.EntityNotFoundException: Order not found: 6
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:352) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:352) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:77) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateProformaInvoice(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$0.generateProformaInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.service.OrderService.createOrder(OrderService.java:375) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>) ~[classes/:na]
	at org.example.eshop.controller.CheckoutController.processCheckout(CheckoutController.java:321) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.controller.CheckoutController$$SpringCGLIB$$0.processCheckout(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T12:48:49.578+02:00  WARN 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Mismatch between calculated rounded price (27176) and saved order price (22640) for order 206
2025-04-26T12:48:49.578+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Order 206 successfully created with currency CZK for user: mirsvobo@gmail.com
2025-04-26T12:48:49.578+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.Cart           : clearCart called for cart hash: 812797270. Clearing items and coupon.
2025-04-26T12:48:49.578+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.CheckoutController  : Session cart cleared for mirsvobo@gmail.com
2025-04-26T12:48:49.599+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T12:48:49.599+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:49.600+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:49.607+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T12:48:51.719+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T12:48:51.720+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:48:51.720+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:48:51.727+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T12:48:51.728+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T12:48:51.755+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T12:49:00.104+02:00  INFO 28264 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Order confirmation email sent successfully to mirsvobo@gmail.com for order 206
2025-04-26T12:50:26.981+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T12:50:26.982+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:50:26.982+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:50:27.008+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T12:50:27.009+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T12:50:27.084+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T12:50:30.955+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T12:50:30.955+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:50:30.955+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:50:30.963+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T12:50:30.963+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T12:50:31.002+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-8] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T12:50:54.431+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T12:50:54.432+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:50:54.432+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:50:54.842+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T12:50:54.842+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T12:50:54.906+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T12:51:00.355+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T12:51:00.357+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:51:00.357+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:51:00.366+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T12:51:00.366+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T12:51:00.398+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-7] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T12:51:01.639+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T12:51:01.639+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:51:01.639+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:51:01.646+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-9] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T12:51:01.646+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T12:51:01.686+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-9] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T12:51:09.377+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T12:51:09.378+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:51:09.378+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:51:09.379+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T12:51:09.380+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T12:51:09.385+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Found 1 orders matching criteria using specifications.
2025-04-26T12:51:09.388+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T12:51:09.395+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=1, TotalElements=1
2025-04-26T12:51:12.088+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T12:51:12.088+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T12:51:12.088+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T12:51:12.092+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T12:51:12.092+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T12:51:12.116+02:00 DEBUG 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T12:51:12.124+02:00  INFO 28264 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T12:52:13.178+02:00  INFO 28264 --- [Eshop] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-26T12:52:13.186+02:00  INFO 28264 --- [Eshop] [Thread-6] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T12:52:13.205+02:00  INFO 28264 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T12:52:13.222+02:00  INFO 28264 --- [Eshop] [Thread-6] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T12:52:13.230+02:00  INFO 28264 --- [Eshop] [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T12:52:13.238+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T12:52:13.238+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T12:52:13.239+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T12:52:13.239+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T12:52:13.239+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T12:52:13.241+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T12:52:13.241+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T12:52:13.242+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T12:52:13.243+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T12:52:13.243+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T12:52:13.243+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T12:52:13.244+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T12:52:13.244+02:00  INFO 28264 --- [Eshop] [Thread-6] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T12:52:13.261+02:00  INFO 28264 --- [Eshop] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T12:52:13.268+02:00  INFO 28264 --- [Eshop] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T12:52:13.653+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 28264 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T12:52:13.654+02:00 DEBUG 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T12:52:13.654+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T12:52:15.639+02:00  INFO 28264 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T12:52:15.756+02:00  WARN 28264 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: java.lang.TypeNotPresentException: Type org.example.eshop.model.Order not present
2025-04-26T12:52:15.782+02:00  INFO 28264 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-26T12:52:15.853+02:00 ERROR 28264 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

java.lang.TypeNotPresentException: Type org.example.eshop.model.Order not present
	at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]
	at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]
	at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]
	at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]
	at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]
	at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]
	at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]
	at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]
	at java.base/java.lang.Class.getGenericInterfaces(Class.java:1296) ~[na:na]
	at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:553) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.ResolvableType.as(ResolvableType.java:501) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.data.util.TypeDiscoverer.getSuperTypeInformation(TypeDiscoverer.java:263) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.ClassTypeInformation.getSuperTypeInformation(ClassTypeInformation.java:37) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.TypeInformation.getRequiredSuperTypeInformation(TypeInformation.java:327) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.DefaultRepositoryMetadata.<init>(DefaultRepositoryMetadata.java:55) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:79) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:93) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:168) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-3.4.4.jar:3.4.4]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:397) ~[spring-context-6.2.5.jar:6.2.5]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:149) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:121) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:430) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: java.lang.ClassNotFoundException: org.example.eshop.model.Order
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]
	... 39 common frames omitted

2025-04-26T12:52:21.484+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 28264 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T12:52:21.485+02:00 DEBUG 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T12:52:21.485+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T12:52:22.553+02:00  INFO 28264 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T12:52:22.654+02:00  INFO 28264 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98 ms. Found 14 JPA repository interfaces.
2025-04-26T12:52:23.303+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T12:52:23.307+02:00  INFO 28264 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T12:52:23.307+02:00  INFO 28264 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T12:52:23.449+02:00  INFO 28264 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T12:52:23.449+02:00  INFO 28264 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1959 ms
2025-04-26T12:52:24.091+02:00  INFO 28264 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T12:52:24.111+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T12:52:24.121+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T12:52:24.123+02:00  INFO 28264 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T12:52:24.286+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T12:52:24.290+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-04-26T12:52:24.308+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.mariadb.jdbc.Connection@6138e18f
2025-04-26T12:52:24.309+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-04-26T12:52:24.314+02:00  INFO 28264 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T12:52:28.463+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.552+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T12:52:28.558+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.596+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T12:52:28.598+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.630+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T12:52:28.631+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.641+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T12:52:28.642+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.673+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T12:52:28.676+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.684+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T12:52:28.685+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T12:52:28.685+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.689+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T12:52:28.690+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.697+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T12:52:28.699+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.706+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T12:52:28.706+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.716+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T12:52:28.717+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.720+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T12:52:28.721+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.724+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T12:52:28.726+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:52:28.730+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T12:52:33.529+02:00  INFO 28264 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T12:52:33.824+02:00  INFO 28264 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T12:52:35.343+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T12:52:35.348+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T12:52:35.348+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T12:52:35.384+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T12:52:35.504+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T12:52:35.504+02:00  INFO 28264 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T12:52:36.290+02:00  WARN 28264 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T12:52:37.154+02:00  INFO 28264 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T12:52:37.210+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T12:52:38.179+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T12:52:39.576+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T12:52:39.687+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T12:52:39.717+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 18.344 seconds (process running for 701.263)
2025-04-26T12:52:39.728+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T12:52:39.741+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T12:52:39.761+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T12:52:39.770+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T12:52:39.770+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T12:52:39.968+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T12:52:39.988+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T12:52:40.002+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T12:52:40.059+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T12:52:40.080+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T12:52:40.095+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T12:52:40.108+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T12:52:40.116+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T12:52:40.116+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T12:52:40.116+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T12:52:40.144+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T12:52:40.166+02:00  WARN 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T12:52:40.175+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T12:52:40.175+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T12:52:40.187+02:00  INFO 28264 --- [Eshop] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-04-26T12:55:15.584+02:00  INFO 28264 --- [Eshop] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-26T12:55:15.591+02:00  INFO 28264 --- [Eshop] [Thread-8] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T12:55:15.620+02:00  INFO 28264 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T12:55:15.634+02:00  INFO 28264 --- [Eshop] [Thread-8] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T12:55:15.636+02:00  INFO 28264 --- [Eshop] [Thread-8] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T12:55:15.638+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T12:55:15.639+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T12:55:15.640+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T12:55:15.641+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T12:55:15.642+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T12:55:15.644+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T12:55:15.645+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T12:55:15.646+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T12:55:15.647+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T12:55:15.649+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T12:55:15.650+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T12:55:15.651+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T12:55:15.653+02:00  INFO 28264 --- [Eshop] [Thread-8] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T12:55:15.669+02:00  INFO 28264 --- [Eshop] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-04-26T12:55:15.680+02:00  INFO 28264 --- [Eshop] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-04-26T12:55:16.018+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 28264 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T12:55:16.019+02:00 DEBUG 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T12:55:16.020+02:00  INFO 28264 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T12:55:17.889+02:00  INFO 28264 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T12:55:18.030+02:00  INFO 28264 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 136 ms. Found 14 JPA repository interfaces.
2025-04-26T12:55:19.033+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T12:55:19.042+02:00  INFO 28264 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T12:55:19.042+02:00  INFO 28264 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T12:55:19.212+02:00  INFO 28264 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T12:55:19.213+02:00  INFO 28264 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3161 ms
2025-04-26T12:55:19.834+02:00  INFO 28264 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T12:55:19.845+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T12:55:19.850+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T12:55:19.850+02:00  INFO 28264 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T12:55:19.888+02:00  INFO 28264 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T12:55:19.891+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-04-26T12:55:19.903+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.mariadb.jdbc.Connection@509050ff
2025-04-26T12:55:19.904+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-04-26T12:55:19.908+02:00  INFO 28264 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T12:55:20.254+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.263+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T12:55:20.264+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.268+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T12:55:20.269+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.274+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T12:55:20.275+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T12:55:20.275+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.281+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T12:55:20.282+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.285+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T12:55:20.286+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.291+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T12:55:20.292+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.299+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T12:55:20.300+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.304+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T12:55:20.305+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.310+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T12:55:20.311+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.317+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T12:55:20.318+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.324+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T12:55:20.325+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.329+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T12:55:20.331+02:00  WARN 28264 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T12:55:20.336+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T12:55:21.660+02:00  INFO 28264 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T12:55:21.894+02:00  INFO 28264 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T12:55:22.742+02:00  WARN 28264 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'adminCustomerController': Resolution of declared constructors on bean Class [org.example.eshop.admin.controller.AdminCustomerController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@38dc24f8] failed
2025-04-26T12:55:22.743+02:00  INFO 28264 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T12:55:22.744+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T12:55:22.745+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T12:55:22.746+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T12:55:22.747+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T12:55:22.748+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T12:55:22.749+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T12:55:22.750+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T12:55:22.751+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T12:55:22.751+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T12:55:22.752+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T12:55:22.753+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T12:55:22.753+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T12:55:22.754+02:00  INFO 28264 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T12:55:22.801+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-04-26T12:55:22.812+02:00  INFO 28264 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-04-26T12:59:58.991+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 11172 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T12:59:58.994+02:00 DEBUG 11172 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T12:59:58.994+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T12:59:59.384+02:00  INFO 11172 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T12:59:59.385+02:00  INFO 11172 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T13:00:01.101+02:00  INFO 11172 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T13:00:01.268+02:00  INFO 11172 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149 ms. Found 14 JPA repository interfaces.
2025-04-26T13:00:02.767+02:00  INFO 11172 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T13:00:02.791+02:00  INFO 11172 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T13:00:02.792+02:00  INFO 11172 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T13:00:02.886+02:00  INFO 11172 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T13:00:02.887+02:00  INFO 11172 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3502 ms
2025-04-26T13:00:03.679+02:00  INFO 11172 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T13:00:03.754+02:00  INFO 11172 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T13:00:03.762+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T13:00:03.799+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T13:00:03.803+02:00  INFO 11172 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T13:00:04.169+02:00  INFO 11172 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T13:00:04.210+02:00  INFO 11172 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T13:00:04.347+02:00  INFO 11172 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@19abeb5f
2025-04-26T13:00:04.351+02:00  INFO 11172 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T13:00:04.436+02:00  INFO 11172 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T13:00:09.398+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.560+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T13:00:09.582+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.589+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T13:00:09.593+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.598+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T13:00:09.599+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.609+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T13:00:09.614+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T13:00:09.615+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.625+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T13:00:09.629+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.640+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T13:00:09.644+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.654+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T13:00:09.659+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.667+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T13:00:09.669+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.679+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T13:00:09.683+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.691+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T13:00:09.694+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.703+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T13:00:09.705+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.711+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T13:00:09.712+02:00  WARN 11172 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:00:09.718+02:00  INFO 11172 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T13:00:12.496+02:00  INFO 11172 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T13:00:12.722+02:00  INFO 11172 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T13:00:14.167+02:00  INFO 11172 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T13:00:17.350+02:00  INFO 11172 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T13:00:17.778+02:00  INFO 11172 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T13:00:17.778+02:00  INFO 11172 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T13:00:17.816+02:00  INFO 11172 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T13:00:18.055+02:00  INFO 11172 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T13:00:18.055+02:00  INFO 11172 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T13:00:18.900+02:00  WARN 11172 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T13:00:20.052+02:00  INFO 11172 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T13:00:20.262+02:00  INFO 11172 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T13:00:21.561+02:00  INFO 11172 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T13:00:22.696+02:00  INFO 11172 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T13:00:22.858+02:00  INFO 11172 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T13:00:22.913+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 24.918 seconds (process running for 26.364)
2025-04-26T13:00:22.971+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T13:00:23.164+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T13:00:23.495+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T13:00:23.519+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T13:00:23.520+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T13:00:23.769+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T13:00:23.790+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T13:00:23.803+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T13:00:23.819+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T13:00:23.850+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T13:00:23.867+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T13:00:23.882+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T13:00:23.897+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T13:00:23.897+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T13:00:23.897+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T13:00:23.964+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T13:00:23.995+02:00  WARN 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T13:00:24.010+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T13:00:24.011+02:00  INFO 11172 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T13:00:24.963+02:00  INFO 11172 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T13:00:24.964+02:00  INFO 11172 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T13:00:24.973+02:00  INFO 11172 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-04-26T13:00:42.513+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:00:42.513+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:00:42.513+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:00:42.519+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:00:42.520+02:00 DEBUG 11172 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:00:42.570+02:00 DEBUG 11172 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:00:42.577+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:00:53.971+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/update-internal-note
2025-04-26T13:00:53.971+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:00:53.971+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:00:53.973+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Admin action: Attempting to update INTERNAL note for order ID: 6
2025-04-26T13:00:53.974+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Updating internal note for order ID: 6
2025-04-26T13:00:53.993+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Internal note updated for order 206.
2025-04-26T13:00:54.023+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Admin action: Internal note updated for order ID: 6
2025-04-26T13:00:54.062+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:00:54.062+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:00:54.062+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:00:54.064+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:00:54.064+02:00 DEBUG 11172 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:00:54.098+02:00 DEBUG 11172 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:00:54.104+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:01:02.552+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/update-external-note
2025-04-26T13:01:02.552+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:01:02.552+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:01:02.553+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Admin action: Attempting to update EXTERNAL note for order ID: 6
2025-04-26T13:01:02.554+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Updating external note for order ID: 6
2025-04-26T13:01:02.556+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : External note updated for order 206.
2025-04-26T13:01:02.556+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Triggering external note email for order 206.
2025-04-26T13:01:02.570+02:00 ERROR 11172 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Admin action error: Error updating external note for order ID 6: HHH000479: Collection [org.example.eshop.model.Customer.roles] was not processed by flush(). This is likely due to unsafe use of the session (e.g. used in multiple threads concurrently, updates during entity lifecycle hooks).

org.springframework.orm.jpa.JpaSystemException: HHH000479: Collection [org.example.eshop.model.Customer.roles] was not processed by flush(). This is likely due to unsafe use of the session (e.g. used in multiple threads concurrently, updates during entity lifecycle hooks).
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:341) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.updateExternalNote(<generated>) ~[classes/:na]
	at org.example.eshop.admin.controller.AdminOrderController.updateExternalOrderNote(AdminOrderController.java:416) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.admin.controller.AdminOrderController$$SpringCGLIB$$0.updateExternalOrderNote(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.HibernateException: HHH000479: Collection [org.example.eshop.model.Customer.roles] was not processed by flush(). This is likely due to unsafe use of the session (e.g. used in multiple threads concurrently, updates during entity lifecycle hooks).
	at org.hibernate.engine.spi.CollectionEntry.postFlush(CollectionEntry.java:229) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.lambda$postFlush$1(AbstractFlushingEventListener.java:445) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.internal.StatefulPersistenceContext.forEachCollectionEntry(StatefulPersistenceContext.java:1354) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.postFlush(AbstractFlushingEventListener.java:443) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:42) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.5.jar:6.2.5]
	... 141 common frames omitted

2025-04-26T13:01:02.588+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:01:02.589+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:01:02.589+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:01:02.590+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:01:02.590+02:00 DEBUG 11172 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:01:02.611+02:00 DEBUG 11172 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:01:02.614+02:00  INFO 11172 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:01:12.931+02:00  INFO 11172 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : External note email sent successfully to mirsvobo@gmail.com for order 206
2025-04-26T13:04:10.037+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T13:04:10.052+02:00  INFO 11172 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T13:04:10.072+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T13:04:10.082+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T13:04:10.098+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T13:04:10.105+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T13:04:10.105+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T13:04:10.106+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T13:04:10.107+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T13:04:10.107+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T13:04:10.107+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T13:04:10.108+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T13:04:10.108+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T13:04:10.109+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T13:04:10.110+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T13:04:10.111+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T13:04:10.111+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T13:04:10.139+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T13:04:10.149+02:00  INFO 11172 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T13:45:51.555+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 13676 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T13:45:51.564+02:00 DEBUG 13676 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T13:45:51.567+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T13:45:52.496+02:00  INFO 13676 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T13:45:52.497+02:00  INFO 13676 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T13:45:57.138+02:00  INFO 13676 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T13:45:57.655+02:00  INFO 13676 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 469 ms. Found 14 JPA repository interfaces.
2025-04-26T13:46:01.971+02:00  INFO 13676 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T13:46:02.039+02:00  INFO 13676 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T13:46:02.041+02:00  INFO 13676 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T13:46:02.342+02:00  INFO 13676 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T13:46:02.344+02:00  INFO 13676 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9844 ms
2025-04-26T13:46:03.745+02:00  INFO 13676 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T13:46:03.958+02:00  INFO 13676 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T13:46:03.982+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T13:46:04.110+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T13:46:04.125+02:00  INFO 13676 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T13:46:05.197+02:00  INFO 13676 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T13:46:05.320+02:00  INFO 13676 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T13:46:05.632+02:00  INFO 13676 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4076f634
2025-04-26T13:46:05.638+02:00  INFO 13676 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T13:46:05.826+02:00  INFO 13676 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T13:46:07.462+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.699+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T13:46:07.729+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.734+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T13:46:07.735+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.740+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T13:46:07.741+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.747+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T13:46:07.749+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.753+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T13:46:07.755+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.759+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T13:46:07.762+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.773+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T13:46:07.775+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.780+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T13:46:07.781+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.788+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T13:46:07.789+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.794+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T13:46:07.801+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T13:46:07.802+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.807+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T13:46:07.809+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.812+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T13:46:07.814+02:00  WARN 13676 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T13:46:07.819+02:00  INFO 13676 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T13:46:10.011+02:00  INFO 13676 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T13:46:10.249+02:00  INFO 13676 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T13:46:11.320+02:00  INFO 13676 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T13:46:13.424+02:00  INFO 13676 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T13:46:13.939+02:00  INFO 13676 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T13:46:13.940+02:00  INFO 13676 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T13:46:13.976+02:00  INFO 13676 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T13:46:14.247+02:00  INFO 13676 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T13:46:14.247+02:00  INFO 13676 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T13:46:15.016+02:00  WARN 13676 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T13:46:16.046+02:00  INFO 13676 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T13:46:16.278+02:00  INFO 13676 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T13:46:17.388+02:00  INFO 13676 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T13:46:19.079+02:00  INFO 13676 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T13:46:19.192+02:00  INFO 13676 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T13:46:19.215+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 29.917 seconds (process running for 34.413)
2025-04-26T13:46:19.235+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T13:46:19.313+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T13:46:19.493+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T13:46:19.510+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T13:46:19.512+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T13:46:19.654+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T13:46:19.666+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T13:46:19.675+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T13:46:19.685+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T13:46:19.703+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T13:46:19.719+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T13:46:19.726+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T13:46:19.734+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T13:46:19.735+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T13:46:19.735+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T13:46:19.761+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T13:46:19.780+02:00  WARN 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T13:46:19.788+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T13:46:19.789+02:00  INFO 13676 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T13:46:20.324+02:00  INFO 13676 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T13:46:20.325+02:00  INFO 13676 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T13:46:20.338+02:00  INFO 13676 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2025-04-26T13:47:04.506+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T13:47:04.510+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:04.510+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:04.511+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T13:47:15.436+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.service.CustomUserDetailsService   : Attempting to load user by email: mirsvobo@gmail.com
2025-04-26T13:47:15.444+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.service.CustomUserDetailsService   : User found: mirsvobo@gmail.com, Enabled: true, Roles: [ROLE_USER, ROLE_ADMIN]
2025-04-26T13:47:15.663+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T13:47:15.663+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:15.663+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:15.664+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T13:47:15.665+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T13:47:15.750+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T13:47:15.751+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T13:47:15.759+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T13:47:15.759161600
2025-04-26T13:47:15.782+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T13:47:15.783+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T13:47:15.786+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T13:47:15.785496100
2025-04-26T13:47:15.792+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T13:47:15.792+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T13:47:15.794+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T13:47:15.795+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T13:47:22.115+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T13:47:22.115+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:22.115+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:22.144+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T13:47:24.579+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T13:47:24.579+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:24.579+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:24.586+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T13:47:24.586+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T13:47:24.624+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T13:47:29.816+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T13:47:29.817+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:29.817+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:29.823+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T13:47:37.488+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-26T13:47:37.489+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:37.489+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:37.494+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T13:47:37.496+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-26T13:47:37.507+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Found 1 orders matching criteria using specifications.
2025-04-26T13:47:37.510+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:47:37.516+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=1, TotalElements=1
2025-04-26T13:47:39.519+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:47:39.520+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:39.520+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:39.522+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:47:39.522+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:47:39.550+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:47:39.556+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:47:45.025+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/update-internal-note
2025-04-26T13:47:45.026+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:45.026+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:45.028+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Admin action: Attempting to update INTERNAL note for order ID: 6
2025-04-26T13:47:45.029+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Updating internal note for order ID: 6
2025-04-26T13:47:45.040+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Internal note updated for order 206.
2025-04-26T13:47:45.042+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Admin action: Internal note updated for order ID: 6
2025-04-26T13:47:45.094+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:47:45.094+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:45.095+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:45.096+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:47:45.096+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:47:45.126+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:47:45.132+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:47:57.085+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/update-external-note
2025-04-26T13:47:57.085+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:57.085+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:57.086+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Admin action: Attempting to update EXTERNAL note for order ID: 6
2025-04-26T13:47:57.087+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Updating external note for order ID: 6
2025-04-26T13:47:57.093+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : External note updated for order 206.
2025-04-26T13:47:57.094+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Triggering external note email for order 206.
2025-04-26T13:47:57.111+02:00 ERROR 13676 --- [Eshop] [task-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-1] Exception processing template "emails/order-external-note": An error happened during template parsing (template: "class path resource [templates/emails/order-external-note.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/emails/order-external-note.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderExternalNoteEmail(EmailService.java:247) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "order.orderCode" (template: "emails/order-external-note" - line 15, col 45)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 16 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "order.orderCode" (template: "emails/order-external-note" - line 15, col 45)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 18 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'orderCode' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:225) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:112) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorValueRef.getValue(PropertyOrFieldReference.java:376) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 37 common frames omitted

2025-04-26T13:47:57.124+02:00 ERROR 13676 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'emails/order-external-note' for external note email (Order 206): An error happened during template parsing (template: "class path resource [templates/emails/order-external-note.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/emails/order-external-note.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderExternalNoteEmail(EmailService.java:247) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "order.orderCode" (template: "emails/order-external-note" - line 15, col 45)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 16 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "order.orderCode" (template: "emails/order-external-note" - line 15, col 45)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 18 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'orderCode' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:225) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:112) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorValueRef.getValue(PropertyOrFieldReference.java:376) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:116) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.2.5.jar:6.2.5]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	... 37 common frames omitted

2025-04-26T13:47:57.136+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Admin action: External note updated for order ID: 6
2025-04-26T13:47:57.159+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:47:57.159+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:47:57.159+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:47:57.160+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:47:57.161+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:47:57.187+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:47:57.194+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:58:52.088+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:58:52.089+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:58:52.089+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:58:52.092+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:58:52.092+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:58:52.144+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:58:52.152+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:58:59.415+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/update-internal-note
2025-04-26T13:58:59.416+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:58:59.416+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:58:59.416+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Admin action: Attempting to update INTERNAL note for order ID: 6
2025-04-26T13:58:59.419+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Updating internal note for order ID: 6
2025-04-26T13:58:59.426+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Internal note updated for order 206.
2025-04-26T13:58:59.428+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Admin action: Internal note updated for order ID: 6
2025-04-26T13:58:59.459+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:58:59.460+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:58:59.460+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:58:59.462+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:58:59.462+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:58:59.500+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:58:59.512+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:59:02.244+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/update-external-note
2025-04-26T13:59:02.246+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:59:02.246+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:59:02.247+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Admin action: Attempting to update EXTERNAL note for order ID: 6
2025-04-26T13:59:02.248+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Updating external note for order ID: 6
2025-04-26T13:59:02.254+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : External note updated for order 206.
2025-04-26T13:59:02.257+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Admin action: External note updated for order ID: 6
2025-04-26T13:59:02.290+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:59:02.290+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:59:02.290+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:59:02.291+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:59:02.292+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:59:02.328+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:59:02.337+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:59:12.124+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T13:59:12.124+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:59:12.124+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:59:12.126+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T13:59:12.126+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T13:59:12.170+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T13:59:12.186+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T13:59:17.425+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T13:59:17.425+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:59:17.425+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:59:17.425+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T13:59:17.427+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T13:59:17.457+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T13:59:17.457+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T13:59:17.460+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T13:59:17.460341600
2025-04-26T13:59:17.468+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T13:59:17.468+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T13:59:17.469+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T13:59:17.469519
2025-04-26T13:59:17.477+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T13:59:17.477+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T13:59:17.478+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T13:59:17.479+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T13:59:20.998+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T13:59:20.999+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:59:20.999+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:59:21.008+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T13:59:22.566+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T13:59:22.567+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T13:59:22.567+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T13:59:22.574+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T13:59:22.575+02:00 DEBUG 13676 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T13:59:22.608+02:00  INFO 13676 --- [Eshop] [http-nio-8080-exec-5] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T14:18:24.975+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-26T14:18:24.983+02:00  INFO 13676 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-26T14:18:24.994+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-26T14:18:25.000+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T14:18:25.004+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' removed from EhcacheManager.
2025-04-26T14:18:25.004+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' removed from EhcacheManager.
2025-04-26T14:18:25.004+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' removed from EhcacheManager.
2025-04-26T14:18:25.005+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' removed from EhcacheManager.
2025-04-26T14:18:25.005+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' removed from EhcacheManager.
2025-04-26T14:18:25.005+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' removed from EhcacheManager.
2025-04-26T14:18:25.005+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' removed from EhcacheManager.
2025-04-26T14:18:25.006+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' removed from EhcacheManager.
2025-04-26T14:18:25.006+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' removed from EhcacheManager.
2025-04-26T14:18:25.006+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' removed from EhcacheManager.
2025-04-26T14:18:25.006+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' removed from EhcacheManager.
2025-04-26T14:18:25.006+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' removed from EhcacheManager.
2025-04-26T14:18:25.007+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' removed from EhcacheManager.
2025-04-26T14:18:25.021+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-26T14:18:25.026+02:00  INFO 13676 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-26T14:40:36.609+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 25300 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-26T14:40:36.613+02:00 DEBUG 25300 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-26T14:40:36.614+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-26T14:40:37.091+02:00  INFO 25300 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-26T14:40:37.091+02:00  INFO 25300 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-26T14:40:39.800+02:00  INFO 25300 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-26T14:40:40.018+02:00  INFO 25300 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 199 ms. Found 16 JPA repository interfaces.
2025-04-26T14:40:42.041+02:00  INFO 25300 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-26T14:40:42.079+02:00  INFO 25300 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-26T14:40:42.081+02:00  INFO 25300 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-26T14:40:42.278+02:00  INFO 25300 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-26T14:40:42.279+02:00  INFO 25300 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5187 ms
2025-04-26T14:40:43.409+02:00  INFO 25300 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-26T14:40:43.550+02:00  INFO 25300 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-26T14:40:43.563+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T14:40:43.616+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-26T14:40:43.622+02:00  INFO 25300 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-26T14:40:44.329+02:00  INFO 25300 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-26T14:40:44.411+02:00  INFO 25300 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-26T14:40:44.643+02:00  INFO 25300 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@56c27897
2025-04-26T14:40:44.651+02:00  INFO 25300 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-26T14:40:44.789+02:00  INFO 25300 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-26T14:40:49.144+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate.products] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.400+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate.products' created in EhcacheManager.
2025-04-26T14:40:49.449+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.availableTaxRates] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.457+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.availableTaxRates' created in EhcacheManager.
2025-04-26T14:40:49.459+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.466+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-26T14:40:49.470+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.479+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-26T14:40:49.481+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.490+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-26T14:40:49.492+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.501+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-26T14:40:49.505+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-26T14:40:49.505+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.514+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-26T14:40:49.517+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.524+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-26T14:40:49.526+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.532+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-26T14:40:49.534+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product.images] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.539+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product.images' created in EhcacheManager.
2025-04-26T14:40:49.541+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.550+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-26T14:40:49.553+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.561+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-26T14:40:49.563+02:00  WARN 25300 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-26T14:40:49.570+02:00  INFO 25300 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-26T14:40:53.209+02:00  INFO 25300 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-26T14:40:54.398+02:00  INFO 25300 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-26T14:40:56.860+02:00  INFO 25300 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-26T14:41:01.630+02:00  INFO 25300 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-26T14:41:02.352+02:00  INFO 25300 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-26T14:41:02.353+02:00  INFO 25300 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-26T14:41:02.397+02:00  INFO 25300 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-26T14:41:02.762+02:00  INFO 25300 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Found maximum existing numeric order code: 206
2025-04-26T14:41:02.764+02:00  INFO 25300 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 206
2025-04-26T14:41:04.022+02:00  WARN 25300 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-26T14:41:06.398+02:00  INFO 25300 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-26T14:41:06.642+02:00  INFO 25300 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-26T14:41:07.925+02:00  INFO 25300 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-26T14:41:10.162+02:00  INFO 25300 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-26T14:41:10.334+02:00  INFO 25300 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-26T14:41:10.363+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 35.055 seconds (process running for 37.32)
2025-04-26T14:41:10.399+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing application data for Drevniky Kolar...
2025-04-26T14:41:10.509+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Tax Rates already exist, skipping creation.
2025-04-26T14:41:10.667+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Order States already exist, checking/updating 'READY_TO_SHIP' description...
2025-04-26T14:41:10.681+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Email Template Configs already exist, skipping creation.
2025-04-26T14:41:10.682+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating attributes (Designs, Glazes, Roof Colors)...
2025-04-26T14:41:10.779+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating addons...
2025-04-26T14:41:10.789+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 130 cm' already exists. Skipping creation.
2025-04-26T14:41:10.796+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Polička 90 cm' already exists. Skipping creation.
2025-04-26T14:41:10.805+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Držáky 2 páry' already exists. Skipping creation.
2025-04-26T14:41:10.820+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 1x' already exists. Skipping creation.
2025-04-26T14:41:10.830+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 2x' already exists. Skipping creation.
2025-04-26T14:41:10.843+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Příčka 3x' already exists. Skipping creation.
2025-04-26T14:41:10.849+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Addon with name 'Okap' already exists. Skipping creation.
2025-04-26T14:41:10.849+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial product creation as requested.
2025-04-26T14:41:10.849+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin users...
2025-04-26T14:41:10.873+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user mirsvobo@gmail.com already exists. Skipping creation.
2025-04-26T14:41:10.892+02:00  WARN 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Admin user drevnikykolar@gmail.com already exists. Skipping creation.
2025-04-26T14:41:10.905+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Skipping initial order creation as requested.
2025-04-26T14:41:10.905+02:00  INFO 25300 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Application data initialization finished successfully.
2025-04-26T14:41:11.429+02:00  INFO 25300 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-26T14:41:11.430+02:00  INFO 25300 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-26T14:41:11.439+02:00  INFO 25300 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-04-26T14:42:15.295+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T14:42:15.316+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:42:15.317+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:42:15.324+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T14:42:15.325+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T14:42:15.333+02:00  WARN 25300 --- [Eshop] [http-nio-8080-exec-1] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T14:42:15.411+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T14:42:15.411+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T14:42:15.411+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T14:42:15.413+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:42:15.412220600
2025-04-26T14:42:15.430+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:42:15.431+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:42:15.433+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:42:15.433201700
2025-04-26T14:42:15.439+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:42:15.439+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:42:15.440+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T14:42:15.441+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T14:42:16.261+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T14:42:16.262+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:42:16.262+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:42:16.263+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T14:42:16.264+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T14:42:16.266+02:00  WARN 25300 --- [Eshop] [http-nio-8080-exec-2] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T14:42:16.300+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T14:42:16.300+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T14:42:16.301+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T14:42:16.301+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:42:16.301605300
2025-04-26T14:42:16.306+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:42:16.307+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:42:16.307+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:42:16.307613300
2025-04-26T14:42:16.311+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:42:16.311+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:42:16.311+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T14:42:16.311+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T14:42:17.769+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-26T14:42:17.775+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:42:17.777+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:42:17.786+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 20, sort: UNSORTED]
2025-04-26T14:42:17.788+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 20, sort: UNSORTED]) using standard repo method <<<
2025-04-26T14:42:17.795+02:00  WARN 25300 --- [Eshop] [http-nio-8080-exec-4] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-26T14:42:17.848+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 2 aktivními produkty (with details).
2025-04-26T14:42:17.858+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-26T14:42:17.861+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=2, TotalPages=1, Number=0, Size=20
2025-04-26T14:42:17.864+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:42:17.864393700
2025-04-26T14:42:17.873+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:42:17.873+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:42:17.875+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:42:17.873498100
2025-04-26T14:42:17.966+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:42:17.967+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:42:17.967+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T14:42:17.967+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': [currentGlobalCurrency, currentCurrency, productPage, productPrices]
2025-04-26T14:42:32.920+02:00  WARN 25300 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder.png.]
2025-04-26T14:42:32.920+02:00  WARN 25300 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-26T14:45:26.892+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-26T14:45:26.893+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:45:26.894+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:45:26.894+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-26T14:45:32.659+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-6] o.e.e.service.CustomUserDetailsService   : Attempting to load user by email: mirsvobo@gmail.com
2025-04-26T14:45:32.665+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-6] o.e.e.service.CustomUserDetailsService   : User found: mirsvobo@gmail.com, Enabled: true, Roles: [ROLE_USER, ROLE_ADMIN]
2025-04-26T14:45:32.845+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T14:45:32.846+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:45:32.846+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:45:32.846+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T14:45:32.848+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T14:45:32.877+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T14:45:32.878+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T14:45:32.887+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:45:32.887427800
2025-04-26T14:45:32.896+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:45:32.897+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:45:32.897+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:45:32.897312600
2025-04-26T14:45:32.903+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:45:32.903+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:45:32.903+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T14:45:32.904+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T14:45:40.103+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-26T14:45:40.103+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:45:40.103+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:45:40.104+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-26T14:45:40.107+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-26T00:00 and 2025-04-26T23:59:59.999999999
2025-04-26T14:45:40.119+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-26T14:45:40.126+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-26T14:45:40.134+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-26T14:45:40.139+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-26T14:45:40.146+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-26T14:45:40.154+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-26T14:45:40.163+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-26T14:45:40.189+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Found 1 orders matching criteria using specifications.
2025-04-26T14:45:40.191+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-26T14:45:43.019+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T14:45:43.019+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:45:43.019+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:45:43.022+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T14:45:43.024+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T14:45:43.112+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T14:45:43.122+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T14:45:50.587+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/messages/internal
2025-04-26T14:45:50.587+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:45:50.587+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:45:50.592+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.ConversationService    : Getting or creating conversation for order ID 6 and type INTERNAL
2025-04-26T14:45:50.601+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.ConversationService    : Conversation of type INTERNAL not found for order ID 6. Creating new one.
2025-04-26T14:45:50.709+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.ConversationService    : Adding new message to conversation ID 1. Sender: mirsvobo@gmail.com (null), Type: ADMIN
2025-04-26T14:45:50.730+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.ConversationService    : Message (ID: 1) added successfully to conversation ID 1.
2025-04-26T14:45:50.735+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Admin added INTERNAL message to order ID 6
2025-04-26T14:45:50.825+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T14:45:50.826+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:45:50.826+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:45:50.828+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T14:45:50.828+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T14:45:50.895+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T14:45:50.907+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T14:45:55.427+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/messages/internal
2025-04-26T14:45:55.428+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:45:55.428+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:45:55.430+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.ConversationService    : Getting or creating conversation for order ID 6 and type INTERNAL
2025-04-26T14:45:55.444+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.ConversationService    : Adding new message to conversation ID 1. Sender: mirsvobo@gmail.com (null), Type: ADMIN
2025-04-26T14:45:55.449+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.ConversationService    : Message (ID: 2) added successfully to conversation ID 1.
2025-04-26T14:45:55.453+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Admin added INTERNAL message to order ID 6
2025-04-26T14:45:55.470+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T14:45:55.470+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:45:55.470+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:45:55.472+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T14:45:55.472+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T14:45:55.535+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T14:45:55.545+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T14:46:04.706+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6/messages/external
2025-04-26T14:46:04.706+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:46:04.707+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:46:04.709+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.ConversationService    : Getting or creating conversation for order ID 6 and type EXTERNAL
2025-04-26T14:46:04.712+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.ConversationService    : Conversation of type EXTERNAL not found for order ID 6. Creating new one.
2025-04-26T14:46:04.723+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.ConversationService    : Adding new message to conversation ID 2. Sender: mirsvobo@gmail.com (null), Type: ADMIN
2025-04-26T14:46:04.726+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.ConversationService    : Message (ID: 3) added successfully to conversation ID 2.
2025-04-26T14:46:04.732+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.ConversationService    : Sending notification email to customer mirsvobo@gmail.com about new message in order 206
2025-04-26T14:46:04.744+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Admin added EXTERNAL message to order ID 6
2025-04-26T14:46:04.743+02:00 ERROR 25300 --- [Eshop] [task-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-1] Exception processing template "emails/order-external-note": Error resolving template [emails/order-external-note], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [emails/order-external-note], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderExternalNoteEmail(EmailService.java:247) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T14:46:04.756+02:00 ERROR 25300 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'emails/order-external-note' for external note email (Order 206): Error resolving template [emails/order-external-note], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [emails/order-external-note], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderExternalNoteEmail(EmailService.java:247) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-26T14:46:04.762+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/6
2025-04-26T14:46:04.763+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:46:04.764+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:46:04.767+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 6
2025-04-26T14:46:04.768+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 6
2025-04-26T14:46:04.832+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-26T14:46:04.843+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 6
2025-04-26T14:46:10.322+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-26T14:46:10.323+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:46:10.323+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:46:10.323+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-26T14:46:10.324+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-26T14:46:10.375+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 2 aktivních produktů (with details).
2025-04-26T14:46:10.375+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-26T14:46:10.377+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:46:10.377777900
2025-04-26T14:46:10.382+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:46:10.384+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:46:10.384+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-26T14:46:10.384178800
2025-04-26T14:46:10.390+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-26T14:46:10.390+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-26T14:46:10.390+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : Calculated final price for product ID 2 in CZK: Original=24000.00, Discounted=null, Discount=None
2025-04-26T14:46:10.391+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-26T14:46:13.989+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-26T14:46:13.990+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:46:13.991+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:46:14.004+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 1
2025-04-26T14:46:15.644+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T14:46:15.644+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:46:15.645+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:46:15.657+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T14:46:15.658+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T14:46:15.731+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-5] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T14:46:30.211+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206/poslat-zpravu
2025-04-26T14:46:30.211+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:46:30.211+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:46:30.227+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T14:46:30.261+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.ConversationService    : Getting or creating conversation for order ID 6 and type EXTERNAL
2025-04-26T14:46:30.269+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.ConversationService    : Adding new message to conversation ID 2. Sender: Miroslav Svoboda (1), Type: CUSTOMER
2025-04-26T14:46:30.272+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.ConversationService    : Message (ID: 4) added successfully to conversation ID 2.
2025-04-26T14:46:30.272+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.ConversationService    : Sending notification email to admin info@drevniky-kolar.cz about new message from customer in order 206
2025-04-26T14:46:30.278+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com sent message for order 206
2025-04-26T14:46:30.293+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T14:46:30.293+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:46:30.293+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:46:30.299+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T14:46:30.300+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T14:46:30.345+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-2] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T14:46:41.175+02:00  INFO 25300 --- [Eshop] [task-2] org.example.eshop.service.EmailService   : Admin notification email sent successfully to info@drevniky-kolar.cz for order 206
2025-04-26T14:47:30.477+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T14:47:30.477+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:47:30.477+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:47:30.491+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T14:47:30.492+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T14:47:30.717+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T14:47:35.009+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T14:47:35.009+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:47:35.010+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:47:35.017+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T14:47:35.019+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T14:47:35.100+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-4] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
2025-04-26T14:48:08.455+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/206
2025-04-26T14:48:08.456+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-26T14:48:08.456+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-26T14:48:08.535+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Customer mirsvobo@gmail.com (ID: 1) viewing order detail for CODE: 206
2025-04-26T14:48:08.535+02:00 DEBUG 25300 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by code with full details using new repo method: 206
2025-04-26T14:48:08.802+02:00  INFO 25300 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Order detail for CODE 206 loaded successfully for customer mirsvobo@gmail.com
