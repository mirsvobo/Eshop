2025-04-15T00:04:39.001+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:04:39.060+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:04:39.060+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:04:39.061+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:04:39.081+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:04:39.147+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:04:39.148+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:04:39.208+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:04:39.255+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:04:39.280+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:04:40.135+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:04:40.969+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:04:41.000+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:04:41.006+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:04:41.018+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:04:41.021+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:04:41.022+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:04:41.026+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:04:41.030+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:04:41.204+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:04:41.257+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:04:41.891+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:04:41.892+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:04:41.893+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:04:41.893+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:05:36.987+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:05:36.987+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:05:36.989+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:05:36.989+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:05:36.990+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:05:36.997+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:05:36.998+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:05:37.003+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:05:37.008+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:05:37.009+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:05:37.143+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:05:37.338+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:05:37.350+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:05:37.354+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:05:37.356+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:05:37.357+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:05:37.358+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:05:37.358+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:05:37.365+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:05:37.419+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:05:37.419+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:05:37.880+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:05:37.880+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:05:37.880+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:05:37.880+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:05:38.288+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:05:38.288+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:05:38.288+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:05:38.289+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:05:38.290+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:05:38.297+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:05:38.297+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:05:38.301+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:05:38.307+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:05:38.308+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:05:38.414+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:05:38.621+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:05:38.621+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:05:38.621+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:05:38.622+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:05:38.622+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:05:38.624+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:05:38.633+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:05:38.633+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:05:38.667+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:05:38.668+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:05:39.022+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:05:39.022+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:05:39.022+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:05:39.022+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:06:00.024+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:06:00.024+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:06:00.024+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:06:00.024+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:06:00.026+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:06:00.034+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:06:00.034+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:06:00.041+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:06:00.046+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:06:00.048+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:06:00.181+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:06:00.311+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:06:00.312+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:06:00.305+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:06:00.308+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:06:00.318+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:06:00.321+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:06:00.332+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:06:00.332+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:06:00.528+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:06:00.541+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:06:00.565+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:06:00.566+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:06:00.566+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:06:00.566+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:06:15.629+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:06:15.629+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:06:15.629+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:06:15.630+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:06:15.632+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:06:15.641+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:06:15.641+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:06:15.649+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:06:15.655+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:06:15.657+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:06:15.814+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:06:15.947+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:06:15.949+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:06:15.953+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:06:15.955+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:06:15.958+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:06:15.959+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:06:15.968+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:06:15.970+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:06:16.051+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:06:16.053+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:06:16.285+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:06:16.285+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:06:16.285+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:06:16.286+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:06:17.545+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:06:17.545+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:06:17.545+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:06:17.545+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:06:17.547+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:06:17.552+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:06:17.552+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:06:17.559+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:06:17.564+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:06:17.565+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:06:17.667+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:06:17.747+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:06:17.751+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:06:17.752+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:06:17.754+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:06:17.755+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:06:17.756+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:06:17.756+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:06:17.760+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:06:17.934+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:06:17.936+02:00  WARN 11340 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:06:17.943+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:06:17.943+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:06:17.943+02:00  INFO 11340 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:06:17.944+02:00 DEBUG 11340 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:18:51.370+02:00  INFO 11340 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-15T00:18:51.385+02:00  INFO 11340 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-15T00:18:51.397+02:00  INFO 11340 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-15T00:18:51.401+02:00  INFO 11340 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:18:52.769+02:00  INFO 11340 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-04-15T00:18:52.777+02:00  INFO 11340 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-04-15T00:35:18.307+02:00  INFO 10192 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 10192 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T00:35:18.311+02:00 DEBUG 10192 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T00:35:18.313+02:00  INFO 10192 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T00:35:19.096+02:00  INFO 10192 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T00:35:19.097+02:00  INFO 10192 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T00:35:21.954+02:00  INFO 10192 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T00:35:22.398+02:00  INFO 10192 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 398 ms. Found 14 JPA repository interfaces.
2025-04-15T00:35:31.098+02:00  INFO 10192 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T00:35:31.163+02:00  INFO 10192 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T00:35:31.165+02:00  INFO 10192 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T00:35:31.448+02:00  INFO 10192 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T00:35:31.448+02:00  INFO 10192 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 12348 ms
2025-04-15T00:35:32.682+02:00  INFO 10192 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T00:35:32.890+02:00  INFO 10192 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T00:35:33.015+02:00  INFO 10192 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T00:35:33.860+02:00  INFO 10192 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T00:35:33.948+02:00  INFO 10192 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T00:35:34.159+02:00  INFO 10192 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@68cc963c
2025-04-15T00:35:34.162+02:00  INFO 10192 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T00:35:34.313+02:00  INFO 10192 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T00:35:37.198+02:00  INFO 10192 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T00:35:40.976+02:00  INFO 10192 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:35:43.117+02:00  INFO 10192 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T00:35:43.723+02:00  WARN 10192 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); No property 'withDetails' found for type 'Long'; Traversed path: Product.id
2025-04-15T00:35:43.726+02:00  INFO 10192 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:35:44.967+02:00  INFO 10192 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-15T00:35:44.980+02:00  INFO 10192 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-15T00:35:44.990+02:00  INFO 10192 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-15T00:35:45.031+02:00  INFO 10192 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15T00:35:45.112+02:00 ERROR 10192 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); No property 'withDetails' found for type 'Long'; Traversed path: Product.id
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); No property 'withDetails' found for type 'Long'; Traversed path: Product.id
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); No property 'withDetails' found for type 'Long'; Traversed path: Product.id
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.5.jar:6.2.5]
	... 38 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); No property 'withDetails' found for type 'Long'; Traversed path: Product.id
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.5.jar:6.2.5]
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findByIdWithDetails(java.lang.Long); No property 'withDetails' found for type 'Long'; Traversed path: Product.id
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116) ~[spring-data-commons-3.4.4.jar:3.4.4]
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'withDetails' found for type 'Long'; Traversed path: Product.id
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:465) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:488) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:488) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	... 63 common frames omitted

2025-04-15T00:37:33.821+02:00  INFO 34692 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 34692 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T00:37:33.831+02:00 DEBUG 34692 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T00:37:33.835+02:00  INFO 34692 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T00:37:34.735+02:00  INFO 34692 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T00:37:34.736+02:00  INFO 34692 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T00:37:39.650+02:00  INFO 34692 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T00:37:39.878+02:00  INFO 34692 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 197 ms. Found 14 JPA repository interfaces.
2025-04-15T00:37:43.056+02:00  INFO 34692 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T00:37:43.110+02:00  INFO 34692 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T00:37:43.112+02:00  INFO 34692 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T00:37:43.335+02:00  INFO 34692 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T00:37:43.337+02:00  INFO 34692 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8598 ms
2025-04-15T00:37:44.975+02:00  INFO 34692 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T00:37:45.155+02:00  INFO 34692 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T00:37:45.290+02:00  INFO 34692 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T00:37:46.140+02:00  INFO 34692 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T00:37:46.371+02:00  INFO 34692 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T00:37:47.015+02:00  INFO 34692 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3fa98a0b
2025-04-15T00:37:47.023+02:00  INFO 34692 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T00:37:47.287+02:00  INFO 34692 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T00:37:52.844+02:00  INFO 34692 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T00:37:55.966+02:00  INFO 34692 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:37:57.251+02:00  INFO 34692 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T00:37:58.560+02:00  WARN 34692 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); No property 'withDetails' found for type 'String'; Traversed path: Product.slug
2025-04-15T00:37:58.562+02:00  INFO 34692 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:37:59.976+02:00  INFO 34692 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-15T00:37:59.984+02:00  INFO 34692 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-15T00:37:59.988+02:00  INFO 34692 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-15T00:38:00.011+02:00  INFO 34692 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15T00:38:00.049+02:00 ERROR 34692 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); No property 'withDetails' found for type 'String'; Traversed path: Product.slug
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); No property 'withDetails' found for type 'String'; Traversed path: Product.slug
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); No property 'withDetails' found for type 'String'; Traversed path: Product.slug
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.5.jar:6.2.5]
	... 38 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); No property 'withDetails' found for type 'String'; Traversed path: Product.slug
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.5.jar:6.2.5]
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.Optional org.example.eshop.repository.ProductRepository.findActiveBySlugWithDetails(java.lang.String); No property 'withDetails' found for type 'String'; Traversed path: Product.slug
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116) ~[spring-data-commons-3.4.4.jar:3.4.4]
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'withDetails' found for type 'String'; Traversed path: Product.slug
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:465) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:488) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:488) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	... 63 common frames omitted

2025-04-15T00:39:34.744+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 16216 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T00:39:34.747+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T00:39:34.749+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T00:39:35.417+02:00  INFO 16216 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T00:39:35.418+02:00  INFO 16216 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T00:39:37.853+02:00  INFO 16216 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T00:39:37.986+02:00  INFO 16216 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 115 ms. Found 14 JPA repository interfaces.
2025-04-15T00:39:39.114+02:00  INFO 16216 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T00:39:39.131+02:00  INFO 16216 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T00:39:39.131+02:00  INFO 16216 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T00:39:39.196+02:00  INFO 16216 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T00:39:39.196+02:00  INFO 16216 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3777 ms
2025-04-15T00:39:39.646+02:00  INFO 16216 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T00:39:39.706+02:00  INFO 16216 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T00:39:39.746+02:00  INFO 16216 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T00:39:40.093+02:00  INFO 16216 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T00:39:40.135+02:00  INFO 16216 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T00:39:40.259+02:00  INFO 16216 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4ecd71a8
2025-04-15T00:39:40.263+02:00  INFO 16216 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T00:39:40.346+02:00  INFO 16216 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T00:39:42.434+02:00  INFO 16216 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T00:39:44.801+02:00  INFO 16216 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:39:45.252+02:00  INFO 16216 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T00:39:46.363+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-15T00:39:46.638+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-15T00:39:46.638+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-15T00:39:46.664+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-15T00:39:46.852+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : No existing numeric-like order codes found in database.
2025-04-15T00:39:46.852+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 205
2025-04-15T00:39:47.320+02:00  WARN 16216 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-15T00:39:47.914+02:00  INFO 16216 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-15T00:39:48.059+02:00  INFO 16216 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-15T00:39:48.700+02:00  INFO 16216 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-15T00:39:49.628+02:00  INFO 16216 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-15T00:39:49.714+02:00  INFO 16216 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-15T00:39:49.730+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 16.23 seconds (process running for 18.666)
2025-04-15T00:39:49.748+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing test data...
2025-04-15T00:39:49.810+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Tax Rates...
2025-04-15T00:39:49.867+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Order States...
2025-04-15T00:39:49.900+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Email Template Configs...
2025-04-15T00:39:50.033+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik
2025-04-15T00:39:50.039+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik Plus
2025-04-15T00:39:50.044+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Simple
2025-04-15T00:39:50.050+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Box
2025-04-15T00:39:50.060+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Ořech
2025-04-15T00:39:50.065+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Palisandr
2025-04-15T00:39:50.070+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Bezbarvý lak
2025-04-15T00:39:50.075+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Šedá lazura
2025-04-15T00:39:50.081+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Antracit
2025-04-15T00:39:50.087+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak
2025-04-15T00:39:50.093+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak Premium
2025-04-15T00:39:50.099+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Antracit
2025-04-15T00:39:50.107+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Červená
2025-04-15T00:39:50.113+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Zelená
2025-04-15T00:39:50.120+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná
2025-04-15T00:39:50.309+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná metalická
2025-04-15T00:39:50.318+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Polička navíc
2025-04-15T00:39:50.327+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Držák na nářadí
2025-04-15T00:39:50.332+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Starý doplněk
2025-04-15T00:39:50.354+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Klasik
2025-04-15T00:39:50.408+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Modern
2025-04-15T00:39:50.418+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník na míru
2025-04-15T00:39:50.421+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating new configurator for product ID: 3
2025-04-15T00:39:50.422+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Updating existing configurator for product ID: 3
2025-04-15T00:39:50.806+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin user: admin@example.com
2025-04-15T00:39:50.817+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating test orders...
2025-04-15T00:39:50.817+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T00:39:50.819+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T00:39:50.819+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:39:50.837+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:39:50.837+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:39:50.838+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:39:50.838+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:39:50.838+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:39:50.838+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:39:50.838+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-15T00:39:50.838+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1
2025-04-15T00:39:50.845+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:39:50.845+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-15T00:39:50.845+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Klasik | Lazura: Ořech | Střecha: Antracit
2025-04-15T00:39:50.845+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 5990.00
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 5990.00
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 5990.00
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1257.90
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 7247.90
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=5990.00, TotalTaxAmount=1257.90, TotalPriceWithTax=7247.90
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=5990.00, TaxAmount=1257.90
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 5990.00, Running Item Tax: 1257.90
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 5990.00, Final Item Tax: 1257.90
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:39:50.857+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:39:50.858+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T00:39:50.858+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T00:39:50.858+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:39:50.858+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T00:39:50.858+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T00:39:50.858+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T00:39:50.860+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T00:39:50.860+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 206
2025-04-15T00:39:50.860+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 206
2025-04-15T00:39:50.860+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:39:50.872+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 206 created successfully. Total: 7852 CZK
2025-04-15T00:39:50.874+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 206...
2025-04-15T00:39:50.877+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 206 (Total: 7852 CZK)
2025-04-15T00:39:50.877+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in EUR
2025-04-15T00:39:50.877+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: EUR
2025-04-15T00:39:50.877+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: EUR
2025-04-15T00:39:50.883+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: EUR
2025-04-15T00:39:50.883+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:39:50.883+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:39:50.884+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:39:50.884+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:39:50.884+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: EUR
2025-04-15T00:39:50.884+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T00:39:50.884+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T00:39:50.884+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:39:50.885+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T00:39:50.885+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 350x120x210 cm|Příčka: Ano
2025-04-15T00:39:50.887+02:00  INFO 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: EUR
2025-04-15T00:39:50.888+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (EUR): 1623.60
2025-04-15T00:39:50.888+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (EUR): 0.00
2025-04-15T00:39:50.888+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (EUR): 62.40
2025-04-15T00:39:50.888+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (EUR, fixed): 0.00
2025-04-15T00:39:50.888+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (EUR, fixed): 0.00
2025-04-15T00:39:50.889+02:00  INFO 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: EUR. Vypočtená cena: 1686.00
2025-04-15T00:39:50.889+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 1686.00
2025-04-15T00:39:50.904+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 1686.00
2025-04-15T00:39:50.906+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: EUR
2025-04-15T00:39:50.911+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1, 2]
2025-04-15T00:39:50.934+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1, 2]
2025-04-15T00:39:50.935+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T00:39:50.935+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T00:39:50.935+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 15.00
2025-04-15T00:39:50.936+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 30.00
2025-04-15T00:39:50.937+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=2, Name=Držák na nářadí
2025-04-15T00:39:50.937+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 20.00
2025-04-15T00:39:50.937+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 20.00
2025-04-15T00:39:50.937+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (EUR): 50.00
2025-04-15T00:39:50.937+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 50.00
2025-04-15T00:39:50.937+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 1736.00
2025-04-15T00:39:50.937+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 364.56
2025-04-15T00:39:50.937+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 2100.56
2025-04-15T00:39:50.938+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=1736.00, TotalTaxAmount=364.56, TotalPriceWithTax=2100.56
2025-04-15T00:39:50.938+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=1736.00, TaxAmount=364.56
2025-04-15T00:39:50.938+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 1736.00, Running Item Tax: 364.56
2025-04-15T00:39:50.938+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 1736.00, Final Item Tax: 364.56
2025-04-15T00:39:50.938+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: EUR
2025-04-15T00:39:50.938+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 25.00, Tax: 5.25, Estimated Rate: 0.2100
2025-04-15T00:39:50.938+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: EUR
2025-04-15T00:39:50.938+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T00:39:50.939+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T00:39:50.939+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: EUR
2025-04-15T00:39:50.939+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T00:39:50.939+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T00:39:50.939+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T00:39:50.940+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T00:39:50.940+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T00:39:50.940+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T00:39:50.941+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T00:39:50.941+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T00:39:50.941+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 1000.00 EUR calculated for custom order (new).
2025-04-15T00:39:50.941+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 1000.00
2025-04-15T00:39:50.941+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 207
2025-04-15T00:39:50.941+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 207
2025-04-15T00:39:50.941+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:39:50.958+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 207 created successfully. Total: 2130 EUR
2025-04-15T00:39:50.989+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 207...
2025-04-15T00:39:50.991+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 207. Currency: EUR
2025-04-15T00:39:51.013+02:00 ERROR 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Non-critical error generating proforma invoice for order 207: Order not found: 2. Order creation continues.

jakarta.persistence.EntityNotFoundException: Order not found: 2
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateProformaInvoice(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$0.generateProformaInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.service.OrderService.createOrder(OrderService.java:362) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createTestOrder(DataInitializer.java:287) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createSampleOrders(DataInitializer.java:191) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.run(DataInitializer.java:145) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.init.DataInitializer$$SpringCGLIB$$0.run(<generated>) ~[classes/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$4(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]

2025-04-15T00:39:51.028+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 207 (Total: 2130 EUR)
2025-04-15T00:39:51.029+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer admin@example.com with 1 items in CZK
2025-04-15T00:39:51.029+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 2 with explicit currency: CZK
2025-04-15T00:39:51.029+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:39:51.039+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:39:51.040+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 2 to order.
2025-04-15T00:39:51.040+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Admin Eshopu
2025-04-15T00:39:51.040+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:39:51.040+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:39:51.040+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:39:51.040+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-15T00:39:51.040+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2
2025-04-15T00:39:51.042+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 500.00
2025-04-15T00:39:51.042+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-15T00:39:51.043+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Modern Simple | Lazura: Teak Premium | Střecha: Stříbrná metalická
2025-04-15T00:39:51.043+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 7490.00
2025-04-15T00:39:51.049+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 7490.00
2025-04-15T00:39:51.049+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T00:39:51.049+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 7990.00
2025-04-15T00:39:51.049+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1677.90
2025-04-15T00:39:51.049+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 9667.90
2025-04-15T00:39:51.051+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=15980.00, TotalTaxAmount=3355.80, TotalPriceWithTax=19335.80
2025-04-15T00:39:51.051+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=15980.00, TaxAmount=3355.80
2025-04-15T00:39:51.051+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 15980.00, Running Item Tax: 3355.80
2025-04-15T00:39:51.051+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 15980.00, Final Item Tax: 3355.80
2025-04-15T00:39:51.052+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:39:51.052+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:39:51.052+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:39:51.052+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T00:39:51.052+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T00:39:51.053+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:39:51.053+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T00:39:51.053+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T00:39:51.053+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T00:39:51.053+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T00:39:51.054+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 208
2025-04-15T00:39:51.054+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 208
2025-04-15T00:39:51.054+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:39:51.066+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 208 created successfully. Total: 19940 CZK
2025-04-15T00:39:51.067+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 208...
2025-04-15T00:39:51.069+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 208 (Total: 19940 CZK)
2025-04-15T00:39:51.069+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 208 to PAID and state PROCESSING (SF API calls might be triggered if active)
2025-04-15T00:39:51.078+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 208 to PAID and state PROCESSING (bypassed SF calls)
2025-04-15T00:39:51.079+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T00:39:51.080+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T00:39:51.080+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:39:51.097+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:39:51.098+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:39:51.098+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:39:51.099+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:39:51.099+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:39:51.099+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:39:51.099+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T00:39:51.099+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T00:39:51.101+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:39:51.101+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T00:39:51.102+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 280x90x195 cm|Okap: Ano
2025-04-15T00:39:51.102+02:00  INFO 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: CZK
2025-04-15T00:39:51.103+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (CZK): 32700.00
2025-04-15T00:39:51.103+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (CZK): 0.00
2025-04-15T00:39:51.103+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (CZK): 0.00
2025-04-15T00:39:51.103+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (CZK, fixed): 1000.00
2025-04-15T00:39:51.104+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (CZK, fixed): 0.00
2025-04-15T00:39:51.104+02:00  INFO 16216 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: CZK. Vypočtená cena: 33700.00
2025-04-15T00:39:51.104+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 33700.00
2025-04-15T00:39:51.114+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 33700.00
2025-04-15T00:39:51.114+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: CZK
2025-04-15T00:39:51.114+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1]
2025-04-15T00:39:51.124+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1]
2025-04-15T00:39:51.126+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T00:39:51.126+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T00:39:51.126+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (CZK): 350.00
2025-04-15T00:39:51.127+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (CZK): 350.00
2025-04-15T00:39:51.127+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (CZK): 350.00
2025-04-15T00:39:51.127+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 350.00
2025-04-15T00:39:51.127+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 34050.00
2025-04-15T00:39:51.127+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 7150.50
2025-04-15T00:39:51.127+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 41200.50
2025-04-15T00:39:51.127+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=34050.00, TotalTaxAmount=7150.50, TotalPriceWithTax=41200.50
2025-04-15T00:39:51.128+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=34050.00, TaxAmount=7150.50
2025-04-15T00:39:51.128+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 34050.00, Running Item Tax: 7150.50
2025-04-15T00:39:51.128+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 34050.00, Final Item Tax: 7150.50
2025-04-15T00:39:51.129+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:39:51.129+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:39:51.129+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:39:51.129+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T00:39:51.131+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T00:39:51.131+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:39:51.131+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T00:39:51.131+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T00:39:51.131+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T00:39:51.132+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T00:39:51.132+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T00:39:51.132+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T00:39:51.132+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T00:39:51.132+02:00  INFO 16216 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T00:39:51.133+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 20000.00 CZK calculated for custom order (new).
2025-04-15T00:39:51.133+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 20000.00
2025-04-15T00:39:51.134+02:00 DEBUG 16216 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 209
2025-04-15T00:39:51.134+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 209
2025-04-15T00:39:51.134+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:39:51.148+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 209 created successfully. Total: 41805 CZK
2025-04-15T00:39:51.149+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 209...
2025-04-15T00:39:51.150+02:00 DEBUG 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 209. Currency: CZK
2025-04-15T00:39:51.157+02:00 ERROR 16216 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Non-critical error generating proforma invoice for order 209: Order not found: 4. Order creation continues.

jakarta.persistence.EntityNotFoundException: Order not found: 4
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateProformaInvoice(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$0.generateProformaInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.service.OrderService.createOrder(OrderService.java:362) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createTestOrder(DataInitializer.java:287) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createSampleOrders(DataInitializer.java:236) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.run(DataInitializer.java:145) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.init.DataInitializer$$SpringCGLIB$$0.run(<generated>) ~[classes/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$4(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]

2025-04-15T00:39:51.164+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 209 (Total: 41805 CZK)
2025-04-15T00:39:51.164+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 209 to DEPOSIT_PAID and state IN_PRODUCTION (SF API calls might be triggered if active)
2025-04-15T00:39:51.166+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 209 to DEPOSIT_PAID and state IN_PRODUCTION (bypassed SF calls)
2025-04-15T00:39:51.166+02:00  INFO 16216 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Test data initialization finished successfully.
2025-04-15T00:39:51.535+02:00 ERROR 16216 --- [Eshop] [task-3] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-3] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:39:51.535+02:00 ERROR 16216 --- [Eshop] [task-2] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-2] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:39:51.535+02:00 ERROR 16216 --- [Eshop] [task-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-1] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:39:51.535+02:00 ERROR 16216 --- [Eshop] [task-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-4] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:39:51.538+02:00 ERROR 16216 --- [Eshop] [task-2] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 207: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:39:51.538+02:00 ERROR 16216 --- [Eshop] [task-3] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 208: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:39:51.541+02:00 ERROR 16216 --- [Eshop] [task-4] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 209: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:39:51.541+02:00 ERROR 16216 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 206: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:39:51.912+02:00  INFO 16216 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-15T00:39:51.913+02:00  INFO 16216 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-15T00:39:51.918+02:00  INFO 16216 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-04-15T00:39:57.235+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:39:57.264+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:39:57.265+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:39:57.266+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:39:57.268+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:39:57.303+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:39:57.303+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:39:57.321+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:39:57.331+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:39:57.333+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:40:00.023+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:40:00.217+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:40:00.219+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:40:00.229+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:40:00.231+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:40:00.233+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:40:00.236+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:40:00.274+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:40:00.276+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:40:00.474+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:40:00.476+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:40:00.902+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:40:00.902+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:00.903+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:00.904+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:40:02.458+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:40:02.460+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:02.460+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:02.460+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:40:02.760+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T00:40:02.761+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:02.761+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:02.761+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T00:40:03.893+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.service.CustomUserDetailsService   : Attempting to load user by email: admin@example.com
2025-04-15T00:40:03.905+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.service.CustomUserDetailsService   : User found: admin@example.com, Enabled: true, Roles: [ROLE_USER, ROLE_ADMIN]
2025-04-15T00:40:04.087+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:40:04.087+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:04.087+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:04.087+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:40:04.088+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:40:04.102+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:40:04.102+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:40:04.114+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:40:04.127+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:40:04.128+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:40:04.316+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:40:04.390+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:40:04.393+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:40:04.393+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:40:04.394+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:40:04.395+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:40:04.405+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:40:04.405+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:40:04.405+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:40:04.441+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.]
2025-04-15T00:40:04.442+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:40:04.443+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:40:08.945+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-15T00:40:08.945+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:08.945+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:08.963+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:40:08.966+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:40:08.981+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:40:08.983+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:40:08.991+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=4, TotalElements=4
2025-04-15T00:40:10.917+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T00:40:10.917+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:10.917+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:10.918+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T00:40:10.923+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T00:40:10.934+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T00:40:10.941+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T00:40:10.949+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T00:40:10.954+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T00:40:10.959+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T00:40:10.964+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T00:40:10.969+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T00:40:10.975+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:40:10.977+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T00:40:12.248+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-15T00:40:12.248+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:12.248+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:12.250+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:40:12.251+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:40:12.258+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:40:12.260+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:40:12.264+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=4, TotalElements=4
2025-04-15T00:40:13.714+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/4
2025-04-15T00:40:13.714+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:13.714+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:13.720+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 4
2025-04-15T00:40:13.721+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finding order by ID with full details: 4
2025-04-15T00:40:13.755+02:00 ERROR 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminOrderController  : Error fetching order detail for ID 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]

org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy4/jdk.proxy4.$Proxy186.findFullDetailById(Unknown Source) ~[na:na]
	at org.example.eshop.service.OrderService.findOrderById(OrderService.java:551) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.findOrderById(<generated>) ~[classes/:na]
	at org.example.eshop.admin.controller.AdminOrderController.viewOrderDetail(AdminOrderController.java:151) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.admin.controller.AdminOrderController$$SpringCGLIB$$0.viewOrderDetail(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:146) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	... 154 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.createFetch(BaseSqmToSqlAstConverter.java:8538) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitFetches(BaseSqmToSqlAstConverter.java:8584) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:42) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:74) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1421) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.internal.AbstractSqmPathInterpretation.createDomainResult(AbstractSqmPathInterpretation.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSelection$18(BaseSqmToSqlAstConverter.java:2305) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/java.util.Collections$SingletonList.forEach(Collections.java:5186) ~[na:na]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelection(BaseSqmToSqlAstConverter.java:2300) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectClause(BaseSqmToSqlAstConverter.java:2218) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:2089) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:124) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:245) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1943) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1629) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:238) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:800) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:482) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:388) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	... 170 common frames omitted

2025-04-15T00:40:13.774+02:00 ERROR 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalApiExceptionHandler   : Unexpected error: 

org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:804) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.admin.controller.AdminOrderController$$SpringCGLIB$$0.viewOrderDetail(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:40:13.780+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only]
2025-04-15T00:40:16.980+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-15T00:40:16.980+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:16.980+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:16.982+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:40:16.983+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:40:16.990+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:40:16.990+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:40:16.996+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=4, TotalElements=4
2025-04-15T00:40:20.304+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/customers
2025-04-15T00:40:20.304+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:20.304+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:20.307+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.c.AdminCustomerController        : Requesting admin customer list view. Filters: email=null, name=null, enabled=null. Pageable: Page request [number: 0, size 20, sort: id: DESC]
2025-04-15T00:40:20.310+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.CustomerService  : Searching for customers with filters - Email: 'null', Name: 'null', Enabled: null, Page: Page request [number: 0, size 20, sort: id: DESC]
2025-04-15T00:40:21.716+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/customers/2
2025-04-15T00:40:21.716+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:21.716+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:21.718+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.c.AdminCustomerController        : Requesting admin customer detail view for ID: 2
2025-04-15T00:40:23.571+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/products
2025-04-15T00:40:23.571+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:23.571+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:23.573+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.c.AdminProductController         : Requesting admin product list view. Filters: name=null, active=null. Pageable: Page request [number: 0, size 15, sort: id: DESC]
2025-04-15T00:40:23.575+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllProducts(Pageable: Page request [number: 0, size 15, sort: id: DESC]) <<<
2025-04-15T00:40:23.581+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [ProductService] getAllProducts(Pageable): Načtena stránka s 3 produkty.
2025-04-15T00:40:23.581+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllProducts(Pageable) <<<
2025-04-15T00:40:25.371+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/products/2/edit
2025-04-15T00:40:25.372+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:25.372+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:25.375+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.c.AdminProductController         : Requesting edit form for product ID: 2
2025-04-15T00:40:25.376+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details). ID: 2
2025-04-15T00:40:25.409+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 2 nalezen.
2025-04-15T00:40:25.409+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 2) <<<
2025-04-15T00:40:25.409+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.TaxRateService   : Fetching all tax rates
2025-04-15T00:40:25.623+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:40:28.047+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/glazes
2025-04-15T00:40:28.047+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:28.047+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:28.049+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminGlazeController  : Requesting glaze list view.
2025-04-15T00:40:28.050+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.admin.service.GlazeService     : Fetching all glazes sorted by name
2025-04-15T00:40:28.158+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/vzorky/teak_prem.jpg.]
2025-04-15T00:40:29.357+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/glazes/1/edit
2025-04-15T00:40:29.357+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:29.357+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:29.358+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.controller.AdminGlazeController  : Requesting edit form for glaze ID: 1
2025-04-15T00:40:29.360+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.admin.service.GlazeService     : Fetching glaze by ID: 1
2025-04-15T00:40:31.342+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/products
2025-04-15T00:40:31.342+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:31.342+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:31.344+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.c.AdminProductController         : Requesting admin product list view. Filters: name=null, active=null. Pageable: Page request [number: 0, size 15, sort: id: DESC]
2025-04-15T00:40:31.345+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllProducts(Pageable: Page request [number: 0, size 15, sort: id: DESC]) <<<
2025-04-15T00:40:31.356+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getAllProducts(Pageable): Načtena stránka s 3 produkty.
2025-04-15T00:40:31.356+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllProducts(Pageable) <<<
2025-04-15T00:40:32.548+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/addons
2025-04-15T00:40:32.549+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:32.549+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:32.549+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.c.AdminAddonsController          : Requesting addon list view.
2025-04-15T00:40:32.550+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.admin.service.AddonsService    : Fetching all addons
2025-04-15T00:40:33.586+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/addons/3/edit
2025-04-15T00:40:33.586+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:33.586+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:33.587+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.c.AdminAddonsController          : Requesting edit form for addon ID: 3
2025-04-15T00:40:33.589+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.admin.service.AddonsService    : Fetching addon by ID: 3
2025-04-15T00:40:35.370+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/coupons
2025-04-15T00:40:35.370+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:35.370+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:35.371+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.c.AdminCouponController          : Requesting coupon list view.
2025-04-15T00:40:35.372+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.CouponService    : Fetching all coupons for CMS
2025-04-15T00:40:37.153+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/order-states
2025-04-15T00:40:37.153+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:37.153+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:37.153+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.c.AdminOrderStateController      : Requesting order state list view.
2025-04-15T00:40:37.154+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:40:38.540+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T00:40:38.540+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:38.540+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:38.540+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T00:40:38.542+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T00:40:38.547+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T00:40:38.550+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T00:40:38.554+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T00:40:38.558+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T00:40:38.561+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T00:40:38.565+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T00:40:38.569+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T00:40:38.577+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:40:38.579+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T00:40:40.043+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:40:40.043+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:40.043+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:40.043+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:40:40.045+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:40:40.054+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:40:40.054+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:40:40.060+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:40:40.067+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:40:40.068+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:40:40.251+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:40:40.479+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:40:40.482+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:40:40.484+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:40:40.485+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:40:40.487+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:40:40.487+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:40:40.506+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:40:40.512+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:40:40.724+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:40:40.724+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:40:41.804+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-15T00:40:41.805+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:41.805+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:41.808+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 9, sort: slug: ASC]
2025-04-15T00:40:41.809+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 9, sort: slug: ASC]) <<<
2025-04-15T00:40:41.826+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 3 aktivními produkty.
2025-04-15T00:40:41.826+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-15T00:40:41.826+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=3, TotalPages=1, Number=0, Size=9
2025-04-15T00:40:41.835+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:40:41.846+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:40:41.846+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': {currentGlobalCurrency=CZK, currentCurrency=CZK, productPage=Page 1 of 1 containing org.example.eshop.model.Product instances, productPrices={1={originalPrice=5990.00, discountedPrice=null, discountApplied=null}, 2={originalPrice=7490.00, discountedPrice=null, discountApplied=null}}}
2025-04-15T00:40:42.041+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:40:42.044+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:40:42.044+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-15T00:40:43.403+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/klasik
2025-04-15T00:40:43.403+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:43.404+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:43.406+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: klasik
2025-04-15T00:40:43.406+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug. Slug: klasik
2025-04-15T00:40:43.415+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'klasik' nalezen.
2025-04-15T00:40:43.415+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: klasik) <<<
2025-04-15T00:40:43.416+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 1 nalezen pro slug 'klasik'.
2025-04-15T00:40:43.416+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro STANDARD produkt ID 1
2025-04-15T00:40:43.422+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:40:43.422+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (STANDARD). Model: {currentGlobalCurrency=CZK, product=org.example.eshop.model.Product@4b9e4425, priceInfo={originalPrice=5990.00, discountedPrice=null, discountApplied=null}, availableDesigns=[org.example.eshop.model.Design@20, org.example.eshop.model.Design@21], availableGlazes=[org.example.eshop.model.Glaze@1b496f68, org.example.eshop.model.Glaze@1b496f68, org.example.eshop.model.Glaze@1b496f68], availableRoofColors=[org.example.eshop.model.RoofColor@4c7f7580, org.example.eshop.model.RoofColor@4c7f7580, org.example.eshop.model.RoofColor@4c7f7580], cartItemDto=org.example.eshop.dto.CartItemDto@78f47a6}
2025-04-15T00:40:43.588+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:40:45.057+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik/pridat
2025-04-15T00:40:45.057+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:45.057+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:45.094+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : --- addToCart START (Attribute Select Version) --- Cart instance hash: -2099802707
2025-04-15T00:40:45.095+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details). ID: 1
2025-04-15T00:40:45.107+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 1 nalezen.
2025-04-15T00:40:45.107+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 1) <<<
2025-04-15T00:40:45.109+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Processing addToCart request for product ID: 1
2025-04-15T00:40:45.109+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : CartItemDto details: isCustom=false, quantity=1
2025-04-15T00:40:45.109+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Selected IDs: Design=1, Glaze=3, RoofColor=1
2025-04-15T00:40:45.110+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details). ID: 1
2025-04-15T00:40:45.120+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 1 nalezen.
2025-04-15T00:40:45.120+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 1) <<<
2025-04-15T00:40:45.126+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Applied Tax Rate 21.00% for product ID 1
2025-04-15T00:40:45.126+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Calculated attribute surcharges: CZK=0, EUR=0
2025-04-15T00:40:45.126+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Using base price for standard product: CZK=5990.00, EUR=250.00
2025-04-15T00:40:45.126+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Final unit prices calculated (incl. attribute surcharges and addons): CZK=5990.00, EUR=250.00
2025-04-15T00:40:45.127+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Built variant info string for CartItem (ProductID: 1): 'Rozměry (DxHxV): 200x80x180 cm | Design: Klasik | Lazura: Bezbarvý lak | Střecha: Antracit'
2025-04-15T00:40:45.127+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : Generated Cart Item ID: P1-S-D1-G3-RC1
2025-04-15T00:40:45.131+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.Cart           : addItem called for cart hash: 938425338. Item ID: P1-S-D1-G3-RC1, Product ID: 1
2025-04-15T00:40:45.131+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.Cart           : Added new cart item ID: P1-S-D1-G3-RC1. Cart hash: 938425338
2025-04-15T00:40:45.131+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.Cart           : Cart items map after addItem (hash: 938425338): {P1-S-D1-G3-RC1=CartItem{cartItemId='P1-S-D1-G3-RC1', productId=1, quantity=1, taxRatePercent=0.21}}
2025-04-15T00:40:45.134+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CartController      : --- addToCart END --- Item added/updated. Cart instance hash: -2099802707, Current cart items count: 1
2025-04-15T00:40:45.180+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-15T00:40:45.180+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:45.180+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:45.181+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: -2099802707
2025-04-15T00:40:45.181+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : Cart items before display: {P1-S-D1-G3-RC1=CartItem{cartItemId='P1-S-D1-G3-RC1', productId=1, quantity=1, taxRatePercent=0.21}}
2025-04-15T00:40:45.181+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 1 items.
2025-04-15T00:40:45.181+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-15T00:40:45.183+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : Cart subtotal (CZK): 5990.00
2025-04-15T00:40:45.183+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : Validated coupon: None, Discount amount (CZK): 0
2025-04-15T00:40:45.186+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : Total VAT (CZK): 1257.90
2025-04-15T00:40:45.186+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : VAT Breakdown (CZK): {0.21=1257.90}
2025-04-15T00:40:45.186+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : Total Price Before Shipping (CZK): 7247.90
2025-04-15T00:40:45.186+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : Total Price Without Tax After Discount (CZK): 5990.00
2025-04-15T00:40:45.186+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-15T00:40:45.285+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:40:46.683+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna
2025-04-15T00:40:46.683+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:46.684+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:46.686+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CheckoutController  : Displaying checkout page for user: admin@example.com in currency: CZK
2025-04-15T00:40:46.693+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CheckoutController  : Initialized checkout form DTO from logged-in customer 2.
2025-04-15T00:40:46.693+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CheckoutController  : Added shippingTaxRate 0.21 to model.
2025-04-15T00:40:46.694+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-15T00:40:46.694+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Adminova 1, Hlavní Město, 11000, Česká republika'
2025-04-15T00:40:47.266+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 1008.01 CZK (Distance: 33.9 km)
2025-04-15T00:40:47.267+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CheckoutController  : Preparing checkout summary model data for currency: CZK
2025-04-15T00:40:47.268+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CheckoutController  : Rounding calculation: originalTotalPrice=8467.59, roundedTotalPrice=8467, roundingDifference=0.59
2025-04-15T00:40:47.268+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CheckoutController  : Checkout summary model prepared: subtotal=5990.00, itemDiscount=0, itemVat=1257.90, origShipCost=1008.01, shipDiscount=0, finalShipCost=1008.01, finalShipTax=211.68, originalTotal=8467.59, roundingDiff=0.59, finalRoundedTotal=8467, totalVatWithShip=1469.58, shippingError='null'
2025-04-15T00:40:47.268+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.controller.CheckoutController  : Checkout page model prepared for admin@example.com. Currency: CZK
2025-04-15T00:40:54.162+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/calculate-shipping
2025-04-15T00:40:54.163+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:54.163+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:54.214+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CheckoutController  : AJAX request to calculate shipping for address: ShippingAddressDto(street=Adminova 1, city=Praha, zipCode=11000, country=Česká republika) in currency CZK
2025-04-15T00:40:54.215+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-15T00:40:54.215+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Adminova 1, Praha, 11000, Česká republika'
2025-04-15T00:40:54.342+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 1952.47 CZK (Distance: 96.8 km)
2025-04-15T00:40:54.342+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.CheckoutController  : AJAX Shipping Calc OK: origCost=1952.47, origTax=410.02, shipDiscount=0, finalCost=1952.47, finalTax=410.02, finalTotal=9610.39, finalTotalVat=1667.92
2025-04-15T00:40:56.641+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/odeslat
2025-04-15T00:40:56.641+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:40:56.641+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:40:56.684+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CheckoutController  : Processing checkout submission for user: admin@example.com in currency: CZK
2025-04-15T00:40:56.685+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CheckoutController  : Set email in DTO from principal for logged-in user: admin@example.com
2025-04-15T00:40:56.685+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CheckoutController  : Checkout form validation failed for admin@example.com: [Field error in object 'checkoutForm' on field 'agreeTerms': rejected value [false]; codes [TermsNotAgreed.checkoutForm.agreeTerms,TermsNotAgreed.agreeTerms,TermsNotAgreed.boolean,TermsNotAgreed]; arguments []; default message [Musíte souhlasit s obchodními podmínkami.]]
2025-04-15T00:40:56.685+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CheckoutController  : Preparing model for rendering checkout page after form error. Currency: CZK
2025-04-15T00:40:56.689+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CheckoutController  : Preparing checkout summary model data for currency: CZK
2025-04-15T00:40:56.690+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CheckoutController  : Rounding calculation skipped because shipping is invalid.
2025-04-15T00:40:56.690+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CheckoutController  : Checkout summary model prepared: subtotal=5990.00, itemDiscount=0, itemVat=1257.90, origShipCost=null, shipDiscount=0, finalShipCost=0, finalShipTax=0, originalTotal=null, roundingDiff=0, finalRoundedTotal=null, totalVatWithShip=1257.90, shippingError='Zkontrolujte chyby ve formuláři a znovu vypočítejte dopravu.'
2025-04-15T00:40:56.690+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.CheckoutController  : Model prepared for error view. Shipping error state indicated.
2025-04-15T00:41:00.504+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/calculate-shipping
2025-04-15T00:41:00.505+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:00.505+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:00.508+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : AJAX request to calculate shipping for address: ShippingAddressDto(street=Adminova 1, city=Praha, zipCode=11000, country=Česká republika) in currency CZK
2025-04-15T00:41:00.508+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calculating shipping cost for order null in currency CZK
2025-04-15T00:41:00.509+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calling Google Distance Matrix API: Origin=50.03500389,15.49180022, Destination='Adminova 1, Praha, 11000, Česká republika'
2025-04-15T00:41:00.576+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.e.service.GoogleMapsShippingService  : Calculated shipping cost for order null: 1952.47 CZK (Distance: 96.8 km)
2025-04-15T00:41:00.576+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.controller.CheckoutController  : AJAX Shipping Calc OK: origCost=1952.47, origTax=410.02, shipDiscount=0, finalCost=1952.47, finalTax=410.02, finalTotal=9610.39, finalTotalVat=1667.92
2025-04-15T00:41:01.843+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /pokladna/odeslat
2025-04-15T00:41:01.844+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:01.844+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:01.849+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Processing checkout submission for user: admin@example.com in currency: CZK
2025-04-15T00:41:01.849+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Set email in DTO from principal for logged-in user: admin@example.com
2025-04-15T00:41:01.849+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Getting logged-in customer: admin@example.com
2025-04-15T00:41:01.856+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Customer 2 address differs or useInvoice flag changed, updating from DTO.
2025-04-15T00:41:01.857+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.CustomerService  : Setting invoice name/lastname from main contact for customer ID 2.
2025-04-15T00:41:01.857+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.CustomerService  : Saving customer ID: 2
2025-04-15T00:41:01.857+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Updated address data saved for customer 2.
2025-04-15T00:41:01.858+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Using valid shipping costs from form: NoTax=1952.47, Tax=410.02
2025-04-15T00:41:01.858+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Calculating final order totals for saving: originalTotal=9610.39, roundedTotal=9610
2025-04-15T00:41:01.859+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Attempting to create order with request: CreateOrderRequest(customerId=2, useCustomerAddresses=true, paymentMethod=BANK_TRANSFER, currency=CZK, customerNote=, couponCode=null, items=[org.example.eshop.dto.CartItemDto@2e4163d8], shippingCostNoTax=1952.47, shippingTax=410.02)
2025-04-15T00:41:01.863+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 2 with explicit currency: CZK
2025-04-15T00:41:01.863+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:41:01.867+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:41:01.867+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 2 to order.
2025-04-15T00:41:01.867+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Invoice recipient is person: Admin Eshopu
2025-04-15T00:41:01.867+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:41:01.867+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:41:01.867+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:41:01.867+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-15T00:41:01.867+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1
2025-04-15T00:41:01.873+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:41:01.873+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-15T00:41:01.873+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Klasik | Lazura: Bezbarvý lak | Střecha: Antracit
2025-04-15T00:41:01.873+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 5990.00
2025-04-15T00:41:01.878+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Unit Price After Discount: 5990.00
2025-04-15T00:41:01.878+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T00:41:01.878+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 5990.00
2025-04-15T00:41:01.878+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Unit Tax Amount: 1257.90
2025-04-15T00:41:01.878+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Unit Price With Tax: 7247.90
2025-04-15T00:41:01.878+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=5990.00, TotalTaxAmount=1257.90, TotalPriceWithTax=7247.90
2025-04-15T00:41:01.878+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=5990.00, TaxAmount=1257.90
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 5990.00, Running Item Tax: 1257.90
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 5990.00, Final Item Tax: 1257.90
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 1952.47, Tax: 410.02, Estimated Rate: 0.2100
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=7942.47, TotalTax=1667.92, OriginalTotalWithTax=9610.39, RoundedTotalToSave=9610
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=7942.47, TotalTax=1667.92, OriginalTotalWithTax=9610.39, RoundedTotalToSave=9610
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T00:41:01.879+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 210
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Generated Order Code: 210
2025-04-15T00:41:01.879+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:41:01.887+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Order 210 created successfully. Total: 9610 CZK
2025-04-15T00:41:01.888+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 210...
2025-04-15T00:41:01.891+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Order 210 successfully created with currency CZK for user: admin@example.com
2025-04-15T00:41:01.893+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.Cart           : clearCart called for cart hash: 938425338. Clearing items and coupon.
2025-04-15T00:41:01.893+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CheckoutController  : Session cart cleared for admin@example.com
2025-04-15T00:41:01.894+02:00 ERROR 16216 --- [Eshop] [task-5] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-5] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:41:01.896+02:00 ERROR 16216 --- [Eshop] [task-5] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 210: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:41:01.909+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-15T00:41:01.910+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:01.910+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:01.918+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 2
2025-04-15T00:41:03.997+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/210
2025-04-15T00:41:03.997+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:03.997+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:04.003+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Customer admin@example.com (ID: 2) viewing order detail for CODE: 210
2025-04-15T00:41:04.004+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by code with full details: 210
2025-04-15T00:41:04.008+02:00 ERROR 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.c.CustomerAccountController        : Neočekávaná chyba při zobrazení detailu objednávky CODE: 210 pro admin@example.com: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]

org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy4/jdk.proxy4.$Proxy186.findFullDetailByOrderCode(Unknown Source) ~[na:na]
	at org.example.eshop.service.OrderService.findOrderByCode(OrderService.java:558) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.findOrderByCode(<generated>) ~[classes/:na]
	at org.example.eshop.controller.CustomerAccountController.viewOrderDetail(CustomerAccountController.java:148) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.controller.CustomerAccountController$$SpringCGLIB$$0.viewOrderDetail(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:146) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	... 154 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.createFetch(BaseSqmToSqlAstConverter.java:8538) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitFetches(BaseSqmToSqlAstConverter.java:8584) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:42) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:74) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1421) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.internal.AbstractSqmPathInterpretation.createDomainResult(AbstractSqmPathInterpretation.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSelection$18(BaseSqmToSqlAstConverter.java:2305) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/java.util.Collections$SingletonList.forEach(Collections.java:5186) ~[na:na]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelection(BaseSqmToSqlAstConverter.java:2300) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectClause(BaseSqmToSqlAstConverter.java:2218) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:2089) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:124) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:245) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1943) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1629) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:238) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:800) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:482) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:388) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	... 170 common frames omitted

2025-04-15T00:41:04.014+02:00 ERROR 16216 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalApiExceptionHandler   : Unexpected error: 

org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:804) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.controller.CustomerAccountController$$SpringCGLIB$$0.viewOrderDetail(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:41:04.017+02:00  WARN 16216 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only]
2025-04-15T00:41:39.319+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-15T00:41:39.319+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:39.319+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:39.321+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:41:39.323+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:41:39.328+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Found 5 orders matching criteria using specifications.
2025-04-15T00:41:39.330+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:41:39.334+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=5, TotalElements=5
2025-04-15T00:41:40.460+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/customers
2025-04-15T00:41:40.460+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:40.460+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:40.461+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.c.AdminCustomerController        : Requesting admin customer list view. Filters: email=null, name=null, enabled=null. Pageable: Page request [number: 0, size 20, sort: id: DESC]
2025-04-15T00:41:40.462+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.CustomerService  : Searching for customers with filters - Email: 'null', Name: 'null', Enabled: null, Page: Page request [number: 0, size 20, sort: id: DESC]
2025-04-15T00:41:41.262+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/products
2025-04-15T00:41:41.262+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:41.262+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:41.264+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.c.AdminProductController         : Requesting admin product list view. Filters: name=null, active=null. Pageable: Page request [number: 0, size 15, sort: id: DESC]
2025-04-15T00:41:41.266+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllProducts(Pageable: Page request [number: 0, size 15, sort: id: DESC]) <<<
2025-04-15T00:41:41.277+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getAllProducts(Pageable): Načtena stránka s 3 produkty.
2025-04-15T00:41:41.277+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllProducts(Pageable) <<<
2025-04-15T00:41:42.146+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/addons
2025-04-15T00:41:42.147+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:42.147+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:42.148+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.c.AdminAddonsController          : Requesting addon list view.
2025-04-15T00:41:42.150+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.admin.service.AddonsService    : Fetching all addons
2025-04-15T00:41:42.958+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/addons
2025-04-15T00:41:42.958+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:42.958+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:42.959+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.c.AdminAddonsController          : Requesting addon list view.
2025-04-15T00:41:42.960+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.admin.service.AddonsService    : Fetching all addons
2025-04-15T00:41:44.543+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/coupons
2025-04-15T00:41:44.544+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:44.544+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:44.544+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.c.AdminCouponController          : Requesting coupon list view.
2025-04-15T00:41:44.546+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-8] o.example.eshop.service.CouponService    : Fetching all coupons for CMS
2025-04-15T00:41:46.061+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/order-states
2025-04-15T00:41:46.061+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:41:46.061+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:41:46.062+02:00  INFO 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.c.AdminOrderStateController      : Requesting order state list view.
2025-04-15T00:41:46.062+02:00 DEBUG 16216 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:42:43.200+02:00  INFO 16216 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-15T00:42:43.205+02:00  INFO 16216 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-15T00:42:43.213+02:00  INFO 16216 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-15T00:42:43.217+02:00  INFO 16216 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:42:44.377+02:00  INFO 16216 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-15T00:42:44.383+02:00  INFO 16216 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-15T00:43:00.832+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 30704 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T00:43:00.838+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T00:43:00.840+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T00:43:01.559+02:00  INFO 30704 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T00:43:01.560+02:00  INFO 30704 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T00:43:03.679+02:00  INFO 30704 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T00:43:03.802+02:00  INFO 30704 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 107 ms. Found 14 JPA repository interfaces.
2025-04-15T00:43:05.167+02:00  INFO 30704 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T00:43:05.192+02:00  INFO 30704 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T00:43:05.193+02:00  INFO 30704 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T00:43:05.298+02:00  INFO 30704 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T00:43:05.299+02:00  INFO 30704 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3737 ms
2025-04-15T00:43:06.038+02:00  INFO 30704 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T00:43:06.126+02:00  INFO 30704 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T00:43:06.188+02:00  INFO 30704 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T00:43:06.599+02:00  INFO 30704 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T00:43:06.641+02:00  INFO 30704 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T00:43:06.756+02:00  INFO 30704 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@54a903ef
2025-04-15T00:43:06.758+02:00  INFO 30704 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T00:43:06.842+02:00  INFO 30704 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T00:43:08.724+02:00  INFO 30704 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T00:43:11.437+02:00  INFO 30704 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:43:11.887+02:00  INFO 30704 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T00:43:12.958+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-15T00:43:13.164+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-15T00:43:13.166+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-15T00:43:13.190+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-15T00:43:13.352+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : No existing numeric-like order codes found in database.
2025-04-15T00:43:13.352+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 205
2025-04-15T00:43:13.726+02:00  WARN 30704 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-15T00:43:14.174+02:00  INFO 30704 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-15T00:43:14.263+02:00  INFO 30704 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-15T00:43:14.902+02:00  INFO 30704 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-15T00:43:16.014+02:00  INFO 30704 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-15T00:43:16.114+02:00  INFO 30704 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-15T00:43:16.134+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 17.143 seconds (process running for 18.646)
2025-04-15T00:43:16.155+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing test data...
2025-04-15T00:43:16.226+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Tax Rates...
2025-04-15T00:43:16.294+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Order States...
2025-04-15T00:43:16.320+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Email Template Configs...
2025-04-15T00:43:16.446+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik
2025-04-15T00:43:16.452+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik Plus
2025-04-15T00:43:16.458+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Simple
2025-04-15T00:43:16.463+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Box
2025-04-15T00:43:16.470+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Ořech
2025-04-15T00:43:16.474+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Palisandr
2025-04-15T00:43:16.479+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Bezbarvý lak
2025-04-15T00:43:16.484+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Šedá lazura
2025-04-15T00:43:16.608+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Antracit
2025-04-15T00:43:16.615+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak
2025-04-15T00:43:16.620+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak Premium
2025-04-15T00:43:16.629+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Antracit
2025-04-15T00:43:16.633+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Červená
2025-04-15T00:43:16.638+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Zelená
2025-04-15T00:43:16.642+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná
2025-04-15T00:43:16.646+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná metalická
2025-04-15T00:43:16.652+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Polička navíc
2025-04-15T00:43:16.659+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Držák na nářadí
2025-04-15T00:43:16.665+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Starý doplněk
2025-04-15T00:43:16.683+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Klasik
2025-04-15T00:43:16.729+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Modern
2025-04-15T00:43:16.737+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník na míru
2025-04-15T00:43:16.740+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating new configurator for product ID: 3
2025-04-15T00:43:16.742+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Updating existing configurator for product ID: 3
2025-04-15T00:43:17.027+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin user: admin@example.com
2025-04-15T00:43:17.034+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating test orders...
2025-04-15T00:43:17.035+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T00:43:17.036+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T00:43:17.036+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:43:17.049+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:43:17.049+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:43:17.049+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:43:17.049+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:43:17.050+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:43:17.050+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:43:17.050+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-15T00:43:17.050+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1
2025-04-15T00:43:17.053+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:43:17.053+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-15T00:43:17.055+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Klasik | Lazura: Ořech | Střecha: Antracit
2025-04-15T00:43:17.055+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 5990.00
2025-04-15T00:43:17.061+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 5990.00
2025-04-15T00:43:17.061+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T00:43:17.061+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 5990.00
2025-04-15T00:43:17.061+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1257.90
2025-04-15T00:43:17.061+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 7247.90
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=5990.00, TotalTaxAmount=1257.90, TotalPriceWithTax=7247.90
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=5990.00, TaxAmount=1257.90
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 5990.00, Running Item Tax: 1257.90
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 5990.00, Final Item Tax: 1257.90
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:43:17.062+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T00:43:17.063+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T00:43:17.063+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T00:43:17.063+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T00:43:17.063+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 206
2025-04-15T00:43:17.063+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 206
2025-04-15T00:43:17.063+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:43:17.074+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 206 created successfully. Total: 7852 CZK
2025-04-15T00:43:17.074+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 206...
2025-04-15T00:43:17.076+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 206 (Total: 7852 CZK)
2025-04-15T00:43:17.076+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in EUR
2025-04-15T00:43:17.077+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: EUR
2025-04-15T00:43:17.077+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: EUR
2025-04-15T00:43:17.080+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: EUR
2025-04-15T00:43:17.080+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:43:17.080+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:43:17.080+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:43:17.080+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:43:17.081+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: EUR
2025-04-15T00:43:17.081+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T00:43:17.081+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T00:43:17.081+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:43:17.081+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T00:43:17.081+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 350x120x210 cm|Příčka: Ano
2025-04-15T00:43:17.083+02:00  INFO 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: EUR
2025-04-15T00:43:17.083+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (EUR): 1623.60
2025-04-15T00:43:17.083+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (EUR): 0.00
2025-04-15T00:43:17.083+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (EUR): 62.40
2025-04-15T00:43:17.083+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (EUR, fixed): 0.00
2025-04-15T00:43:17.083+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (EUR, fixed): 0.00
2025-04-15T00:43:17.083+02:00  INFO 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: EUR. Vypočtená cena: 1686.00
2025-04-15T00:43:17.084+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 1686.00
2025-04-15T00:43:17.086+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 1686.00
2025-04-15T00:43:17.087+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: EUR
2025-04-15T00:43:17.090+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1, 2]
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1, 2]
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 15.00
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 30.00
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=2, Name=Držák na nářadí
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 20.00
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 20.00
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (EUR): 50.00
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 50.00
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 1736.00
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 364.56
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 2100.56
2025-04-15T00:43:17.100+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=1736.00, TotalTaxAmount=364.56, TotalPriceWithTax=2100.56
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=1736.00, TaxAmount=364.56
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 1736.00, Running Item Tax: 364.56
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 1736.00, Final Item Tax: 364.56
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: EUR
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 25.00, Tax: 5.25, Estimated Rate: 0.2100
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: EUR
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: EUR
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T00:43:17.102+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T00:43:17.102+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T00:43:17.102+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T00:43:17.102+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 1000.00 EUR calculated for custom order (new).
2025-04-15T00:43:17.102+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 1000.00
2025-04-15T00:43:17.103+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 207
2025-04-15T00:43:17.103+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 207
2025-04-15T00:43:17.103+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:43:17.112+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 207 created successfully. Total: 2130 EUR
2025-04-15T00:43:17.112+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 207...
2025-04-15T00:43:17.112+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 207. Currency: EUR
2025-04-15T00:43:17.125+02:00 ERROR 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Non-critical error generating proforma invoice for order 207: Order not found: 2. Order creation continues.

jakarta.persistence.EntityNotFoundException: Order not found: 2
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateProformaInvoice(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$0.generateProformaInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.service.OrderService.createOrder(OrderService.java:362) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createTestOrder(DataInitializer.java:287) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createSampleOrders(DataInitializer.java:191) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.run(DataInitializer.java:145) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.init.DataInitializer$$SpringCGLIB$$0.run(<generated>) ~[classes/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$4(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]

2025-04-15T00:43:17.131+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 207 (Total: 2130 EUR)
2025-04-15T00:43:17.131+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer admin@example.com with 1 items in CZK
2025-04-15T00:43:17.131+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 2 with explicit currency: CZK
2025-04-15T00:43:17.131+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:43:17.135+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:43:17.135+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 2 to order.
2025-04-15T00:43:17.135+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Admin Eshopu
2025-04-15T00:43:17.135+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:43:17.135+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:43:17.135+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:43:17.136+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-15T00:43:17.136+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2
2025-04-15T00:43:17.137+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 500.00
2025-04-15T00:43:17.137+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-15T00:43:17.137+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Modern Simple | Lazura: Teak Premium | Střecha: Stříbrná metalická
2025-04-15T00:43:17.138+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 7490.00
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 7490.00
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 7990.00
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1677.90
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 9667.90
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=15980.00, TotalTaxAmount=3355.80, TotalPriceWithTax=19335.80
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=15980.00, TaxAmount=3355.80
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 15980.00, Running Item Tax: 3355.80
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 15980.00, Final Item Tax: 3355.80
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T00:43:17.142+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T00:43:17.143+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T00:43:17.143+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T00:43:17.143+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 208
2025-04-15T00:43:17.143+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 208
2025-04-15T00:43:17.143+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:43:17.147+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 208 created successfully. Total: 19940 CZK
2025-04-15T00:43:17.147+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 208...
2025-04-15T00:43:17.148+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 208 (Total: 19940 CZK)
2025-04-15T00:43:17.148+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 208 to PAID and state PROCESSING (SF API calls might be triggered if active)
2025-04-15T00:43:17.150+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 208 to PAID and state PROCESSING (bypassed SF calls)
2025-04-15T00:43:17.152+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T00:43:17.152+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T00:43:17.152+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:43:17.160+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:43:17.160+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:43:17.160+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:43:17.160+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:43:17.160+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:43:17.160+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:43:17.160+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T00:43:17.160+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 280x90x195 cm|Okap: Ano
2025-04-15T00:43:17.161+02:00  INFO 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: CZK
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (CZK): 32700.00
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (CZK): 0.00
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (CZK): 0.00
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (CZK, fixed): 1000.00
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (CZK, fixed): 0.00
2025-04-15T00:43:17.161+02:00  INFO 30704 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: CZK. Vypočtená cena: 33700.00
2025-04-15T00:43:17.161+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 33700.00
2025-04-15T00:43:17.164+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 33700.00
2025-04-15T00:43:17.164+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: CZK
2025-04-15T00:43:17.164+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1]
2025-04-15T00:43:17.167+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1]
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (CZK): 350.00
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (CZK): 350.00
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (CZK): 350.00
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 350.00
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 34050.00
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 7150.50
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 41200.50
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=34050.00, TotalTaxAmount=7150.50, TotalPriceWithTax=41200.50
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=34050.00, TaxAmount=7150.50
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 34050.00, Running Item Tax: 7150.50
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 34050.00, Final Item Tax: 7150.50
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:43:17.168+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T00:43:17.169+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T00:43:17.169+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T00:43:17.169+02:00  INFO 30704 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T00:43:17.169+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 20000.00 CZK calculated for custom order (new).
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 20000.00
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 209
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 209
2025-04-15T00:43:17.169+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:43:17.174+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 209 created successfully. Total: 41805 CZK
2025-04-15T00:43:17.175+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 209...
2025-04-15T00:43:17.175+02:00 DEBUG 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 209. Currency: CZK
2025-04-15T00:43:17.178+02:00 ERROR 30704 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Non-critical error generating proforma invoice for order 209: Order not found: 4. Order creation continues.

jakarta.persistence.EntityNotFoundException: Order not found: 4
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateProformaInvoice(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$0.generateProformaInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.service.OrderService.createOrder(OrderService.java:362) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createTestOrder(DataInitializer.java:287) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createSampleOrders(DataInitializer.java:236) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.run(DataInitializer.java:145) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.init.DataInitializer$$SpringCGLIB$$0.run(<generated>) ~[classes/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$4(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]

2025-04-15T00:43:17.180+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 209 (Total: 41805 CZK)
2025-04-15T00:43:17.180+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 209 to DEPOSIT_PAID and state IN_PRODUCTION (SF API calls might be triggered if active)
2025-04-15T00:43:17.180+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 209 to DEPOSIT_PAID and state IN_PRODUCTION (bypassed SF calls)
2025-04-15T00:43:17.180+02:00  INFO 30704 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Test data initialization finished successfully.
2025-04-15T00:43:17.459+02:00 ERROR 30704 --- [Eshop] [task-3] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-3] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:17.458+02:00 ERROR 30704 --- [Eshop] [task-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-4] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:17.459+02:00 ERROR 30704 --- [Eshop] [task-2] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-2] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:17.458+02:00 ERROR 30704 --- [Eshop] [task-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-1] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:17.465+02:00 ERROR 30704 --- [Eshop] [task-2] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 207: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:17.466+02:00 ERROR 30704 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 206: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:17.464+02:00 ERROR 30704 --- [Eshop] [task-3] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 208: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:17.464+02:00 ERROR 30704 --- [Eshop] [task-4] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 209: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:17.937+02:00  INFO 30704 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-15T00:43:17.937+02:00  INFO 30704 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-15T00:43:17.942+02:00  INFO 30704 --- [Eshop] [RMI TCP Connection(4)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-04-15T00:43:29.470+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/order-states
2025-04-15T00:43:29.470+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:43:29.470+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:43:29.473+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.c.AdminOrderStateController      : Requesting order state list view.
2025-04-15T00:43:29.475+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:43:30.823+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T00:43:30.825+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:43:30.826+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:43:30.827+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T00:43:30.830+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T00:43:30.846+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T00:43:30.853+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T00:43:30.861+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T00:43:30.866+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T00:43:30.871+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T00:43:30.876+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T00:43:30.885+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T00:43:30.933+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:43:30.935+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T00:43:33.978+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/4
2025-04-15T00:43:33.978+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:43:33.978+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:43:33.993+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 4
2025-04-15T00:43:33.994+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by ID with full details: 4
2025-04-15T00:43:34.030+02:00 ERROR 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Error fetching order detail for ID 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]

org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy4/jdk.proxy4.$Proxy186.findFullDetailById(Unknown Source) ~[na:na]
	at org.example.eshop.service.OrderService.findOrderById(OrderService.java:551) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.findOrderById(<generated>) ~[classes/:na]
	at org.example.eshop.admin.controller.AdminOrderController.viewOrderDetail(AdminOrderController.java:151) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.admin.controller.AdminOrderController$$SpringCGLIB$$0.viewOrderDetail(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:146) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	... 154 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.createFetch(BaseSqmToSqlAstConverter.java:8538) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitFetches(BaseSqmToSqlAstConverter.java:8584) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:42) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:74) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1421) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.internal.AbstractSqmPathInterpretation.createDomainResult(AbstractSqmPathInterpretation.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSelection$18(BaseSqmToSqlAstConverter.java:2305) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/java.util.Collections$SingletonList.forEach(Collections.java:5186) ~[na:na]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelection(BaseSqmToSqlAstConverter.java:2300) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectClause(BaseSqmToSqlAstConverter.java:2218) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:2089) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:124) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:245) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1943) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1629) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:238) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:800) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:482) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:388) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	... 170 common frames omitted

2025-04-15T00:43:34.059+02:00 ERROR 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalApiExceptionHandler   : Unexpected error: 

org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:804) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.admin.controller.AdminOrderController$$SpringCGLIB$$0.viewOrderDetail(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:43:34.129+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only]
2025-04-15T00:44:21.951+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T00:44:21.953+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:21.953+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:21.953+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T00:44:21.956+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T00:44:21.964+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T00:44:21.970+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T00:44:21.976+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T00:44:21.981+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T00:44:21.986+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T00:44:21.992+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T00:44:21.999+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T00:44:22.011+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:44:22.012+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T00:44:23.911+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T00:44:23.911+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:23.911+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:23.911+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T00:44:23.913+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) <<<
2025-04-15T00:44:23.925+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů.
2025-04-15T00:44:23.925+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T00:44:23.936+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T00:44:23.944+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T00:44:23.945+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T00:44:24.235+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T00:44:24.446+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T00:44:24.446+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T00:44:24.499+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T00:44:24.499+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T00:44:24.505+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T00:44:24.508+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T00:44:24.509+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T00:44:24.515+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T00:44:24.788+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T00:44:24.789+02:00  WARN 30704 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T00:44:26.972+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-15T00:44:26.972+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:26.973+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:26.980+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 2
2025-04-15T00:44:28.733+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/208
2025-04-15T00:44:28.733+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:28.734+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:28.740+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.e.c.CustomerAccountController        : Customer admin@example.com (ID: 2) viewing order detail for CODE: 208
2025-04-15T00:44:28.741+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by code with full details: 208
2025-04-15T00:44:28.746+02:00 ERROR 30704 --- [Eshop] [http-nio-8080-exec-5] o.e.e.c.CustomerAccountController        : Neočekávaná chyba při zobrazení detailu objednávky CODE: 208 pro admin@example.com: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]

org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy4/jdk.proxy4.$Proxy186.findFullDetailByOrderCode(Unknown Source) ~[na:na]
	at org.example.eshop.service.OrderService.findOrderByCode(OrderService.java:558) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.findOrderByCode(<generated>) ~[classes/:na]
	at org.example.eshop.controller.CustomerAccountController.viewOrderDetail(CustomerAccountController.java:147) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:146) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	... 144 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.createFetch(BaseSqmToSqlAstConverter.java:8538) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitFetches(BaseSqmToSqlAstConverter.java:8584) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:42) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:74) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1421) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.internal.AbstractSqmPathInterpretation.createDomainResult(AbstractSqmPathInterpretation.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSelection$18(BaseSqmToSqlAstConverter.java:2305) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/java.util.Collections$SingletonList.forEach(Collections.java:5186) ~[na:na]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelection(BaseSqmToSqlAstConverter.java:2300) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectClause(BaseSqmToSqlAstConverter.java:2218) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:2089) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:124) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:245) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1943) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1629) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:238) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:800) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:482) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:388) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	... 160 common frames omitted

2025-04-15T00:44:28.778+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-15T00:44:28.778+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:28.778+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:28.783+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 2
2025-04-15T00:44:29.760+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/208
2025-04-15T00:44:29.760+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:29.760+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:29.767+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-6] o.e.e.c.CustomerAccountController        : Customer admin@example.com (ID: 2) viewing order detail for CODE: 208
2025-04-15T00:44:29.768+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-6] org.example.eshop.service.OrderService   : Finding order by code with full details: 208
2025-04-15T00:44:29.772+02:00 ERROR 30704 --- [Eshop] [http-nio-8080-exec-6] o.e.e.c.CustomerAccountController        : Neočekávaná chyba při zobrazení detailu objednávky CODE: 208 pro admin@example.com: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]

org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy4/jdk.proxy4.$Proxy186.findFullDetailByOrderCode(Unknown Source) ~[na:na]
	at org.example.eshop.service.OrderService.findOrderByCode(OrderService.java:558) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.findOrderByCode(<generated>) ~[classes/:na]
	at org.example.eshop.controller.CustomerAccountController.viewOrderDetail(CustomerAccountController.java:147) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:146) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	... 144 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.createFetch(BaseSqmToSqlAstConverter.java:8538) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitFetches(BaseSqmToSqlAstConverter.java:8584) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:42) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:74) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1421) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.internal.AbstractSqmPathInterpretation.createDomainResult(AbstractSqmPathInterpretation.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSelection$18(BaseSqmToSqlAstConverter.java:2305) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/java.util.Collections$SingletonList.forEach(Collections.java:5186) ~[na:na]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelection(BaseSqmToSqlAstConverter.java:2300) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectClause(BaseSqmToSqlAstConverter.java:2218) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:2089) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:124) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:245) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1943) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1629) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:238) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:800) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:482) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:388) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	... 160 common frames omitted

2025-04-15T00:44:29.783+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-15T00:44:29.783+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:29.783+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:29.788+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 2
2025-04-15T00:44:30.701+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/208
2025-04-15T00:44:30.701+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:30.701+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:30.708+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-9] o.e.e.c.CustomerAccountController        : Customer admin@example.com (ID: 2) viewing order detail for CODE: 208
2025-04-15T00:44:30.708+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-9] org.example.eshop.service.OrderService   : Finding order by code with full details: 208
2025-04-15T00:44:30.715+02:00 ERROR 30704 --- [Eshop] [http-nio-8080-exec-9] o.e.e.c.CustomerAccountController        : Neočekávaná chyba při zobrazení detailu objednávky CODE: 208 pro admin@example.com: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]

org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy4/jdk.proxy4.$Proxy186.findFullDetailByOrderCode(Unknown Source) ~[na:na]
	at org.example.eshop.service.OrderService.findOrderByCode(OrderService.java:558) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.findOrderByCode(<generated>) ~[classes/:na]
	at org.example.eshop.controller.CustomerAccountController.viewOrderDetail(CustomerAccountController.java:147) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:146) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	... 144 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.createFetch(BaseSqmToSqlAstConverter.java:8538) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitFetches(BaseSqmToSqlAstConverter.java:8584) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:42) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:74) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1421) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.internal.AbstractSqmPathInterpretation.createDomainResult(AbstractSqmPathInterpretation.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSelection$18(BaseSqmToSqlAstConverter.java:2305) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/java.util.Collections$SingletonList.forEach(Collections.java:5186) ~[na:na]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelection(BaseSqmToSqlAstConverter.java:2300) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectClause(BaseSqmToSqlAstConverter.java:2218) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:2089) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:124) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:245) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1943) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1629) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:238) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:800) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:482) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:388) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	... 160 common frames omitted

2025-04-15T00:44:30.731+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-15T00:44:30.732+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:30.732+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:30.738+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 2
2025-04-15T00:44:31.621+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky/208
2025-04-15T00:44:31.622+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:31.622+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:31.629+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-7] o.e.e.c.CustomerAccountController        : Customer admin@example.com (ID: 2) viewing order detail for CODE: 208
2025-04-15T00:44:31.629+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.OrderService   : Finding order by code with full details: 208
2025-04-15T00:44:31.635+02:00 ERROR 30704 --- [Eshop] [http-nio-8080-exec-7] o.e.e.c.CustomerAccountController        : Neočekávaná chyba při zobrazení detailu objednávky CODE: 208 pro admin@example.com: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]

org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy4/jdk.proxy4.$Proxy186.findFullDetailByOrderCode(Unknown Source) ~[na:na]
	at org.example.eshop.service.OrderService.findOrderByCode(OrderService.java:558) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.findOrderByCode(<generated>) ~[classes/:na]
	at org.example.eshop.controller.CustomerAccountController.viewOrderDetail(CustomerAccountController.java:147) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.lang.IllegalArgumentException: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:146) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:151) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	... 144 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.example.eshop.model.OrderItem.selectedAddons, org.example.eshop.model.Order.orderItems]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.createFetch(BaseSqmToSqlAstConverter.java:8538) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitFetches(BaseSqmToSqlAstConverter.java:8584) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:42) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:74) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1421) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.internal.AbstractSqmPathInterpretation.createDomainResult(AbstractSqmPathInterpretation.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSelection$18(BaseSqmToSqlAstConverter.java:2305) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/java.util.Collections$SingletonList.forEach(Collections.java:5186) ~[na:na]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelection(BaseSqmToSqlAstConverter.java:2300) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectClause(BaseSqmToSqlAstConverter.java:2218) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:2089) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:124) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:245) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1943) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1629) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:454) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:238) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:800) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:482) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:388) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	... 160 common frames omitted

2025-04-15T00:44:31.647+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /muj-ucet/objednavky
2025-04-15T00:44:31.647+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:44:31.647+02:00  INFO 30704 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:44:31.653+02:00 DEBUG 30704 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Finding all orders for customer ID: 2
2025-04-15T00:45:32.520+02:00  INFO 30704 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-15T00:45:32.534+02:00  INFO 30704 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-15T00:45:32.549+02:00  INFO 30704 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-15T00:45:32.557+02:00  INFO 30704 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:45:33.916+02:00  INFO 30704 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-15T00:45:33.925+02:00  INFO 30704 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-15T00:45:58.972+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 28844 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T00:45:58.981+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T00:45:58.985+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T00:46:00.283+02:00  INFO 28844 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T00:46:00.285+02:00  INFO 28844 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T00:46:06.566+02:00  INFO 28844 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T00:46:06.927+02:00  INFO 28844 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 313 ms. Found 14 JPA repository interfaces.
2025-04-15T00:46:10.334+02:00  INFO 28844 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T00:46:10.383+02:00  INFO 28844 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T00:46:10.384+02:00  INFO 28844 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T00:46:10.571+02:00  INFO 28844 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T00:46:10.573+02:00  INFO 28844 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10284 ms
2025-04-15T00:46:11.949+02:00  INFO 28844 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T00:46:12.133+02:00  INFO 28844 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T00:46:12.256+02:00  INFO 28844 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T00:46:13.430+02:00  INFO 28844 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T00:46:13.508+02:00  INFO 28844 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T00:46:13.723+02:00  INFO 28844 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2f779e97
2025-04-15T00:46:13.727+02:00  INFO 28844 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T00:46:13.828+02:00  INFO 28844 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T00:46:17.511+02:00  INFO 28844 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T00:46:20.979+02:00  INFO 28844 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:46:22.605+02:00  INFO 28844 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T00:46:25.239+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-15T00:46:25.741+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-15T00:46:25.742+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-15T00:46:25.796+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-15T00:46:26.185+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : No existing numeric-like order codes found in database.
2025-04-15T00:46:26.185+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 205
2025-04-15T00:46:26.934+02:00  WARN 28844 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-15T00:46:27.841+02:00  INFO 28844 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-15T00:46:28.109+02:00  INFO 28844 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-15T00:46:29.402+02:00  INFO 28844 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-15T00:46:31.322+02:00  INFO 28844 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-15T00:46:31.440+02:00  INFO 28844 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-15T00:46:31.464+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 36.901 seconds (process running for 39.597)
2025-04-15T00:46:31.489+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing test data...
2025-04-15T00:46:31.572+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Tax Rates...
2025-04-15T00:46:31.646+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Order States...
2025-04-15T00:46:31.680+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Email Template Configs...
2025-04-15T00:46:31.750+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-15T00:46:31.750+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-15T00:46:31.755+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-04-15T00:46:31.880+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik
2025-04-15T00:46:31.888+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik Plus
2025-04-15T00:46:31.895+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Simple
2025-04-15T00:46:31.902+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Box
2025-04-15T00:46:31.912+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Ořech
2025-04-15T00:46:31.919+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Palisandr
2025-04-15T00:46:31.925+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Bezbarvý lak
2025-04-15T00:46:31.933+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Šedá lazura
2025-04-15T00:46:31.940+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Antracit
2025-04-15T00:46:31.947+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak
2025-04-15T00:46:31.955+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak Premium
2025-04-15T00:46:31.958+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T00:46:31.959+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:46:31.959+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:46:31.961+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T00:46:31.967+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Antracit
2025-04-15T00:46:31.968+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T00:46:31.977+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Červená
2025-04-15T00:46:31.984+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Zelená
2025-04-15T00:46:31.993+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T00:46:31.995+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná
2025-04-15T00:46:31.998+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T00:46:32.001+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná metalická
2025-04-15T00:46:32.007+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T00:46:32.011+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T00:46:32.011+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Polička navíc
2025-04-15T00:46:32.018+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T00:46:32.022+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Držák na nářadí
2025-04-15T00:46:32.024+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T00:46:32.028+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Starý doplněk
2025-04-15T00:46:32.033+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T00:46:32.052+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Klasik
2025-04-15T00:46:32.058+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Found 0 orders matching criteria using specifications.
2025-04-15T00:46:32.060+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T00:46:32.142+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Modern
2025-04-15T00:46:32.151+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník na míru
2025-04-15T00:46:32.155+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating new configurator for product ID: 3
2025-04-15T00:46:32.156+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Updating existing configurator for product ID: 3
2025-04-15T00:46:32.586+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin user: admin@example.com
2025-04-15T00:46:32.595+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating test orders...
2025-04-15T00:46:32.596+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T00:46:32.597+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T00:46:32.597+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:46:32.629+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:46:32.629+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:46:32.629+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:46:32.630+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:46:32.630+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:46:32.630+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:46:32.630+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-15T00:46:32.630+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1
2025-04-15T00:46:32.637+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:46:32.638+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-15T00:46:32.638+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Klasik | Lazura: Ořech | Střecha: Antracit
2025-04-15T00:46:32.638+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 5990.00
2025-04-15T00:46:32.651+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 5990.00
2025-04-15T00:46:32.651+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T00:46:32.651+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 5990.00
2025-04-15T00:46:32.651+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1257.90
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 7247.90
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=5990.00, TotalTaxAmount=1257.90, TotalPriceWithTax=7247.90
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=5990.00, TaxAmount=1257.90
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 5990.00, Running Item Tax: 1257.90
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 5990.00, Final Item Tax: 1257.90
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T00:46:32.652+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T00:46:32.653+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:46:32.653+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T00:46:32.653+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T00:46:32.653+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T00:46:32.654+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T00:46:32.654+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 206
2025-04-15T00:46:32.654+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 206
2025-04-15T00:46:32.654+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:46:32.667+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 206 created successfully. Total: 7852 CZK
2025-04-15T00:46:32.667+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 206...
2025-04-15T00:46:32.669+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 206 (Total: 7852 CZK)
2025-04-15T00:46:32.670+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in EUR
2025-04-15T00:46:32.670+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: EUR
2025-04-15T00:46:32.671+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: EUR
2025-04-15T00:46:32.676+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: EUR
2025-04-15T00:46:32.677+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:46:32.677+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:46:32.677+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:46:32.677+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:46:32.677+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: EUR
2025-04-15T00:46:32.678+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T00:46:32.678+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T00:46:32.678+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:46:32.678+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T00:46:32.679+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 350x120x210 cm|Příčka: Ano
2025-04-15T00:46:32.690+02:00  INFO 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: EUR
2025-04-15T00:46:32.691+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (EUR): 1623.60
2025-04-15T00:46:32.691+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (EUR): 0.00
2025-04-15T00:46:32.691+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (EUR): 62.40
2025-04-15T00:46:32.691+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (EUR, fixed): 0.00
2025-04-15T00:46:32.691+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (EUR, fixed): 0.00
2025-04-15T00:46:32.691+02:00  INFO 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: EUR. Vypočtená cena: 1686.00
2025-04-15T00:46:32.691+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 1686.00
2025-04-15T00:46:32.696+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 1686.00
2025-04-15T00:46:32.696+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: EUR
2025-04-15T00:46:32.697+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1, 2]
2025-04-15T00:46:32.685+02:00 ERROR 28844 --- [Eshop] [task-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-1] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:46:32.697+02:00 ERROR 28844 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 206: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:46:32.708+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1, 2]
2025-04-15T00:46:32.709+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T00:46:32.709+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T00:46:32.709+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 15.00
2025-04-15T00:46:32.709+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 30.00
2025-04-15T00:46:32.709+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=2, Name=Držák na nářadí
2025-04-15T00:46:32.709+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 20.00
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 20.00
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (EUR): 50.00
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 50.00
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 1736.00
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 364.56
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 2100.56
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=1736.00, TotalTaxAmount=364.56, TotalPriceWithTax=2100.56
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=1736.00, TaxAmount=364.56
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 1736.00, Running Item Tax: 364.56
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 1736.00, Final Item Tax: 364.56
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: EUR
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 25.00, Tax: 5.25, Estimated Rate: 0.2100
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: EUR
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T00:46:32.710+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: EUR
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T00:46:32.711+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T00:46:32.711+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T00:46:32.711+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T00:46:32.711+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 1000.00 EUR calculated for custom order (new).
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 1000.00
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 207
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 207
2025-04-15T00:46:32.711+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:46:32.723+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 207 created successfully. Total: 2130 EUR
2025-04-15T00:46:32.723+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 207...
2025-04-15T00:46:32.724+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 207. Currency: EUR
2025-04-15T00:46:32.725+02:00 ERROR 28844 --- [Eshop] [task-2] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-2] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:46:32.727+02:00 ERROR 28844 --- [Eshop] [task-2] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 207: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:46:32.736+02:00 ERROR 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Non-critical error generating proforma invoice for order 207: Order not found: 2. Order creation continues.

jakarta.persistence.EntityNotFoundException: Order not found: 2
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateProformaInvoice(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$0.generateProformaInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.service.OrderService.createOrder(OrderService.java:362) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createTestOrder(DataInitializer.java:287) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createSampleOrders(DataInitializer.java:191) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.run(DataInitializer.java:145) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.init.DataInitializer$$SpringCGLIB$$0.run(<generated>) ~[classes/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$4(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]

2025-04-15T00:46:32.738+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 207 (Total: 2130 EUR)
2025-04-15T00:46:32.738+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer admin@example.com with 1 items in CZK
2025-04-15T00:46:32.739+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 2 with explicit currency: CZK
2025-04-15T00:46:32.739+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:46:32.743+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:46:32.744+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 2 to order.
2025-04-15T00:46:32.744+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Admin Eshopu
2025-04-15T00:46:32.744+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:46:32.744+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:46:32.744+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:46:32.744+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-15T00:46:32.744+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2
2025-04-15T00:46:32.745+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 500.00
2025-04-15T00:46:32.745+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-15T00:46:32.745+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Modern Simple | Lazura: Teak Premium | Střecha: Stříbrná metalická
2025-04-15T00:46:32.745+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 7490.00
2025-04-15T00:46:32.749+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 7490.00
2025-04-15T00:46:32.749+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T00:46:32.749+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 7990.00
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1677.90
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 9667.90
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=15980.00, TotalTaxAmount=3355.80, TotalPriceWithTax=19335.80
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=15980.00, TaxAmount=3355.80
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 15980.00, Running Item Tax: 3355.80
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 15980.00, Final Item Tax: 3355.80
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:46:32.750+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T00:46:32.751+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T00:46:32.751+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:46:32.751+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T00:46:32.751+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T00:46:32.751+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T00:46:32.751+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T00:46:32.751+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 208
2025-04-15T00:46:32.751+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 208
2025-04-15T00:46:32.751+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:46:32.757+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 208 created successfully. Total: 19940 CZK
2025-04-15T00:46:32.757+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 208...
2025-04-15T00:46:32.758+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 208 (Total: 19940 CZK)
2025-04-15T00:46:32.758+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 208 to PAID and state PROCESSING (SF API calls might be triggered if active)
2025-04-15T00:46:32.759+02:00 ERROR 28844 --- [Eshop] [task-3] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-3] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:46:32.762+02:00 ERROR 28844 --- [Eshop] [task-3] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 208: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:46:32.767+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 208 to PAID and state PROCESSING (bypassed SF calls)
2025-04-15T00:46:32.767+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T00:46:32.768+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T00:46:32.768+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T00:46:32.776+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T00:46:32.776+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T00:46:32.776+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T00:46:32.777+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T00:46:32.777+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T00:46:32.777+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T00:46:32.777+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T00:46:32.777+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T00:46:32.778+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T00:46:32.778+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T00:46:32.778+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 280x90x195 cm|Okap: Ano
2025-04-15T00:46:32.779+02:00  INFO 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: CZK
2025-04-15T00:46:32.779+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (CZK): 32700.00
2025-04-15T00:46:32.779+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (CZK): 0.00
2025-04-15T00:46:32.779+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (CZK): 0.00
2025-04-15T00:46:32.779+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (CZK, fixed): 1000.00
2025-04-15T00:46:32.779+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (CZK, fixed): 0.00
2025-04-15T00:46:32.779+02:00  INFO 28844 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: CZK. Vypočtená cena: 33700.00
2025-04-15T00:46:32.779+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 33700.00
2025-04-15T00:46:32.784+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 33700.00
2025-04-15T00:46:32.784+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: CZK
2025-04-15T00:46:32.784+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1]
2025-04-15T00:46:32.791+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1]
2025-04-15T00:46:32.791+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T00:46:32.791+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (CZK): 350.00
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (CZK): 350.00
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (CZK): 350.00
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 350.00
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 34050.00
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 7150.50
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 41200.50
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=34050.00, TotalTaxAmount=7150.50, TotalPriceWithTax=41200.50
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=34050.00, TaxAmount=7150.50
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 34050.00, Running Item Tax: 7150.50
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 34050.00, Final Item Tax: 7150.50
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T00:46:32.793+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T00:46:32.793+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T00:46:32.793+02:00  INFO 28844 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T00:46:32.793+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 20000.00 CZK calculated for custom order (new).
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 20000.00
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 209
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 209
2025-04-15T00:46:32.793+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T00:46:32.800+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 209 created successfully. Total: 41805 CZK
2025-04-15T00:46:32.800+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 209...
2025-04-15T00:46:32.801+02:00 DEBUG 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 209. Currency: CZK
2025-04-15T00:46:32.802+02:00 ERROR 28844 --- [Eshop] [task-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-4] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:46:32.806+02:00 ERROR 28844 --- [Eshop] [task-4] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 209: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T00:46:32.804+02:00 ERROR 28844 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Non-critical error generating proforma invoice for order 209: Order not found: 4. Order creation continues.

jakarta.persistence.EntityNotFoundException: Order not found: 4
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:351) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$1.generateProformaInvoice(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:723) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.SuperFakturaInvoiceService$$SpringCGLIB$$0.generateProformaInvoice(<generated>) ~[classes/:na]
	at org.example.eshop.service.OrderService.createOrder(OrderService.java:362) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createTestOrder(DataInitializer.java:287) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.createSampleOrders(DataInitializer.java:236) ~[classes/:na]
	at org.example.eshop.init.DataInitializer.run(DataInitializer.java:145) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.example.eshop.init.DataInitializer$$SpringCGLIB$$0.run(<generated>) ~[classes/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$4(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]

2025-04-15T00:46:32.810+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 209 (Total: 41805 CZK)
2025-04-15T00:46:32.810+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 209 to DEPOSIT_PAID and state IN_PRODUCTION (SF API calls might be triggered if active)
2025-04-15T00:46:32.811+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 209 to DEPOSIT_PAID and state IN_PRODUCTION (bypassed SF calls)
2025-04-15T00:46:32.811+02:00  INFO 28844 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Test data initialization finished successfully.
2025-04-15T00:46:52.368+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T00:46:52.368+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:46:52.370+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:46:52.370+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T00:46:52.371+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T00:46:52.379+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T00:46:52.385+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T00:46:52.392+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T00:46:52.402+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T00:46:52.410+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T00:46:52.416+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T00:46:52.423+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T00:46:52.459+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:46:52.461+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T00:46:54.881+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/4
2025-04-15T00:46:54.881+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:46:54.881+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:46:54.897+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 4
2025-04-15T00:46:54.898+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-3] org.example.eshop.service.OrderService   : Finding order by ID with full details: 4
2025-04-15T00:46:54.954+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:46:54.961+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 4
2025-04-15T00:47:01.574+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T00:47:01.574+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:47:01.575+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:47:01.575+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T00:47:01.576+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T00:47:01.581+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T00:47:01.586+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T00:47:01.590+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T00:47:01.593+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T00:47:01.597+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T00:47:01.601+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T00:47:01.604+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T00:47:01.613+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:47:01.615+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T00:47:22.982+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/1
2025-04-15T00:47:22.983+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:47:22.983+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:47:22.985+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 1
2025-04-15T00:47:22.986+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Finding order by ID with full details: 1
2025-04-15T00:47:22.998+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:47:23.002+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 1
2025-04-15T00:47:26.708+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/tax-rates
2025-04-15T00:47:26.708+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:47:26.708+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:47:26.709+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.c.AdminTaxRateController         : Requesting tax rate list view.
2025-04-15T00:47:26.709+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.TaxRateService   : Fetching all tax rates
2025-04-15T00:47:30.246+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/tax-rates/1/edit
2025-04-15T00:47:30.248+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:47:30.248+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:47:30.250+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.c.AdminTaxRateController         : Requesting edit form for tax rate ID: 1
2025-04-15T00:47:30.251+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.TaxRateService   : Fetching tax rate by ID: 1
2025-04-15T00:47:33.355+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-15T00:47:33.355+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T00:47:33.355+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T00:47:33.363+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:47:33.366+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T00:47:33.371+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T00:47:33.372+02:00 DEBUG 28844 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T00:47:33.375+02:00  INFO 28844 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=4, TotalElements=4
2025-04-15T00:50:59.861+02:00  INFO 28844 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-15T00:50:59.918+02:00  INFO 28844 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-15T00:51:00.352+02:00  INFO 28844 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-15T00:51:00.457+02:00  INFO 28844 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T00:51:02.572+02:00  INFO 28844 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-15T00:51:02.668+02:00  INFO 28844 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-15T01:00:20.948+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 18360 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:00:20.952+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:00:20.954+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:00:21.539+02:00  INFO 18360 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T01:00:21.540+02:00  INFO 18360 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T01:00:23.477+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:00:23.599+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 14 JPA repository interfaces.
2025-04-15T01:00:24.893+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:00:24.911+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:00:24.912+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:00:24.990+02:00  INFO 18360 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T01:00:24.990+02:00  INFO 18360 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3449 ms
2025-04-15T01:00:25.593+02:00  INFO 18360 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:00:25.683+02:00  INFO 18360 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T01:00:25.740+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:00:26.254+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:00:26.307+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T01:00:26.472+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@60776522
2025-04-15T01:00:26.476+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T01:00:26.577+02:00  INFO 18360 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:00:28.924+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:00:31.350+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:00:31.824+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T01:00:33.142+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-15T01:00:33.332+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-15T01:00:33.332+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-15T01:00:33.353+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-15T01:00:33.515+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : No existing numeric-like order codes found in database.
2025-04-15T01:00:33.515+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 205
2025-04-15T01:00:33.965+02:00  WARN 18360 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-15T01:00:34.480+02:00  INFO 18360 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-15T01:00:34.577+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-15T01:00:35.280+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-15T01:00:36.703+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-15T01:00:36.833+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-15T01:00:36.857+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 17.244 seconds (process running for 19.452)
2025-04-15T01:00:36.876+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing test data...
2025-04-15T01:00:36.949+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Tax Rates...
2025-04-15T01:00:37.019+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Order States...
2025-04-15T01:00:37.051+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Email Template Configs...
2025-04-15T01:00:37.209+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik
2025-04-15T01:00:37.216+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik Plus
2025-04-15T01:00:37.222+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Simple
2025-04-15T01:00:37.227+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Box
2025-04-15T01:00:37.238+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Ořech
2025-04-15T01:00:37.244+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Palisandr
2025-04-15T01:00:37.248+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Bezbarvý lak
2025-04-15T01:00:37.254+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Šedá lazura
2025-04-15T01:00:37.259+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Antracit
2025-04-15T01:00:37.264+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak
2025-04-15T01:00:37.269+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak Premium
2025-04-15T01:00:37.276+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Antracit
2025-04-15T01:00:37.282+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Červená
2025-04-15T01:00:37.288+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Zelená
2025-04-15T01:00:37.294+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná
2025-04-15T01:00:37.302+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná metalická
2025-04-15T01:00:37.311+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Polička navíc
2025-04-15T01:00:37.319+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Držák na nářadí
2025-04-15T01:00:37.327+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Starý doplněk
2025-04-15T01:00:37.348+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Klasik
2025-04-15T01:00:37.400+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Modern
2025-04-15T01:00:37.408+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník na míru
2025-04-15T01:00:37.411+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating new configurator for product ID: 3
2025-04-15T01:00:37.411+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Updating existing configurator for product ID: 3
2025-04-15T01:00:37.723+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin user: admin@example.com
2025-04-15T01:00:37.730+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating test orders...
2025-04-15T01:00:37.730+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T01:00:37.731+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T01:00:37.731+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:00:37.744+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:00:37.744+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:00:37.744+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:00:37.744+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:00:37.744+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:00:37.744+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:00:37.745+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-15T01:00:37.745+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1
2025-04-15T01:00:37.750+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:00:37.750+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-15T01:00:37.751+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Klasik | Lazura: Ořech | Střecha: Antracit
2025-04-15T01:00:37.751+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 5990.00
2025-04-15T01:00:38.105+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 5990.00
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 5990.00
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1257.90
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 7247.90
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=5990.00, TotalTaxAmount=1257.90, TotalPriceWithTax=7247.90
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=5990.00, TaxAmount=1257.90
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 5990.00, Running Item Tax: 1257.90
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 5990.00, Final Item Tax: 1257.90
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T01:00:38.106+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:00:38.107+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T01:00:38.107+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T01:00:38.107+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T01:00:38.107+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T01:00:38.107+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 206
2025-04-15T01:00:38.107+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 206
2025-04-15T01:00:38.107+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:00:38.118+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 206 created successfully. Total: 7852 CZK
2025-04-15T01:00:38.119+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 206...
2025-04-15T01:00:38.121+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 206 (Total: 7852 CZK)
2025-04-15T01:00:38.121+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in EUR
2025-04-15T01:00:38.121+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: EUR
2025-04-15T01:00:38.121+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: EUR
2025-04-15T01:00:38.125+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: EUR
2025-04-15T01:00:38.125+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:00:38.125+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:00:38.126+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:00:38.126+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:00:38.126+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: EUR
2025-04-15T01:00:38.126+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T01:00:38.126+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T01:00:38.126+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:00:38.126+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T01:00:38.126+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 350x120x210 cm|Příčka: Ano
2025-04-15T01:00:38.132+02:00  INFO 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: EUR
2025-04-15T01:00:38.132+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (EUR): 1623.60
2025-04-15T01:00:38.132+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (EUR): 0.00
2025-04-15T01:00:38.132+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (EUR): 62.40
2025-04-15T01:00:38.132+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (EUR, fixed): 0.00
2025-04-15T01:00:38.132+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (EUR, fixed): 0.00
2025-04-15T01:00:38.132+02:00  INFO 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: EUR. Vypočtená cena: 1686.00
2025-04-15T01:00:38.133+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 1686.00
2025-04-15T01:00:38.137+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 1686.00
2025-04-15T01:00:38.138+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: EUR
2025-04-15T01:00:38.140+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1, 2]
2025-04-15T01:00:38.151+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1, 2]
2025-04-15T01:00:38.152+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T01:00:38.152+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T01:00:38.152+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 15.00
2025-04-15T01:00:38.152+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 30.00
2025-04-15T01:00:38.152+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=2, Name=Držák na nářadí
2025-04-15T01:00:38.152+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 20.00
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 20.00
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (EUR): 50.00
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 50.00
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 1736.00
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 364.56
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 2100.56
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=1736.00, TotalTaxAmount=364.56, TotalPriceWithTax=2100.56
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=1736.00, TaxAmount=364.56
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 1736.00, Running Item Tax: 364.56
2025-04-15T01:00:38.153+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 1736.00, Final Item Tax: 364.56
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: EUR
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 25.00, Tax: 5.25, Estimated Rate: 0.2100
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: EUR
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: EUR
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T01:00:38.154+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T01:00:38.154+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T01:00:38.154+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T01:00:38.154+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 1000.00 EUR calculated for custom order (new).
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 1000.00
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 207
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 207
2025-04-15T01:00:38.154+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:00:38.163+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 207 created successfully. Total: 2130 EUR
2025-04-15T01:00:38.164+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 207...
2025-04-15T01:00:38.164+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 207. Currency: EUR
2025-04-15T01:00:38.166+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 207 (Total: 2130 EUR)
2025-04-15T01:00:38.166+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer admin@example.com with 1 items in CZK
2025-04-15T01:00:38.166+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 2 with explicit currency: CZK
2025-04-15T01:00:38.166+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:00:38.171+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:00:38.171+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 2 to order.
2025-04-15T01:00:38.171+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Admin Eshopu
2025-04-15T01:00:38.171+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:00:38.171+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:00:38.171+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:00:38.171+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-15T01:00:38.171+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2
2025-04-15T01:00:38.172+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 500.00
2025-04-15T01:00:38.172+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-15T01:00:38.172+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Modern Simple | Lazura: Teak Premium | Střecha: Stříbrná metalická
2025-04-15T01:00:38.173+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 7490.00
2025-04-15T01:00:38.179+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 7490.00
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 7990.00
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1677.90
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 9667.90
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=15980.00, TotalTaxAmount=3355.80, TotalPriceWithTax=19335.80
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=15980.00, TaxAmount=3355.80
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 15980.00, Running Item Tax: 3355.80
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 15980.00, Final Item Tax: 3355.80
2025-04-15T01:00:38.180+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T01:00:38.181+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 208
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 208
2025-04-15T01:00:38.181+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:00:38.184+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 208 created successfully. Total: 19940 CZK
2025-04-15T01:00:38.185+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 208...
2025-04-15T01:00:38.185+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 208 (Total: 19940 CZK)
2025-04-15T01:00:38.185+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 208 to PAID and state PROCESSING (SF API calls might be triggered if active)
2025-04-15T01:00:38.180+02:00 ERROR 18360 --- [Eshop] [task-3] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(org.example.eshop.model.Order)

jakarta.persistence.EntityNotFoundException: Order not found: 2
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:79) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.190+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 208 to PAID and state PROCESSING (bypassed SF calls)
2025-04-15T01:00:38.190+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T01:00:38.190+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T01:00:38.190+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:00:38.197+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:00:38.197+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:00:38.197+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:00:38.197+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:00:38.197+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:00:38.197+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:00:38.198+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T01:00:38.198+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T01:00:38.198+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:00:38.199+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T01:00:38.199+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 280x90x195 cm|Okap: Ano
2025-04-15T01:00:38.199+02:00  INFO 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: CZK
2025-04-15T01:00:38.199+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (CZK): 32700.00
2025-04-15T01:00:38.199+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (CZK): 0.00
2025-04-15T01:00:38.199+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (CZK): 0.00
2025-04-15T01:00:38.199+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (CZK, fixed): 1000.00
2025-04-15T01:00:38.199+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (CZK, fixed): 0.00
2025-04-15T01:00:38.199+02:00  INFO 18360 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: CZK. Vypočtená cena: 33700.00
2025-04-15T01:00:38.199+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 33700.00
2025-04-15T01:00:38.204+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 33700.00
2025-04-15T01:00:38.204+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: CZK
2025-04-15T01:00:38.204+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1]
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1]
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (CZK): 350.00
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (CZK): 350.00
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (CZK): 350.00
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 350.00
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 34050.00
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 7150.50
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 41200.50
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=34050.00, TotalTaxAmount=7150.50, TotalPriceWithTax=41200.50
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=34050.00, TaxAmount=7150.50
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 34050.00, Running Item Tax: 7150.50
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 34050.00, Final Item Tax: 7150.50
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:00:38.207+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T01:00:38.208+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T01:00:38.208+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T01:00:38.208+02:00  INFO 18360 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T01:00:38.208+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 20000.00 CZK calculated for custom order (new).
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 20000.00
2025-04-15T01:00:38.208+02:00 DEBUG 18360 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 209
2025-04-15T01:00:38.209+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 209
2025-04-15T01:00:38.209+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:00:38.213+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 209 created successfully. Total: 41805 CZK
2025-04-15T01:00:38.213+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 209...
2025-04-15T01:00:38.214+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 209. Currency: CZK
2025-04-15T01:00:38.215+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 209 (Total: 41805 CZK)
2025-04-15T01:00:38.215+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 209 to DEPOSIT_PAID and state IN_PRODUCTION (SF API calls might be triggered if active)
2025-04-15T01:00:38.215+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 209 to DEPOSIT_PAID and state IN_PRODUCTION (bypassed SF calls)
2025-04-15T01:00:38.216+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Test data initialization finished successfully.
2025-04-15T01:00:38.217+02:00 ERROR 18360 --- [Eshop] [task-6] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(org.example.eshop.model.Order)

jakarta.persistence.EntityNotFoundException: Order not found: 4
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:79) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.476+02:00 ERROR 18360 --- [Eshop] [task-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-1] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.476+02:00 ERROR 18360 --- [Eshop] [task-2] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-2] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.476+02:00 ERROR 18360 --- [Eshop] [task-5] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-5] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.476+02:00 ERROR 18360 --- [Eshop] [task-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-4] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.480+02:00 ERROR 18360 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 206: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.483+02:00 ERROR 18360 --- [Eshop] [task-2] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 207: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.484+02:00 ERROR 18360 --- [Eshop] [task-5] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 209: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.485+02:00 ERROR 18360 --- [Eshop] [task-4] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 208: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:00:38.621+02:00  INFO 18360 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-15T01:00:38.622+02:00  INFO 18360 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-15T01:00:38.627+02:00  INFO 18360 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-04-15T01:00:45.581+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders
2025-04-15T01:00:45.582+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:00:45.582+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:00:45.601+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : Requesting admin order list view. Filters: stateId=null, paymentStatus=, customerEmail=, dateFrom=null, dateTo=null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T01:00:45.605+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 20, sort: orderDate: DESC]
2025-04-15T01:00:45.638+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T01:00:45.641+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-1] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T01:00:45.650+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.controller.AdminOrderController  : [AdminOrderController.listOrders] Service returned page: Number=0, Elements=4, TotalElements=4
2025-04-15T01:00:48.494+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T01:00:48.495+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:00:48.495+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:00:48.496+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-4] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T01:00:48.501+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T01:00:48.512+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T01:00:48.517+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T01:00:48.523+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T01:00:48.527+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T01:00:48.532+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T01:00:48.535+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T01:00:48.539+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T01:00:48.548+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-4] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T01:00:48.550+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T01:00:49.492+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/products
2025-04-15T01:00:49.493+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:00:49.493+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:00:49.496+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.c.AdminProductController         : Requesting admin product list view. Filters: name=null, active=null. Pageable: Page request [number: 0, size 15, sort: id: DESC]
2025-04-15T01:00:49.498+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllProducts(Pageable: Page request [number: 0, size 15, sort: id: DESC]) <<<
2025-04-15T01:00:49.507+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getAllProducts(Pageable): Načtena stránka s 3 produkty.
2025-04-15T01:00:49.508+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllProducts(Pageable) <<<
2025-04-15T01:00:51.385+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/designs
2025-04-15T01:00:51.385+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:00:51.387+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:00:51.389+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.c.AdminDesignController          : Requesting design list view.
2025-04-15T01:00:51.393+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.admin.service.DesignService    : Fetching all designs sorted by name
2025-04-15T01:00:53.632+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/addons
2025-04-15T01:00:53.632+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:00:53.632+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:00:53.633+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.c.AdminAddonsController          : Requesting addon list view.
2025-04-15T01:00:53.635+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.admin.service.AddonsService    : Fetching all addons
2025-04-15T01:00:56.973+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/glazes
2025-04-15T01:00:56.973+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:00:56.973+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:00:56.974+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminGlazeController  : Requesting glaze list view.
2025-04-15T01:00:56.976+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.admin.service.GlazeService     : Fetching all glazes sorted by name
2025-04-15T01:00:57.164+02:00  WARN 18360 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/vzorky/teak_prem.jpg.]
2025-04-15T01:00:58.225+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/glazes/5/edit
2025-04-15T01:00:58.225+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:00:58.225+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:00:58.230+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.controller.AdminGlazeController  : Requesting edit form for glaze ID: 5
2025-04-15T01:00:58.234+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.admin.service.GlazeService     : Fetching glaze by ID: 5
2025-04-15T01:01:00.185+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T01:01:00.185+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:01:00.186+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:01:00.186+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-10] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T01:01:00.187+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T01:01:00.195+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T01:01:00.201+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T01:01:00.207+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T01:01:00.212+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T01:01:00.217+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T01:01:00.222+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T01:01:00.229+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T01:01:00.238+02:00  INFO 18360 --- [Eshop] [http-nio-8080-exec-10] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T01:01:00.239+02:00 DEBUG 18360 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T01:05:49.415+02:00  INFO 18360 --- [Eshop] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-04-15T01:05:49.427+02:00  INFO 18360 --- [Eshop] [Thread-6] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-15T01:05:49.461+02:00  INFO 18360 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-15T01:05:49.480+02:00  INFO 18360 --- [Eshop] [Thread-6] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-15T01:05:49.493+02:00  INFO 18360 --- [Eshop] [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:05:50.860+02:00  INFO 18360 --- [Eshop] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-15T01:05:50.874+02:00  INFO 18360 --- [Eshop] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-15T01:05:51.300+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 18360 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:05:51.301+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:05:51.301+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:05:53.563+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:05:53.702+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 135 ms. Found 13 JPA repository interfaces.
2025-04-15T01:05:54.768+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:05:54.781+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:05:54.781+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:05:55.048+02:00  INFO 18360 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T01:05:55.048+02:00  INFO 18360 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3725 ms
2025-04-15T01:05:55.883+02:00  INFO 18360 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:05:55.949+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:05:56.083+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:05:56.089+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-04-15T01:05:56.109+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.mariadb.jdbc.Connection@78ae5ea7
2025-04-15T01:05:56.110+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-04-15T01:05:56.116+02:00  INFO 18360 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:05:59.290+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:06:04.160+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:06:05.503+02:00  WARN 18360 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\service\OrderService.class]: Post-processing of merged bean definition failed
2025-04-15T01:06:05.505+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:06:07.149+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-04-15T01:06:07.174+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-04-15T01:06:07.178+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-15T01:06:07.258+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15T01:06:07.407+02:00 ERROR 18360 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\service\OrderService.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orderService' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\service\OrderService.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:578) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 24 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.example.eshop.service.OrderService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@58819c34]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:756) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:689) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:437) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:418) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findInjectionMetadata(PersistenceAnnotationBeanPostProcessor.java:377) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:353) ~[spring-orm-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1109) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-6.2.5.jar:6.2.5]
	... 33 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/example/eshop/repository/ProductRepository
	at java.base/java.lang.Class.getDeclaredFields0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3473) ~[na:na]
	at java.base/java.lang.Class.getDeclaredFields(Class.java:2542) ~[na:na]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:751) ~[spring-core-6.2.5.jar:6.2.5]
	... 40 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.example.eshop.repository.ProductRepository
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 44 common frames omitted

2025-04-15T01:06:14.029+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 18360 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:06:14.030+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:06:14.030+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:06:15.678+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:06:15.838+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 155 ms. Found 14 JPA repository interfaces.
2025-04-15T01:06:16.659+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:06:16.666+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:06:16.666+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:06:16.860+02:00  INFO 18360 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-04-15T01:06:16.861+02:00  INFO 18360 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2826 ms
2025-04-15T01:06:17.957+02:00  INFO 18360 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:06:17.971+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:06:18.018+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:06:18.029+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-04-15T01:06:18.039+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.mariadb.jdbc.Connection@3827b80e
2025-04-15T01:06:18.048+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-04-15T01:06:18.051+02:00  INFO 18360 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:06:19.663+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:06:23.925+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:06:25.081+02:00  WARN 18360 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
2025-04-15T01:06:25.083+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:06:26.482+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-04-15T01:06:26.489+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-04-15T01:06:26.490+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-15T01:06:26.508+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15T01:06:26.515+02:00 ERROR 18360 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.5.jar:6.2.5]
	... 38 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.5.jar:6.2.5]
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116) ~[spring-data-commons-3.4.4.jar:3.4.4]
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:100) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	... 63 common frames omitted

2025-04-15T01:06:28.459+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 18360 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:06:28.460+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:06:28.461+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:06:30.172+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:06:30.314+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 138 ms. Found 14 JPA repository interfaces.
2025-04-15T01:06:31.204+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:06:31.206+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:06:31.207+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:06:31.419+02:00  INFO 18360 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-04-15T01:06:31.420+02:00  INFO 18360 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2947 ms
2025-04-15T01:06:31.990+02:00  INFO 18360 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:06:32.002+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:06:32.035+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:06:32.038+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-04-15T01:06:32.049+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection org.mariadb.jdbc.Connection@36b8749c
2025-04-15T01:06:32.049+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-04-15T01:06:32.051+02:00  INFO 18360 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:06:33.442+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:06:37.525+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:06:38.540+02:00  WARN 18360 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'adminCustomerController': Resolution of declared constructors on bean Class [org.example.eshop.admin.controller.AdminCustomerController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@6c64566d] failed
2025-04-15T01:06:38.540+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:06:40.115+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-04-15T01:06:40.124+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-04-15T01:06:40.126+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-15T01:06:40.151+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15T01:06:40.160+02:00 ERROR 18360 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'adminCustomerController': Resolution of declared constructors on bean Class [org.example.eshop.admin.controller.AdminCustomerController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@6c64566d] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1320) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1215) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: java.lang.NoClassDefFoundError: org/example/eshop/service/OrderService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.5.jar:6.2.5]
	... 23 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.example.eshop.service.OrderService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 27 common frames omitted

2025-04-15T01:06:42.078+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 18360 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:06:42.079+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:06:42.079+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:06:43.578+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:06:43.717+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 135 ms. Found 14 JPA repository interfaces.
2025-04-15T01:06:44.471+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:06:44.473+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:06:44.474+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:06:44.620+02:00  INFO 18360 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat-3].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-04-15T01:06:44.621+02:00  INFO 18360 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2536 ms
2025-04-15T01:06:45.200+02:00  INFO 18360 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:06:45.217+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:06:45.277+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:06:45.281+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-04-15T01:06:45.290+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection org.mariadb.jdbc.Connection@24c6119f
2025-04-15T01:06:45.290+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-04-15T01:06:45.294+02:00  INFO 18360 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:06:47.020+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:06:50.954+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:06:51.504+02:00  WARN 18360 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
2025-04-15T01:06:51.504+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:06:52.843+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-04-15T01:06:52.846+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-04-15T01:06:52.847+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-15T01:06:52.856+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15T01:06:52.859+02:00 ERROR 18360 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.5.jar:6.2.5]
	... 38 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.5.jar:6.2.5]
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116) ~[spring-data-commons-3.4.4.jar:3.4.4]
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:100) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	... 63 common frames omitted

2025-04-15T01:06:59.886+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 18360 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:06:59.887+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:06:59.887+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:07:01.700+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:07:01.883+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 180 ms. Found 14 JPA repository interfaces.
2025-04-15T01:07:03.287+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:07:03.290+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:07:03.291+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:07:03.506+02:00  INFO 18360 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-04-15T01:07:03.507+02:00  INFO 18360 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3617 ms
2025-04-15T01:07:04.044+02:00  INFO 18360 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:07:04.055+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:07:04.098+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:07:04.101+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-04-15T01:07:04.112+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection org.mariadb.jdbc.Connection@b48473a
2025-04-15T01:07:04.112+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-04-15T01:07:04.115+02:00  INFO 18360 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:07:05.103+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:07:08.745+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:07:09.527+02:00  WARN 18360 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
2025-04-15T01:07:09.528+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:07:11.261+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-04-15T01:07:11.268+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-04-15T01:07:11.271+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-15T01:07:11.290+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15T01:07:11.298+02:00 ERROR 18360 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.5.jar:6.2.5]
	... 38 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.5.jar:6.2.5]
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116) ~[spring-data-commons-3.4.4.jar:3.4.4]
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:100) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	... 63 common frames omitted

2025-04-15T01:07:31.938+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 18360 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:07:31.939+02:00 DEBUG 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:07:31.939+02:00  INFO 18360 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:07:33.577+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:07:33.778+02:00  INFO 18360 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 198 ms. Found 14 JPA repository interfaces.
2025-04-15T01:07:34.395+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:07:34.397+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:07:34.397+02:00  INFO 18360 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:07:34.567+02:00  INFO 18360 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat-5].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-04-15T01:07:34.567+02:00  INFO 18360 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2623 ms
2025-04-15T01:07:35.021+02:00  INFO 18360 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:07:35.032+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:07:35.062+02:00  INFO 18360 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:07:35.064+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-04-15T01:07:35.072+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection org.mariadb.jdbc.Connection@678312d8
2025-04-15T01:07:35.073+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-04-15T01:07:35.075+02:00  INFO 18360 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:07:36.177+02:00  INFO 18360 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:07:40.245+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:07:40.996+02:00  WARN 18360 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\service\OrderService.class]: Post-processing of merged bean definition failed
2025-04-15T01:07:40.997+02:00  INFO 18360 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:07:42.658+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-04-15T01:07:42.674+02:00  INFO 18360 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-04-15T01:09:14.896+02:00  INFO 29900 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 29900 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:09:14.901+02:00 DEBUG 29900 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:09:14.903+02:00  INFO 29900 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:09:15.431+02:00  INFO 29900 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T01:09:15.432+02:00  INFO 29900 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T01:09:17.879+02:00  INFO 29900 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:09:18.066+02:00  INFO 29900 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 164 ms. Found 14 JPA repository interfaces.
2025-04-15T01:09:21.161+02:00  INFO 29900 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:09:21.221+02:00  INFO 29900 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:09:21.223+02:00  INFO 29900 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:09:21.462+02:00  INFO 29900 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T01:09:21.464+02:00  INFO 29900 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6030 ms
2025-04-15T01:09:22.674+02:00  INFO 29900 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:09:22.818+02:00  INFO 29900 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T01:09:22.928+02:00  INFO 29900 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:09:23.621+02:00  INFO 29900 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:09:23.682+02:00  INFO 29900 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T01:09:23.853+02:00  INFO 29900 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@9264dbd
2025-04-15T01:09:23.856+02:00  INFO 29900 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T01:09:23.968+02:00  INFO 29900 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:09:29.423+02:00  INFO 29900 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:09:32.625+02:00  INFO 29900 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:09:34.048+02:00  INFO 29900 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T01:09:34.504+02:00  WARN 29900 --- [Eshop] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
2025-04-15T01:09:34.506+02:00  INFO 29900 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:09:35.712+02:00  INFO 29900 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-15T01:09:35.730+02:00  INFO 29900 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-15T01:09:35.740+02:00  INFO 29900 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-15T01:09:35.795+02:00  INFO 29900 --- [Eshop] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-15T01:09:35.875+02:00 ERROR 29900 --- [Eshop] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminCustomerController' defined in file [C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes\org\example\eshop\admin\controller\AdminCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.example.eshop.EshopApplication.main(EshopApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.4.jar:3.4.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'productRepository': Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.5.jar:6.2.5]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in org.example.eshop.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.5.jar:6.2.5]
	... 38 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); Reason: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.5.jar:6.2.5]
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page org.example.eshop.repository.ProductRepository.findActiveProductsWithListingDetails(org.springframework.data.domain.Pageable); No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116) ~[spring-data-commons-3.4.4.jar:3.4.4]
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'findActiveProductsWithListingDetails' found for type 'Product'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:100) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	... 63 common frames omitted

2025-04-15T01:14:13.137+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 5612 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:14:13.147+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:14:13.150+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:14:14.319+02:00  INFO 5612 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T01:14:14.322+02:00  INFO 5612 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T01:14:21.140+02:00  INFO 5612 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:14:21.467+02:00  INFO 5612 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 309 ms. Found 14 JPA repository interfaces.
2025-04-15T01:14:23.776+02:00  INFO 5612 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:14:23.801+02:00  INFO 5612 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:14:23.801+02:00  INFO 5612 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:14:23.883+02:00  INFO 5612 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T01:14:23.883+02:00  INFO 5612 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9558 ms
2025-04-15T01:14:24.601+02:00  INFO 5612 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:14:24.695+02:00  INFO 5612 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T01:14:24.745+02:00  INFO 5612 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-15T01:14:25.321+02:00  INFO 5612 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:14:25.381+02:00  INFO 5612 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T01:14:25.553+02:00  INFO 5612 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@438f8f18
2025-04-15T01:14:25.557+02:00  INFO 5612 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T01:14:25.676+02:00  INFO 5612 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:14:28.690+02:00  INFO 5612 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:14:31.706+02:00  INFO 5612 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:14:33.389+02:00  INFO 5612 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T01:14:36.849+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-15T01:14:37.561+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-15T01:14:37.563+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-15T01:14:37.614+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-15T01:14:38.091+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : No existing numeric-like order codes found in database.
2025-04-15T01:14:38.093+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 205
2025-04-15T01:14:39.228+02:00  WARN 5612 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-15T01:14:40.801+02:00  INFO 5612 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-15T01:14:41.186+02:00  INFO 5612 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-15T01:14:43.358+02:00  INFO 5612 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-15T01:14:46.566+02:00  INFO 5612 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-15T01:14:46.814+02:00  INFO 5612 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-15T01:14:46.857+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 36.331 seconds (process running for 38.58)
2025-04-15T01:14:46.897+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing test data...
2025-04-15T01:14:47.051+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Tax Rates...
2025-04-15T01:14:47.201+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Order States...
2025-04-15T01:14:47.259+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Email Template Configs...
2025-04-15T01:14:47.574+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik
2025-04-15T01:14:47.584+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik Plus
2025-04-15T01:14:47.595+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Simple
2025-04-15T01:14:47.605+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Box
2025-04-15T01:14:47.617+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Ořech
2025-04-15T01:14:47.629+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Palisandr
2025-04-15T01:14:47.652+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Bezbarvý lak
2025-04-15T01:14:47.664+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Šedá lazura
2025-04-15T01:14:47.673+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Antracit
2025-04-15T01:14:47.683+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak
2025-04-15T01:14:47.693+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak Premium
2025-04-15T01:14:47.706+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Antracit
2025-04-15T01:14:47.717+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Červená
2025-04-15T01:14:47.726+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Zelená
2025-04-15T01:14:47.736+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná
2025-04-15T01:14:47.749+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná metalická
2025-04-15T01:14:47.773+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Polička navíc
2025-04-15T01:14:47.787+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Držák na nářadí
2025-04-15T01:14:47.796+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Starý doplněk
2025-04-15T01:14:47.830+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Klasik
2025-04-15T01:14:47.943+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Modern
2025-04-15T01:14:47.958+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník na míru
2025-04-15T01:14:47.963+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating new configurator for product ID: 3
2025-04-15T01:14:47.965+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Updating existing configurator for product ID: 3
2025-04-15T01:14:48.534+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin user: admin@example.com
2025-04-15T01:14:48.549+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating test orders...
2025-04-15T01:14:48.550+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T01:14:48.552+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T01:14:48.553+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:14:48.590+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:14:48.591+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:14:48.591+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:14:48.593+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:14:48.593+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:14:48.593+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:14:48.594+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-15T01:14:48.595+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1
2025-04-15T01:14:48.605+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:14:48.606+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-15T01:14:48.606+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Klasik | Lazura: Ořech | Střecha: Antracit
2025-04-15T01:14:48.607+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 5990.00
2025-04-15T01:14:48.609+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:14:48.609664500
2025-04-15T01:14:48.667+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:14:48.671+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:14:48.673+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 5990.00
2025-04-15T01:14:48.673+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T01:14:48.674+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 5990.00
2025-04-15T01:14:48.674+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1257.90
2025-04-15T01:14:48.674+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 7247.90
2025-04-15T01:14:48.674+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=5990.00, TotalTaxAmount=1257.90, TotalPriceWithTax=7247.90
2025-04-15T01:14:48.675+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=5990.00, TaxAmount=1257.90
2025-04-15T01:14:48.675+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 5990.00, Running Item Tax: 1257.90
2025-04-15T01:14:48.675+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 5990.00, Final Item Tax: 1257.90
2025-04-15T01:14:48.677+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:14:48.677+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:14:48.678+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:14:48.678+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T01:14:48.678+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T01:14:48.678+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:14:48.679+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T01:14:48.679+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T01:14:48.680+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T01:14:48.680+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T01:14:48.681+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 206
2025-04-15T01:14:48.681+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 206
2025-04-15T01:14:48.681+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:14:48.699+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 206 created successfully. Total: 7852 CZK
2025-04-15T01:14:48.701+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 206...
2025-04-15T01:14:48.705+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 206 (Total: 7852 CZK)
2025-04-15T01:14:48.705+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in EUR
2025-04-15T01:14:48.706+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: EUR
2025-04-15T01:14:48.706+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: EUR
2025-04-15T01:14:48.716+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: EUR
2025-04-15T01:14:48.716+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:14:48.716+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:14:48.717+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:14:48.717+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:14:48.717+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: EUR
2025-04-15T01:14:48.717+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T01:14:48.717+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T01:14:48.718+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:14:48.719+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T01:14:48.720+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 350x120x210 cm|Příčka: Ano
2025-04-15T01:14:48.726+02:00  INFO 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: EUR
2025-04-15T01:14:48.727+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (EUR): 1623.60
2025-04-15T01:14:48.727+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (EUR): 0.00
2025-04-15T01:14:48.728+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (EUR): 62.40
2025-04-15T01:14:48.728+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (EUR, fixed): 0.00
2025-04-15T01:14:48.729+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (EUR, fixed): 0.00
2025-04-15T01:14:48.729+02:00  INFO 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: EUR. Vypočtená cena: 1686.00
2025-04-15T01:14:48.730+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 1686.00
2025-04-15T01:14:48.730+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 3 at time: 2025-04-15T01:14:48.730532400
2025-04-15T01:14:48.745+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:14:48.745+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 3
2025-04-15T01:14:48.746+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 1686.00
2025-04-15T01:14:48.746+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: EUR
2025-04-15T01:14:48.747+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1, 2]
2025-04-15T01:14:48.789+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1, 2]
2025-04-15T01:14:48.790+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T01:14:48.790+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T01:14:48.790+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 15.00
2025-04-15T01:14:48.791+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 30.00
2025-04-15T01:14:48.791+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=2, Name=Držák na nářadí
2025-04-15T01:14:48.791+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 20.00
2025-04-15T01:14:48.791+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 20.00
2025-04-15T01:14:48.791+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (EUR): 50.00
2025-04-15T01:14:48.791+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 50.00
2025-04-15T01:14:48.791+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 1736.00
2025-04-15T01:14:48.793+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 364.56
2025-04-15T01:14:48.793+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 2100.56
2025-04-15T01:14:48.793+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=1736.00, TotalTaxAmount=364.56, TotalPriceWithTax=2100.56
2025-04-15T01:14:48.793+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=1736.00, TaxAmount=364.56
2025-04-15T01:14:48.793+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 1736.00, Running Item Tax: 364.56
2025-04-15T01:14:48.793+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 1736.00, Final Item Tax: 364.56
2025-04-15T01:14:48.793+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: EUR
2025-04-15T01:14:48.794+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 25.00, Tax: 5.25, Estimated Rate: 0.2100
2025-04-15T01:14:48.795+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: EUR
2025-04-15T01:14:48.795+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T01:14:48.795+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T01:14:48.796+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: EUR
2025-04-15T01:14:48.796+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T01:14:48.796+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T01:14:48.797+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T01:14:48.797+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T01:14:48.797+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T01:14:48.797+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T01:14:48.797+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T01:14:48.797+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T01:14:48.797+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 1000.00 EUR calculated for custom order (new).
2025-04-15T01:14:48.797+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 1000.00
2025-04-15T01:14:48.798+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 207
2025-04-15T01:14:48.798+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 207
2025-04-15T01:14:48.798+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:14:48.821+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 207 created successfully. Total: 2130 EUR
2025-04-15T01:14:48.821+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 207...
2025-04-15T01:14:48.822+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 207. Currency: EUR
2025-04-15T01:14:48.827+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 207 (Total: 2130 EUR)
2025-04-15T01:14:48.827+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer admin@example.com with 1 items in CZK
2025-04-15T01:14:48.828+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 2 with explicit currency: CZK
2025-04-15T01:14:48.828+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:14:48.839+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:14:48.839+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 2 to order.
2025-04-15T01:14:48.840+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Admin Eshopu
2025-04-15T01:14:48.840+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:14:48.840+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:14:48.840+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:14:48.840+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-15T01:14:48.840+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2
2025-04-15T01:14:48.845+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 500.00
2025-04-15T01:14:48.845+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-15T01:14:48.845+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Modern Simple | Lazura: Teak Premium | Střecha: Stříbrná metalická
2025-04-15T01:14:48.847+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 7490.00
2025-04-15T01:14:48.850+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:14:48.847355300
2025-04-15T01:14:48.869+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:14:48.871+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:14:48.873+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 7490.00
2025-04-15T01:14:48.876+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T01:14:48.877+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 7990.00
2025-04-15T01:14:48.877+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1677.90
2025-04-15T01:14:48.878+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 9667.90
2025-04-15T01:14:48.878+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=15980.00, TotalTaxAmount=3355.80, TotalPriceWithTax=19335.80
2025-04-15T01:14:48.879+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=15980.00, TaxAmount=3355.80
2025-04-15T01:14:48.879+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 15980.00, Running Item Tax: 3355.80
2025-04-15T01:14:48.879+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 15980.00, Final Item Tax: 3355.80
2025-04-15T01:14:48.879+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:14:48.879+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:14:48.880+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:14:48.848+02:00 ERROR 5612 --- [Eshop] [task-3] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(org.example.eshop.model.Order)

jakarta.persistence.EntityNotFoundException: Order not found: 2
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:79) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:48.881+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T01:14:48.882+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T01:14:48.882+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:14:48.882+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T01:14:48.883+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T01:14:48.883+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T01:14:48.883+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T01:14:48.884+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 208
2025-04-15T01:14:48.885+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 208
2025-04-15T01:14:48.885+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:14:48.895+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 208 created successfully. Total: 19940 CZK
2025-04-15T01:14:48.896+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 208...
2025-04-15T01:14:48.896+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 208 (Total: 19940 CZK)
2025-04-15T01:14:48.897+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 208 to PAID and state PROCESSING (SF API calls might be triggered if active)
2025-04-15T01:14:48.905+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 208 to PAID and state PROCESSING (bypassed SF calls)
2025-04-15T01:14:48.906+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T01:14:48.906+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T01:14:48.906+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:14:48.920+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:14:48.921+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:14:48.921+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:14:48.921+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:14:48.921+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:14:48.921+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:14:48.921+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T01:14:48.921+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T01:14:48.923+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:14:48.923+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T01:14:48.923+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 280x90x195 cm|Okap: Ano
2025-04-15T01:14:48.923+02:00  INFO 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: CZK
2025-04-15T01:14:48.924+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (CZK): 32700.00
2025-04-15T01:14:48.924+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (CZK): 0.00
2025-04-15T01:14:48.924+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (CZK): 0.00
2025-04-15T01:14:48.925+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (CZK, fixed): 1000.00
2025-04-15T01:14:48.925+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (CZK, fixed): 0.00
2025-04-15T01:14:48.925+02:00  INFO 5612 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: CZK. Vypočtená cena: 33700.00
2025-04-15T01:14:48.925+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 33700.00
2025-04-15T01:14:48.925+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 3 at time: 2025-04-15T01:14:48.925025700
2025-04-15T01:14:48.940+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:14:48.941+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 3
2025-04-15T01:14:48.941+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 33700.00
2025-04-15T01:14:48.941+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: CZK
2025-04-15T01:14:48.941+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1]
2025-04-15T01:14:48.951+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1]
2025-04-15T01:14:48.951+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T01:14:48.952+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T01:14:48.953+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (CZK): 350.00
2025-04-15T01:14:48.954+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (CZK): 350.00
2025-04-15T01:14:48.955+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (CZK): 350.00
2025-04-15T01:14:48.955+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 350.00
2025-04-15T01:14:48.956+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 34050.00
2025-04-15T01:14:48.956+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 7150.50
2025-04-15T01:14:48.956+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 41200.50
2025-04-15T01:14:48.956+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=34050.00, TotalTaxAmount=7150.50, TotalPriceWithTax=41200.50
2025-04-15T01:14:48.958+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=34050.00, TaxAmount=7150.50
2025-04-15T01:14:48.958+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 34050.00, Running Item Tax: 7150.50
2025-04-15T01:14:48.958+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 34050.00, Final Item Tax: 7150.50
2025-04-15T01:14:48.959+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:14:48.959+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:14:48.960+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:14:48.960+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T01:14:48.960+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T01:14:48.961+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:14:48.961+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T01:14:48.961+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T01:14:48.961+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T01:14:48.961+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T01:14:48.961+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T01:14:48.961+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T01:14:48.961+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T01:14:48.963+02:00  INFO 5612 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T01:14:48.963+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 20000.00 CZK calculated for custom order (new).
2025-04-15T01:14:48.963+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 20000.00
2025-04-15T01:14:48.963+02:00 DEBUG 5612 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 209
2025-04-15T01:14:48.963+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 209
2025-04-15T01:14:48.963+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:14:48.975+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 209 created successfully. Total: 41805 CZK
2025-04-15T01:14:48.976+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 209...
2025-04-15T01:14:48.977+02:00 DEBUG 5612 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 209. Currency: CZK
2025-04-15T01:14:48.977+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 209 (Total: 41805 CZK)
2025-04-15T01:14:48.977+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 209 to DEPOSIT_PAID and state IN_PRODUCTION (SF API calls might be triggered if active)
2025-04-15T01:14:48.982+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 209 to DEPOSIT_PAID and state IN_PRODUCTION (bypassed SF calls)
2025-04-15T01:14:48.982+02:00  INFO 5612 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Test data initialization finished successfully.
2025-04-15T01:14:48.989+02:00 ERROR 5612 --- [Eshop] [task-6] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(org.example.eshop.model.Order)

jakarta.persistence.EntityNotFoundException: Order not found: 4
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:79) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.527+02:00 ERROR 5612 --- [Eshop] [task-5] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-5] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.527+02:00 ERROR 5612 --- [Eshop] [task-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-4] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.527+02:00 ERROR 5612 --- [Eshop] [task-2] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-2] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.527+02:00 ERROR 5612 --- [Eshop] [task-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-1] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.537+02:00 ERROR 5612 --- [Eshop] [task-5] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 209: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.539+02:00 ERROR 5612 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 206: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.538+02:00 ERROR 5612 --- [Eshop] [task-4] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 208: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.539+02:00 ERROR 5612 --- [Eshop] [task-2] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 207: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:14:49.614+02:00  INFO 5612 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-15T01:14:49.614+02:00  INFO 5612 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-15T01:14:49.622+02:00  INFO 5612 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-04-15T01:15:54.448+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T01:15:54.450+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:15:54.450+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-1] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:15:54.452+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-1] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T01:15:54.457+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T01:15:54.471+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T01:15:54.477+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T01:15:54.487+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T01:15:54.492+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T01:15:54.497+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T01:15:54.502+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T01:15:54.512+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T01:15:54.558+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-1] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T01:15:54.560+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-1] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T01:16:00.172+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/orders/4
2025-04-15T01:16:00.173+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:16:00.173+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:16:00.199+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Requesting admin order detail view for ID: 4
2025-04-15T01:16:00.200+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Finding order by ID with full details using new repo method: 4
2025-04-15T01:16:00.249+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T01:16:00.258+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.controller.AdminOrderController  : Order detail loaded successfully for ID: 4
2025-04-15T01:16:02.927+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T01:16:02.927+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:16:02.927+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:16:02.929+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T01:16:02.932+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-15T01:16:02.961+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů (with details).
2025-04-15T01:16:02.962+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T01:16:02.970+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:16:02.970603100
2025-04-15T01:16:02.979+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:02.979+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:16:02.981+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:16:02.981845100
2025-04-15T01:16:02.991+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:02.991+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:16:02.993+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T01:16:02.997+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:16:02.997484
2025-04-15T01:16:03.010+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:03.010+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:16:03.011+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:16:03.011773200
2025-04-15T01:16:03.021+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:03.021+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:16:03.021+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T01:16:03.022+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T01:16:03.576+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T01:16:03.923+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T01:16:03.929+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T01:16:03.930+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T01:16:03.945+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T01:16:03.960+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T01:16:03.964+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T01:16:03.988+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T01:16:03.991+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T01:16:04.534+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:16:04.612+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T01:16:05.278+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-15T01:16:05.278+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:16:05.278+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:16:05.293+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 9, sort: slug: ASC]
2025-04-15T01:16:05.294+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 9, sort: slug: ASC]) using standard repo method <<<
2025-04-15T01:16:05.301+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-7] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-15T01:16:05.334+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 3 aktivními produkty (with details).
2025-04-15T01:16:05.334+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-15T01:16:05.335+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=3, TotalPages=1, Number=0, Size=9
2025-04-15T01:16:05.335+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:16:05.335730500
2025-04-15T01:16:05.345+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:05.345+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:16:05.347+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:16:05.347220300
2025-04-15T01:16:05.356+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:05.356+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:16:05.356+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T01:16:05.357+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:16:05.357408500
2025-04-15T01:16:05.365+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:05.365+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:16:05.366+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:16:05.366535200
2025-04-15T01:16:05.377+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:05.377+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:16:05.377+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T01:16:05.379+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': {currentGlobalCurrency=CZK, currentCurrency=CZK, productPage=Page 1 of 1 containing org.example.eshop.model.Product instances, productPrices={1={originalPrice=5990.00, discountedPrice=null, discountApplied=null}, 2={originalPrice=7490.00, discountedPrice=null, discountApplied=null}}}
2025-04-15T01:16:05.682+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T01:16:05.682+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:16:05.686+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-15T01:16:07.258+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkt/klasik
2025-04-15T01:16:07.259+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:16:07.259+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:16:07.264+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do productDetail. Slug: klasik
2025-04-15T01:16:07.265+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProductBySlug using new repo method. Slug: klasik
2025-04-15T01:16:07.309+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getActiveProductBySlug: Aktivní produkt se slugem 'klasik' nalezen (with details).
2025-04-15T01:16:07.310+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProductBySlug (Slug: klasik) <<<
2025-04-15T01:16:07.311+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] Produkt ID 1 nalezen pro slug 'klasik'.
2025-04-15T01:16:07.311+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : [ProductController] Zpracovávám detail pro STANDARD produkt ID 1
2025-04-15T01:16:07.311+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:16:07.311896
2025-04-15T01:16:07.319+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:07.319+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:16:07.320+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:16:07.320929800
2025-04-15T01:16:07.328+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:07.328+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:16:07.328+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T01:16:07.329+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím productDetail (STANDARD). Model: {currentGlobalCurrency=CZK, product=org.example.eshop.model.Product@4fa0a9c0, priceInfo={originalPrice=5990.00, discountedPrice=null, discountApplied=null}, availableDesigns=[org.example.eshop.model.Design@20, org.example.eshop.model.Design@21], availableGlazes=[org.example.eshop.model.Glaze@50b21515, org.example.eshop.model.Glaze@50b21515, org.example.eshop.model.Glaze@50b21515], availableRoofColors=[org.example.eshop.model.RoofColor@47ce6ce6, org.example.eshop.model.RoofColor@47ce6ce6, org.example.eshop.model.RoofColor@47ce6ce6], cartItemDto=org.example.eshop.dto.CartItemDto@2222cf84}
2025-04-15T01:16:07.582+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:16:09.115+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik/pridat
2025-04-15T01:16:09.115+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:16:09.115+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:16:09.189+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : --- addToCart START (Attribute Select Version) --- Cart instance hash: -1764271339
2025-04-15T01:16:09.191+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details) using new repo method. ID: 1
2025-04-15T01:16:09.222+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 1 nalezen (with details).
2025-04-15T01:16:09.222+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 1) <<<
2025-04-15T01:16:09.224+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Processing addToCart request for product ID: 1
2025-04-15T01:16:09.224+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : CartItemDto details: isCustom=false, quantity=1
2025-04-15T01:16:09.224+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Selected IDs: Design=1, Glaze=3, RoofColor=1
2025-04-15T01:16:09.227+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getProductById (with details) using new repo method. ID: 1
2025-04-15T01:16:09.245+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getProductById: Produkt ID 1 nalezen (with details).
2025-04-15T01:16:09.245+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getProductById (ID: 1) <<<
2025-04-15T01:16:09.254+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Applied Tax Rate 21.00% for product ID 1
2025-04-15T01:16:09.255+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Calculated attribute surcharges: CZK=0, EUR=0
2025-04-15T01:16:09.255+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Using base price for standard product: CZK=5990.00, EUR=250.00
2025-04-15T01:16:09.255+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Final unit prices calculated (incl. attribute surcharges and addons): CZK=5990.00, EUR=250.00
2025-04-15T01:16:09.255+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Built variant info string for CartItem (ProductID: 1): 'Rozměry (DxHxV): 200x80x180 cm | Design: Klasik | Lazura: Bezbarvý lak | Střecha: Antracit'
2025-04-15T01:16:09.256+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : Generated Cart Item ID: P1-S-D1-G3-RC1
2025-04-15T01:16:09.256+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.Cart           : addItem called for cart hash: 1832784854. Item ID: P1-S-D1-G3-RC1, Product ID: 1
2025-04-15T01:16:09.256+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.Cart           : Added new cart item ID: P1-S-D1-G3-RC1. Cart hash: 1832784854
2025-04-15T01:16:09.256+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-7] org.example.eshop.service.Cart           : Cart items map after addItem (hash: 1832784854): {P1-S-D1-G3-RC1=CartItem{cartItemId='P1-S-D1-G3-RC1', productId=1, quantity=1, taxRatePercent=0.21}}
2025-04-15T01:16:09.261+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.CartController      : --- addToCart END --- Item added/updated. Cart instance hash: -1764271339, Current cart items count: 1
2025-04-15T01:16:09.328+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /kosik
2025-04-15T01:16:09.329+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:16:09.329+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:16:09.330+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : --- viewCart START --- Cart instance hash: -1764271339
2025-04-15T01:16:09.330+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Cart items before display: {P1-S-D1-G3-RC1=CartItem{cartItemId='P1-S-D1-G3-RC1', productId=1, quantity=1, taxRatePercent=0.21}}
2025-04-15T01:16:09.330+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Displaying cart page. Cart has 1 items.
2025-04-15T01:16:09.331+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Current currency set to: CZK
2025-04-15T01:16:09.334+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Cart subtotal (CZK): 5990.00
2025-04-15T01:16:09.335+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Validated coupon: None, Discount amount (CZK): 0
2025-04-15T01:16:09.338+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Total VAT (CZK): 1257.90
2025-04-15T01:16:09.339+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : VAT Breakdown (CZK): {0.21=1257.90}
2025-04-15T01:16:09.339+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Total Price Before Shipping (CZK): 7247.90
2025-04-15T01:16:09.340+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : Total Price Without Tax After Discount (CZK): 5990.00
2025-04-15T01:16:09.340+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.controller.CartController      : --- viewCart END --- Model attributes set for cart.
2025-04-15T01:16:09.543+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:16:13.480+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:16:52.036+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T01:16:52.036+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:16:52.036+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:16:52.036+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T01:16:52.038+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-15T01:16:52.051+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů (with details).
2025-04-15T01:16:52.051+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T01:16:52.054+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:16:52.054222200
2025-04-15T01:16:52.058+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:52.058+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:16:52.058+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:16:52.058880100
2025-04-15T01:16:52.063+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:52.063+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:16:52.063+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T01:16:52.064+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:16:52.064734900
2025-04-15T01:16:52.068+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:52.068+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:16:52.068+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:16:52.068736100
2025-04-15T01:16:52.072+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:16:52.072+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:16:52.073+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T01:16:52.074+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T01:16:52.229+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T01:16:52.373+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T01:16:52.373+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T01:16:52.381+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T01:16:52.381+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T01:16:52.381+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T01:16:52.381+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T01:16:52.395+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T01:16:52.395+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T01:16:52.464+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:16:52.474+02:00  WARN 5612 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T01:19:45.792+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T01:19:45.793+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:19:45.793+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:19:45.794+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-5] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T01:19:45.796+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T01:19:45.802+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T01:19:45.808+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T01:19:45.814+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T01:19:45.820+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T01:19:45.826+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T01:19:45.833+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T01:19:45.839+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T01:19:45.848+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-5] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T01:19:45.850+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T01:19:47.446+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/customers
2025-04-15T01:19:47.447+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:19:47.447+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:19:47.453+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-6] o.e.e.a.c.AdminCustomerController        : Requesting admin customer list view. Filters: email=null, name=null, enabled=null. Pageable: Page request [number: 0, size 20, sort: id: DESC]
2025-04-15T01:19:47.456+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.CustomerService  : Searching for customers with filters - Email: 'null', Name: 'null', Enabled: null, Page: Page request [number: 0, size 20, sort: id: DESC]
2025-04-15T01:19:48.695+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/products
2025-04-15T01:19:48.696+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:19:48.696+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:19:48.706+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.e.e.a.c.AdminProductController         : Requesting admin product list view. Filters: name=null, active=null. Pageable: Page request [number: 0, size 15, sort: id: DESC]
2025-04-15T01:19:48.707+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllProducts(Pageable: Page request [number: 0, size 15, sort: id: DESC]) <<<
2025-04-15T01:19:48.718+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : [ProductService] getAllProducts(Pageable): Načtena stránka s 3 produkty.
2025-04-15T01:19:48.719+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-7] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllProducts(Pageable) <<<
2025-04-15T01:19:50.639+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/designs
2025-04-15T01:19:50.640+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:19:50.640+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:19:50.641+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.e.a.c.AdminDesignController          : Requesting design list view.
2025-04-15T01:19:50.644+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-8] o.e.eshop.admin.service.DesignService    : Fetching all designs sorted by name
2025-04-15T01:19:52.409+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/coupons
2025-04-15T01:19:52.409+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:19:52.410+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:19:52.410+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-3] o.e.e.a.c.AdminCouponController          : Requesting coupon list view.
2025-04-15T01:19:52.413+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-3] o.example.eshop.service.CouponService    : Fetching all coupons for CMS
2025-04-15T01:19:54.546+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin/order-states
2025-04-15T01:19:54.546+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:19:54.546+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-9] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:19:54.547+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-9] o.e.e.a.c.AdminOrderStateController      : Requesting order state list view.
2025-04-15T01:19:54.548+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-9] o.e.eshop.service.OrderStateService      : Fetching all order states sorted by displayOrder
2025-04-15T01:19:57.152+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /admin
2025-04-15T01:19:57.153+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:19:57.153+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:19:57.153+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] o.e.e.a.c.AdminDashboardController       : Requesting admin dashboard view.
2025-04-15T01:19:57.153+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders created between 2025-04-15T00:00 and 2025-04-15T23:59:59.999999999
2025-04-15T01:19:57.157+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with payment status: AWAITING_DEPOSIT
2025-04-15T01:19:57.168+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: PROCESSING
2025-04-15T01:19:57.174+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: NEW
2025-04-15T01:19:57.177+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: IN_PRODUCTION
2025-04-15T01:19:57.182+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: AT_ZINC_PLATING
2025-04-15T01:19:57.185+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Counting orders with status code: READY_TO_SHIP
2025-04-15T01:19:57.190+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : OrderService.findOrders called with filters - Email: 'N/A', StateID: null, PaymentStatus: 'N/A', From: null, To: null. Pageable: Page request [number: 0, size 5, sort: orderDate: DESC]
2025-04-15T01:19:57.197+02:00  INFO 5612 --- [Eshop] [http-nio-8080-exec-2] org.example.eshop.service.OrderService   : Found 4 orders matching criteria using specifications.
2025-04-15T01:19:57.200+02:00 DEBUG 5612 --- [Eshop] [http-nio-8080-exec-2] o.example.eshop.service.CustomerService  : Counting total customers
2025-04-15T01:20:15.312+02:00  INFO 5612 --- [Eshop] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-15T01:20:15.334+02:00  INFO 5612 --- [Eshop] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-15T01:20:15.364+02:00  INFO 5612 --- [Eshop] [SpringApplicationShutdownHook] o.e.e.service.GoogleMapsShippingService  : Shutting down Google Maps API context.
2025-04-15T01:20:15.374+02:00  INFO 5612 --- [Eshop] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:20:16.939+02:00  INFO 5612 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-15T01:20:17.051+02:00  INFO 5612 --- [Eshop] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-15T01:33:10.638+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Starting EshopApplication using Java 21.0.6 with PID 23524 (C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop\target\classes started by mirsv in C:\Users\mirsv\Desktop\Dřevníky Kolář\Eshop)
2025-04-15T01:33:10.641+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-15T01:33:10.643+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-15T01:33:11.276+02:00  INFO 23524 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-15T01:33:11.276+02:00  INFO 23524 --- [Eshop] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-15T01:33:13.205+02:00  INFO 23524 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-15T01:33:13.343+02:00  INFO 23524 --- [Eshop] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 14 JPA repository interfaces.
2025-04-15T01:33:14.755+02:00  INFO 23524 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-15T01:33:14.784+02:00  INFO 23524 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-15T01:33:14.784+02:00  INFO 23524 --- [Eshop] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-15T01:33:14.888+02:00  INFO 23524 --- [Eshop] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-15T01:33:14.889+02:00  INFO 23524 --- [Eshop] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3612 ms
2025-04-15T01:33:15.520+02:00  INFO 23524 --- [Eshop] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-15T01:33:15.661+02:00  INFO 23524 --- [Eshop] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-15T01:33:15.671+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-15T01:33:15.727+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2025-04-15T01:33:15.733+02:00  INFO 23524 --- [Eshop] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-04-15T01:33:16.323+02:00  INFO 23524 --- [Eshop] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-15T01:33:16.383+02:00  INFO 23524 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-15T01:33:16.528+02:00  INFO 23524 --- [Eshop] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4b88d7db
2025-04-15T01:33:16.531+02:00  INFO 23524 --- [Eshop] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-15T01:33:16.651+02:00  INFO 23524 --- [Eshop] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 11.7.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-15T01:33:17.450+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Discount] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.548+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Discount' created in EhcacheManager.
2025-04-15T01:33:17.571+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Coupon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.574+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Coupon' created in EhcacheManager.
2025-04-15T01:33:17.575+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Glaze] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.577+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Glaze' created in EhcacheManager.
2025-04-15T01:33:17.578+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.TaxRate] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.581+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.TaxRate' created in EhcacheManager.
2025-04-15T01:33:17.582+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.TaxRate]]
2025-04-15T01:33:17.583+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.OrderState] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.585+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.OrderState' created in EhcacheManager.
2025-04-15T01:33:17.586+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001003: Read-only caching was requested for mutable entity [NavigableRole[org.example.eshop.model.OrderState]]
2025-04-15T01:33:17.586+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Addon] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.588+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Addon' created in EhcacheManager.
2025-04-15T01:33:17.589+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.ProductConfigurator] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.591+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.ProductConfigurator' created in EhcacheManager.
2025-04-15T01:33:17.592+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Design] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.594+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Design' created in EhcacheManager.
2025-04-15T01:33:17.595+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.RoofColor] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.599+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.RoofColor' created in EhcacheManager.
2025-04-15T01:33:17.600+02:00  WARN 23524 --- [Eshop] [restartedMain] org.hibernate.orm.cache                  : HHH90001006: Missing cache[org.example.eshop.model.Product] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-04-15T01:33:17.602+02:00  INFO 23524 --- [Eshop] [restartedMain] org.ehcache.core.EhcacheManager          : Cache 'org.example.eshop.model.Product' created in EhcacheManager.
2025-04-15T01:33:19.175+02:00  INFO 23524 --- [Eshop] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-15T01:33:21.987+02:00  INFO 23524 --- [Eshop] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-15T01:33:22.201+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsInitiator    : Statistics initialized [enabled=true]
2025-04-15T01:33:22.211+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.212+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.329+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.415+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.422+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.536+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.536+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.603+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.613+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.616+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.616+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.633+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.678+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.689+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.689+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.699+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.700+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.703+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.704+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.706+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.706+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.709+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.710+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.717+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.717+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.720+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.721+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.727+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.728+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.748+02:00  INFO 23524 --- [Eshop] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-15T01:33:22.754+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.754+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.761+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.761+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.763+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.763+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.765+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.765+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.767+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.767+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.769+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.769+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.771+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.771+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.773+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.773+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.774+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.774+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.813+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.814+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.817+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.817+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.818+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.818+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.819+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.820+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.824+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.824+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.826+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.826+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.827+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.827+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.828+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.829+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.892+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.893+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.895+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.896+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.897+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.898+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.915+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.916+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.919+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.920+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.925+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:22.926+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.675+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.676+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.677+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.679+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.680+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.682+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.682+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.845+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.846+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.846+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.870+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.871+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.873+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.874+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.876+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.876+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.892+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.893+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.895+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.895+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.898+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.898+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.900+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.916+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.917+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.919+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.919+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.921+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.921+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.923+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.940+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.941+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.944+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.945+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.948+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.949+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.952+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.985+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:23.987+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.006+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.007+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.010+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.010+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.012+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.013+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.219+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.438+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.441+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.443+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.444+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.481+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Initializing Google Maps API context...
2025-04-15T01:33:24.742+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Google Maps API context initialized successfully.
2025-04-15T01:33:24.742+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.e.service.GoogleMapsShippingService  : Origin coordinates set to: 50.03500389,15.49180022
2025-04-15T01:33:24.764+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Initializing order code counter...
2025-04-15T01:33:24.919+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT o.order_code FROM customer_orders o WHERE o.order_code REGEXP '^[0-9]+$' ORDER BY CAST(o.order_code AS UNSIGNED) DESC LIMIT 1, time: 14ms, rows: 0
2025-04-15T01:33:24.920+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    349100 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    7598000 nanoseconds spent preparing 1 JDBC statements;
    4887100 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:24.939+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : No existing numeric-like order codes found in database.
2025-04-15T01:33:24.939+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Order code counter initialized to: 205
2025-04-15T01:33:25.213+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:25.218+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:25.221+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:25.222+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:25.441+02:00  WARN 23524 --- [Eshop] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-15T01:33:26.243+02:00  INFO 23524 --- [Eshop] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-15T01:33:26.425+02:00  INFO 23524 --- [Eshop] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-04-15T01:33:27.242+02:00  INFO 23524 --- [Eshop] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-04-15T01:33:28.182+02:00  INFO 23524 --- [Eshop] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-15T01:33:28.286+02:00  INFO 23524 --- [Eshop] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-15T01:33:28.325+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.EshopApplication       : Started EshopApplication in 18.859 seconds (process running for 20.911)
2025-04-15T01:33:28.351+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Initializing test data...
2025-04-15T01:33:28.414+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: select count(*) from TaxRate x, time: 0ms, rows: 1
2025-04-15T01:33:28.415+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Tax Rates...
2025-04-15T01:33:28.468+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: select count(*) from OrderState x, time: 0ms, rows: 1
2025-04-15T01:33:28.469+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Order States...
2025-04-15T01:33:28.489+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: select count(*) from EmailTemplateConfig x, time: 0ms, rows: 1
2025-04-15T01:33:28.490+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating default Email Template Configs...
2025-04-15T01:33:28.525+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 8ms, rows: 0
2025-04-15T01:33:28.530+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.534+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.540+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.543+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.547+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.552+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.557+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.562+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.565+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select etc1_0.id,etc1_0.description,etc1_0.send_email,etc1_0.state_code,etc1_0.subject_template,etc1_0.template_name from email_template_config etc1_0 where upper(etc1_0.state_code)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.571+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select tr1_0.id,tr1_0.name,tr1_0.rate,tr1_0.reverse_charge from tax_rate tr1_0 where upper(tr1_0.name)=upper(?), time: 2ms, rows: 1
2025-04-15T01:33:28.576+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:28.579+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:28.582+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:28.585+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:28.588+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:28.592+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select d1_0.id,d1_0.active,d1_0.description,d1_0.image_url,d1_0.name,d1_0.price_surchargeczk,d1_0.price_surchargeeur from design d1_0 where upper(d1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.592+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik
2025-04-15T01:33:28.597+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select d1_0.id,d1_0.active,d1_0.description,d1_0.image_url,d1_0.name,d1_0.price_surchargeczk,d1_0.price_surchargeeur from design d1_0 where upper(d1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.597+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Klasik Plus
2025-04-15T01:33:28.602+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select d1_0.id,d1_0.active,d1_0.description,d1_0.image_url,d1_0.name,d1_0.price_surchargeczk,d1_0.price_surchargeeur from design d1_0 where upper(d1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.602+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Simple
2025-04-15T01:33:28.605+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select d1_0.id,d1_0.active,d1_0.description,d1_0.image_url,d1_0.name,d1_0.price_surchargeczk,d1_0.price_surchargeeur from design d1_0 where upper(d1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.605+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Design: Modern Box
2025-04-15T01:33:28.610+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select g1_0.id,g1_0.active,g1_0.description,g1_0.image_url,g1_0.name,g1_0.price_surchargeczk,g1_0.price_surchargeeur from glaze g1_0 where upper(g1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.611+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Ořech
2025-04-15T01:33:28.615+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select g1_0.id,g1_0.active,g1_0.description,g1_0.image_url,g1_0.name,g1_0.price_surchargeczk,g1_0.price_surchargeeur from glaze g1_0 where upper(g1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.615+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Palisandr
2025-04-15T01:33:28.619+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select g1_0.id,g1_0.active,g1_0.description,g1_0.image_url,g1_0.name,g1_0.price_surchargeczk,g1_0.price_surchargeeur from glaze g1_0 where upper(g1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.619+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Bezbarvý lak
2025-04-15T01:33:28.623+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select g1_0.id,g1_0.active,g1_0.description,g1_0.image_url,g1_0.name,g1_0.price_surchargeczk,g1_0.price_surchargeeur from glaze g1_0 where upper(g1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.623+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Šedá lazura
2025-04-15T01:33:28.628+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select g1_0.id,g1_0.active,g1_0.description,g1_0.image_url,g1_0.name,g1_0.price_surchargeczk,g1_0.price_surchargeeur from glaze g1_0 where upper(g1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.628+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Antracit
2025-04-15T01:33:28.868+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select g1_0.id,g1_0.active,g1_0.description,g1_0.image_url,g1_0.name,g1_0.price_surchargeczk,g1_0.price_surchargeeur from glaze g1_0 where upper(g1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.868+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak
2025-04-15T01:33:28.872+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select g1_0.id,g1_0.active,g1_0.description,g1_0.image_url,g1_0.name,g1_0.price_surchargeczk,g1_0.price_surchargeeur from glaze g1_0 where upper(g1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.873+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Glaze: Teak Premium
2025-04-15T01:33:28.878+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select rc1_0.id,rc1_0.active,rc1_0.description,rc1_0.image_url,rc1_0.name,rc1_0.price_surchargeczk,rc1_0.price_surchargeeur from roof_color rc1_0 where upper(rc1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.879+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Antracit
2025-04-15T01:33:28.882+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select rc1_0.id,rc1_0.active,rc1_0.description,rc1_0.image_url,rc1_0.name,rc1_0.price_surchargeczk,rc1_0.price_surchargeeur from roof_color rc1_0 where upper(rc1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.883+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Červená
2025-04-15T01:33:28.886+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select rc1_0.id,rc1_0.active,rc1_0.description,rc1_0.image_url,rc1_0.name,rc1_0.price_surchargeczk,rc1_0.price_surchargeeur from roof_color rc1_0 where upper(rc1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.887+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Zelená
2025-04-15T01:33:28.890+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select rc1_0.id,rc1_0.active,rc1_0.description,rc1_0.image_url,rc1_0.name,rc1_0.price_surchargeczk,rc1_0.price_surchargeeur from roof_color rc1_0 where upper(rc1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.890+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná
2025-04-15T01:33:28.894+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select rc1_0.id,rc1_0.active,rc1_0.description,rc1_0.image_url,rc1_0.name,rc1_0.price_surchargeczk,rc1_0.price_surchargeeur from roof_color rc1_0 where upper(rc1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.895+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating RoofColor: Stříbrná metalická
2025-04-15T01:33:28.901+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select a1_0.id,a1_0.active,a1_0.description,a1_0.name,a1_0.priceczk,a1_0.priceeur,a1_0.sku from addon a1_0 where upper(a1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.902+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Polička navíc
2025-04-15T01:33:28.907+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select a1_0.id,a1_0.active,a1_0.description,a1_0.name,a1_0.priceczk,a1_0.priceeur,a1_0.sku from addon a1_0 where upper(a1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.907+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Držák na nářadí
2025-04-15T01:33:28.912+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select a1_0.id,a1_0.active,a1_0.description,a1_0.name,a1_0.priceczk,a1_0.priceeur,a1_0.sku from addon a1_0 where upper(a1_0.name)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.913+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Addon: Starý doplněk
2025-04-15T01:33:28.927+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select p1_0.id,p1_0.active,p1_0.base_priceczk,p1_0.base_priceeur,p1_0.customisable,p1_0.description,p1_0.height,p1_0.length,p1_0.material,p1_0.meta_description,p1_0.meta_title,p1_0.model,p1_0.name,p1_0.roof_overstep,p1_0.slug,p1_0.tax_rate_id,p1_0.width from product p1_0 where upper(p1_0.slug)=upper(?), time: 6ms, rows: 0
2025-04-15T01:33:28.929+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Klasik
2025-04-15T01:33:28.981+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select p1_0.id,p1_0.active,p1_0.base_priceczk,p1_0.base_priceeur,p1_0.customisable,p1_0.description,p1_0.height,p1_0.length,p1_0.material,p1_0.meta_description,p1_0.meta_title,p1_0.model,p1_0.name,p1_0.roof_overstep,p1_0.slug,p1_0.tax_rate_id,p1_0.width from product p1_0 where upper(p1_0.slug)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.981+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník Modern
2025-04-15T01:33:28.989+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select p1_0.id,p1_0.active,p1_0.base_priceczk,p1_0.base_priceeur,p1_0.customisable,p1_0.description,p1_0.height,p1_0.length,p1_0.material,p1_0.meta_description,p1_0.meta_title,p1_0.model,p1_0.name,p1_0.roof_overstep,p1_0.slug,p1_0.tax_rate_id,p1_0.width from product p1_0 where upper(p1_0.slug)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:28.990+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating Product: Dřevník na míru
2025-04-15T01:33:28.992+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating new configurator for product ID: 3
2025-04-15T01:33:28.992+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Updating existing configurator for product ID: 3
2025-04-15T01:33:29.004+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select c1_0.id,c1_0.created_at,c1_0.delivery_city,c1_0.delivery_company_name,c1_0.delivery_country,c1_0.delivery_first_name,c1_0.delivery_last_name,c1_0.delivery_phone,c1_0.delivery_street,c1_0.delivery_zip_code,c1_0.email,c1_0.enabled,c1_0.first_name,c1_0.invoice_city,c1_0.invoice_company_name,c1_0.invoice_country,c1_0.invoice_first_name,c1_0.invoice_last_name,c1_0.invoice_street,c1_0.invoice_tax_id,c1_0.invoice_vat_id,c1_0.invoice_zip_code,c1_0.is_guest,c1_0.last_name,c1_0.password,c1_0.phone,c1_0.updated_at,c1_0.use_invoice_address_as_delivery from customer c1_0 where upper(c1_0.email)=upper(?), time: 1ms, rows: 0
2025-04-15T01:33:29.148+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select c1_0.id,c1_0.created_at,c1_0.delivery_city,c1_0.delivery_company_name,c1_0.delivery_country,c1_0.delivery_first_name,c1_0.delivery_last_name,c1_0.delivery_phone,c1_0.delivery_street,c1_0.delivery_zip_code,c1_0.email,c1_0.enabled,c1_0.first_name,c1_0.invoice_city,c1_0.invoice_company_name,c1_0.invoice_country,c1_0.invoice_first_name,c1_0.invoice_last_name,c1_0.invoice_street,c1_0.invoice_tax_id,c1_0.invoice_vat_id,c1_0.invoice_zip_code,c1_0.is_guest,c1_0.last_name,c1_0.password,c1_0.phone,c1_0.updated_at,c1_0.use_invoice_address_as_delivery from customer c1_0 where upper(c1_0.email)=upper(?), time: 0ms, rows: 0
2025-04-15T01:33:29.279+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating admin user: admin@example.com
2025-04-15T01:33:29.285+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: select count(*) from Order x, time: 0ms, rows: 1
2025-04-15T01:33:29.286+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Creating test orders...
2025-04-15T01:33:29.286+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T01:33:29.286+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T01:33:29.286+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:33:29.297+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:29.298+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:33:29.298+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:33:29.298+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:33:29.299+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:33:29.299+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:33:29.299+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:33:29.299+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 1
2025-04-15T01:33:29.299+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 1
2025-04-15T01:33:29.303+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:33:29.303+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 1)
2025-04-15T01:33:29.303+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Klasik | Lazura: Ořech | Střecha: Antracit
2025-04-15T01:33:29.304+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 5990.00
2025-04-15T01:33:29.304+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:33:29.304453900
2025-04-15T01:33:29.326+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 2ms, rows: 0
2025-04-15T01:33:29.327+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:33:29.327+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 5990.00
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 5990.00
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1257.90
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 7247.90
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=5990.00, TotalTaxAmount=1257.90, TotalPriceWithTax=7247.90
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=5990.00, TaxAmount=1257.90
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 5990.00, Running Item Tax: 1257.90
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 5990.00, Final Item Tax: 1257.90
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:33:29.328+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:33:29.329+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:33:29.329+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T01:33:29.329+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=6490.00, TotalTax=1362.90, OriginalTotalWithTax=7852.90, RoundedTotalToSave=7852
2025-04-15T01:33:29.329+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:33:29.329+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T01:33:29.330+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T01:33:29.330+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T01:33:29.330+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T01:33:29.330+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 206
2025-04-15T01:33:29.330+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 206
2025-04-15T01:33:29.330+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:33:29.340+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 206 created successfully. Total: 7852 CZK
2025-04-15T01:33:29.341+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 206...
2025-04-15T01:33:29.343+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 206 (Total: 7852 CZK)
2025-04-15T01:33:29.343+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in EUR
2025-04-15T01:33:29.343+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: EUR
2025-04-15T01:33:29.343+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: EUR
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: EUR
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: EUR
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T01:33:29.347+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T01:33:29.348+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:33:29.348+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T01:33:29.348+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 350x120x210 cm|Příčka: Ano
2025-04-15T01:33:29.352+02:00  INFO 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: EUR
2025-04-15T01:33:29.352+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (EUR): 1623.60
2025-04-15T01:33:29.352+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (EUR): 0.00
2025-04-15T01:33:29.352+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (EUR): 62.40
2025-04-15T01:33:29.352+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (EUR, fixed): 0.00
2025-04-15T01:33:29.352+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (EUR, fixed): 0.00
2025-04-15T01:33:29.352+02:00  INFO 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: EUR. Vypočtená cena: 1686.00
2025-04-15T01:33:29.353+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 1686.00
2025-04-15T01:33:29.353+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 3 at time: 2025-04-15T01:33:29.353176800
2025-04-15T01:33:29.359+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:33:29.359+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:33:29.359+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 3
2025-04-15T01:33:29.359+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 1686.00
2025-04-15T01:33:29.359+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: EUR
2025-04-15T01:33:29.360+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1, 2]
2025-04-15T01:33:29.370+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select a1_0.id,a1_0.active,a1_0.description,a1_0.name,a1_0.priceczk,a1_0.priceeur,a1_0.sku from addon a1_0 where a1_0.id in (?,?), time: 0ms, rows: 2
2025-04-15T01:33:29.371+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1, 2]
2025-04-15T01:33:29.371+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T01:33:29.371+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 15.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 30.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=2, Name=Držák na nářadí
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (EUR): 20.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (EUR): 20.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (EUR): 50.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 50.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 1736.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 364.56
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 2100.56
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=1736.00, TotalTaxAmount=364.56, TotalPriceWithTax=2100.56
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=1736.00, TaxAmount=364.56
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 1736.00, Running Item Tax: 364.56
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 1736.00, Final Item Tax: 364.56
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: EUR
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 25.00, Tax: 5.25, Estimated Rate: 0.2100
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: EUR
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=1761.00, TotalTax=369.81, OriginalTotalWithTax=2130.81, RoundedTotalToSave=2130
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: EUR
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T01:33:29.372+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T01:33:29.372+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 2130 is 1065.00
2025-04-15T01:33:29.372+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 1000
2025-04-15T01:33:29.373+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 1000.00
2025-04-15T01:33:29.373+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 1000.00 EUR calculated for custom order (new).
2025-04-15T01:33:29.373+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 1000.00
2025-04-15T01:33:29.373+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 207
2025-04-15T01:33:29.373+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 207
2025-04-15T01:33:29.373+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:33:29.383+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 207 created successfully. Total: 2130 EUR
2025-04-15T01:33:29.384+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 207...
2025-04-15T01:33:29.384+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 207. Currency: EUR
2025-04-15T01:33:29.386+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 207 (Total: 2130 EUR)
2025-04-15T01:33:29.386+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer admin@example.com with 1 items in CZK
2025-04-15T01:33:29.386+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 2 with explicit currency: CZK
2025-04-15T01:33:29.386+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:33:29.389+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 2 to order.
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Admin Eshopu
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 2
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 2
2025-04-15T01:33:29.390+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 500.00
2025-04-15T01:33:29.391+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 2)
2025-04-15T01:33:29.391+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Design: Modern Simple | Lazura: Teak Premium | Střecha: Stříbrná metalická
2025-04-15T01:33:29.391+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 7490.00
2025-04-15T01:33:29.391+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:33:29.391420900
2025-04-15T01:33:29.395+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 7490.00
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 0
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 7990.00
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 1677.90
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 9667.90
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=15980.00, TotalTaxAmount=3355.80, TotalPriceWithTax=19335.80
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=15980.00, TaxAmount=3355.80
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 15980.00, Running Item Tax: 3355.80
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 15980.00, Final Item Tax: 3355.80
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:33:29.396+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=16480.00, TotalTax=3460.80, OriginalTotalWithTax=19940.80, RoundedTotalToSave=19940
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null does not contain custom product. Proceeding based on payment method.
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Determining status for payment method: BANK_TRANSFER
2025-04-15T01:33:29.397+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Status for BANK_TRANSFER set to PENDING_PAYMENT for order null.
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: PENDING_PAYMENT, Deposit Amount: null
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 208
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 208
2025-04-15T01:33:29.397+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:33:29.400+02:00  INFO 23524 --- [Eshop] [task-3] i.StatisticalLoggingSessionEventListener : Session Metrics {
    589000 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    40300 nanoseconds spent preparing 1 JDBC statements;
    695400 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:29.401+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 208 created successfully. Total: 19940 CZK
2025-04-15T01:33:29.401+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 208...
2025-04-15T01:33:29.401+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 208 (Total: 19940 CZK)
2025-04-15T01:33:29.402+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 208 to PAID and state PROCESSING (SF API calls might be triggered if active)
2025-04-15T01:33:29.405+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 208 to PAID and state PROCESSING (bypassed SF calls)
2025-04-15T01:33:29.405+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Attempting to create test order via OrderService for customer test@example.com with 1 items in CZK
2025-04-15T01:33:29.405+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Attempting to create order for customer ID: 1 with explicit currency: CZK
2025-04-15T01:33:29.405+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 1] Validating request and loading entities for currency: CZK
2025-04-15T01:33:29.401+02:00 ERROR 23524 --- [Eshop] [task-3] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(org.example.eshop.model.Order)

jakarta.persistence.EntityNotFoundException: Order not found: 2
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:79) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select os1_0.id,os1_0.code,os1_0.description,os1_0.display_order,os1_0.is_final_state,os1_0.name from order_state os1_0 where upper(os1_0.code)=upper(?), time: 0ms, rows: 1
2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 2] Initializing Order object for currency: CZK
2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Copying addresses for customer ID: 1 to order.
2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Invoice recipient is person: Test Uživatel
2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Delivery address is same as invoice. Copying invoice address details AND customer contact name/phone.
2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Address copy for order (new) completed successfully.
2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 3] Processing order items for currency: CZK
2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing item with Product ID: 3
2025-04-15T01:33:29.412+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Starting processCartItem for Product ID: 3
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Surcharge calculated: 0
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Saving historical data for OrderItem (Product ID: 3)
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished saving historical data for OrderItem. VariantInfo: Na míru|Rozměry (DxHxV): 280x90x195 cm|Okap: Ano
2025-04-15T01:33:29.413+02:00  INFO 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do calculateDynamicProductPrice. Product ID: 3, Currency: CZK
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price from dimensions (CZK): 32700.00
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for design 'null' (CZK): 0.00
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for divider (CZK): 0.00
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for gutter (CZK, fixed): 1000.00
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : [ProductService] Price for garden shed (CZK, fixed): 0.00
2025-04-15T01:33:29.413+02:00  INFO 23524 --- [Eshop] [restartedMain] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím calculateDynamicProductPrice. Product ID: 3, Currency: CZK. Vypočtená cena: 33700.00
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Base Unit Price (No Tax, Raw): 33700.00
2025-04-15T01:33:29.413+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 3 at time: 2025-04-15T01:33:29.413544300
2025-04-15T01:33:29.417+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:33:29.418+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:33:29.418+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 3
2025-04-15T01:33:29.418+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price After Discount: 33700.00
2025-04-15T01:33:29.418+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing addons for OrderItem (Product ID: 3), Currency: CZK
2025-04-15T01:33:29.418+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Requested addon IDs: [1]
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select a1_0.id,a1_0.active,a1_0.description,a1_0.name,a1_0.priceczk,a1_0.priceeur,a1_0.sku from addon a1_0 where a1_0.id in (?), time: 0ms, rows: 1
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Found addons from DB: [1]
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Allowed addon IDs for this product: [1, 2]
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processing valid addon: ID=1, Name=Polička navíc
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon unit price (CZK): 350.00
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Addon line total price (CZK): 350.00
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished processing addons. Total addon price (CZK): 350.00
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Total Fixed Addons Price: 350.00
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Unit Price (No Tax): 34050.00
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Tax Amount: 7150.50
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Unit Price With Tax: 41200.50
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Calculated Totals: TotalPriceWithoutTax=34050.00, TotalTaxAmount=7150.50, TotalPriceWithTax=41200.50
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final OrderItem state before return: PriceNoTax=34050.00, TaxAmount=7150.50
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Processed item successfully. Running Subtotal: 34050.00, Running Item Tax: 7150.50
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Finished items processing. Final Subtotal: 34050.00, Final Item Tax: 7150.50
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 5] Calculating shipping cost (no free shipping coupon). Currency: CZK
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Using shipping costs from request. CostNoTax: 500.00, Tax: 105.00, Estimated Rate: 0.2100
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 6] Calculating final totals for currency: CZK
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final totals calculated: TotalNoTax=34550.00, TotalTax=7255.50, OriginalTotalWithTax=41805.50, RoundedTotalToSave=41805
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 7] Determining payment status/deposit for currency: CZK
2025-04-15T01:33:29.421+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Order null contains custom product. Calculating potential deposit.
2025-04-15T01:33:29.422+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T01:33:29.422+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T01:33:29.422+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T01:33:29.422+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : DetermineInitialPaymentStatus: Deposit required for order null. Status set to AWAITING_DEPOSIT.
2025-04-15T01:33:29.422+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: 50% of 41805 is 20902.50
2025-04-15T01:33:29.422+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Rounded down to nearest thousand: 20000
2025-04-15T01:33:29.422+02:00  INFO 23524 --- [Eshop] [restartedMain] o.e.eshop.service.DummyPaymentService    : CalculateDeposit: Final deposit amount calculated: 20000.00
2025-04-15T01:33:29.422+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Deposit amount 20000.00 CZK calculated for custom order (new).
2025-04-15T01:33:29.422+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Final Payment status: AWAITING_DEPOSIT, Deposit Amount: 20000.00
2025-04-15T01:33:29.422+02:00 DEBUG 23524 --- [Eshop] [restartedMain] o.e.e.service.OrderCodeGeneratorService  : Generated next order code: 209
2025-04-15T01:33:29.422+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Generated Order Code: 209
2025-04-15T01:33:29.422+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 8] Saving order...
2025-04-15T01:33:29.427+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : Order 209 created successfully. Total: 41805 CZK
2025-04-15T01:33:29.427+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 10] Sending confirmation email for order 209...
2025-04-15T01:33:29.427+02:00 DEBUG 23524 --- [Eshop] [restartedMain] org.example.eshop.service.OrderService   : [Order Creation - Step 11] Triggering proforma invoice generation for order 209. Currency: CZK
2025-04-15T01:33:29.427+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Successfully initiated test order creation via OrderService: 209 (Total: 41805 CZK)
2025-04-15T01:33:29.428+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updating order 209 to DEPOSIT_PAID and state IN_PRODUCTION (SF API calls might be triggered if active)
2025-04-15T01:33:29.428+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Manually updated order 209 to DEPOSIT_PAID and state IN_PRODUCTION (bypassed SF calls)
2025-04-15T01:33:29.428+02:00  INFO 23524 --- [Eshop] [restartedMain] org.example.eshop.init.DataInitializer   : Test data initialization finished successfully.
2025-04-15T01:33:29.431+02:00  INFO 23524 --- [Eshop] [task-6] i.StatisticalLoggingSessionEventListener : Session Metrics {
    38400 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    38400 nanoseconds spent preparing 1 JDBC statements;
    596700 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:33:29.431+02:00 ERROR 23524 --- [Eshop] [task-6] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public void org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(org.example.eshop.model.Order)

jakarta.persistence.EntityNotFoundException: Order not found: 4
	at org.example.eshop.service.SuperFakturaInvoiceService.lambda$reloadOrder$2(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.reloadOrder(SuperFakturaInvoiceService.java:326) ~[classes/:na]
	at org.example.eshop.service.SuperFakturaInvoiceService.generateProformaInvoice(SuperFakturaInvoiceService.java:79) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.498+02:00  INFO 23524 --- [Eshop] [restartedMain] i.StatisticalLoggingSessionEventListener : Session Metrics {
    575800 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    4843400 nanoseconds spent preparing 151 JDBC statements;
    359459200 nanoseconds spent executing 151 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    19532700 nanoseconds spent performing 2 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    46153500 nanoseconds spent executing 1 flushes (flushing a total of 65 entities and 20 collections);
    22548400 nanoseconds spent executing 54 pre-partial-flushes;
    32560800 nanoseconds spent executing 54 partial-flushes (flushing a total of 1890 entities and 1890 collections)
}
2025-04-15T01:33:29.599+02:00 ERROR 23524 --- [Eshop] [task-2] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-2] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.599+02:00 ERROR 23524 --- [Eshop] [task-5] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-5] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.601+02:00 ERROR 23524 --- [Eshop] [task-2] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 207: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.602+02:00 ERROR 23524 --- [Eshop] [task-5] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 209: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.599+02:00 ERROR 23524 --- [Eshop] [task-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-1] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.604+02:00 ERROR 23524 --- [Eshop] [task-1] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 206: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.599+02:00 ERROR 23524 --- [Eshop] [task-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][task-4] Exception processing template "order-confirmation": Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.606+02:00 ERROR 23524 --- [Eshop] [task-4] org.example.eshop.service.EmailService   : Failed to process Thymeleaf template 'order-confirmation' for order confirmation 208: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [order-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]
	at org.example.eshop.service.EmailService.sendOrderConfirmationEmail(EmailService.java:72) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114) ~[spring-aop-6.2.5.jar:6.2.5]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-15T01:33:29.957+02:00  INFO 23524 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-15T01:33:29.958+02:00  INFO 23524 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-15T01:33:29.962+02:00  INFO 23524 --- [Eshop] [RMI TCP Connection(2)-192.168.1.157] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-04-15T01:34:44.860+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /prihlaseni
2025-04-15T01:34:44.865+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:34:44.865+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:34:44.867+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-7] o.e.eshop.controller.AuthController      : Displaying login page
2025-04-15T01:34:48.344+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:48.452+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-2] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:48.451+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-9] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:50.112+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.CustomUserDetailsService   : Attempting to load user by email: admin@example.com
2025-04-15T01:34:50.134+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-8] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select c1_0.id,c1_0.created_at,c1_0.delivery_city,c1_0.delivery_company_name,c1_0.delivery_country,c1_0.delivery_first_name,c1_0.delivery_last_name,c1_0.delivery_phone,c1_0.delivery_street,c1_0.delivery_zip_code,c1_0.email,c1_0.enabled,c1_0.first_name,c1_0.invoice_city,c1_0.invoice_company_name,c1_0.invoice_country,c1_0.invoice_first_name,c1_0.invoice_last_name,c1_0.invoice_street,c1_0.invoice_tax_id,c1_0.invoice_vat_id,c1_0.invoice_zip_code,c1_0.is_guest,c1_0.last_name,c1_0.password,c1_0.phone,c1_0.updated_at,c1_0.use_invoice_address_as_delivery from customer c1_0 where upper(c1_0.email)=upper(?), time: 16ms, rows: 1
2025-04-15T01:34:50.136+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-8] o.e.e.service.CustomUserDetailsService   : User found: admin@example.com, Enabled: true, Roles: [ROLE_USER, ROLE_ADMIN]
2025-04-15T01:34:50.147+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-8] i.StatisticalLoggingSessionEventListener : Session Metrics {
    745500 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    141500 nanoseconds spent preparing 2 JDBC statements;
    1873600 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    12200 nanoseconds spent executing 1 pre-partial-flushes;
    8900 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:50.402+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T01:34:50.402+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:34:50.402+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:34:50.403+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T01:34:50.407+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-15T01:34:50.481+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select p1_0.id,p1_0.active,p1_0.base_priceczk,p1_0.base_priceeur,p1_0.customisable,p1_0.description,d1_0.product_id,d1_1.id,d1_1.active,d1_1.description,d1_1.is_percentage,d1_1.name,d1_1.valid_from,d1_1.valid_to,d1_1.value,d1_1.valueczk,d1_1.valueeur,p1_0.height,i1_0.product_id,i1_0.id,i1_0.alt_text,i1_0.display_order,i1_0.title_text,i1_0.url,p1_0.length,p1_0.material,p1_0.meta_description,p1_0.meta_title,p1_0.model,p1_0.name,p1_0.roof_overstep,p1_0.slug,p1_0.tax_rate_id,tr1_0.id,tr1_0.name,tr1_0.rate,tr1_0.reverse_charge,p1_0.width from product p1_0 left join discount_products d1_0 on p1_0.id=d1_0.product_id left join discount d1_1 on d1_1.id=d1_0.discount_id left join image i1_0 on p1_0.id=i1_0.product_id join tax_rate tr1_0 on tr1_0.id=p1_0.tax_rate_id where p1_0.active order by i1_0.display_order,i1_0.id, time: 35ms, rows: 3
2025-04-15T01:34:50.482+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů (with details).
2025-04-15T01:34:50.483+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T01:34:50.492+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:34:50.492593600
2025-04-15T01:34:50.500+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:50.500+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:50.501+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:34:50.501+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:34:50.501414200
2025-04-15T01:34:50.509+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:50.509+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:50.510+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:34:50.512+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T01:34:50.515+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:34:50.515131600
2025-04-15T01:34:50.527+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 1ms, rows: 0
2025-04-15T01:34:50.528+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:50.528+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:34:50.529+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:34:50.529689600
2025-04-15T01:34:50.539+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:50.540+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:50.540+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:34:50.540+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T01:34:50.541+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-10] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T01:34:50.874+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] i.StatisticalLoggingSessionEventListener : Session Metrics {
    116100 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    541200 nanoseconds spent preparing 7 JDBC statements;
    18777200 nanoseconds spent executing 7 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    3875100 nanoseconds spent performing 4 L2C puts;
    5445800 nanoseconds spent performing 1 L2C hits;
    296000 nanoseconds spent performing 2 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    68100 nanoseconds spent executing 5 pre-partial-flushes;
    56400 nanoseconds spent executing 5 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:50.913+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:50.933+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:50.960+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-3] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.012+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T01:34:51.012+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.226+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T01:34:51.229+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-1] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.235+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T01:34:51.236+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.239+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T01:34:51.242+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-2] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.252+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T01:34:51.252+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.252+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T01:34:51.252+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T01:34:51.252+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-9] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.252+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-8] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.264+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T01:34:51.264+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.270+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T01:34:51.270+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.304+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T01:34:51.304+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:34:51.304+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-3] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:51.304+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:55.919+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T01:34:55.919+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:34:55.920+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:34:55.920+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T01:34:55.921+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-15T01:34:55.950+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select p1_0.id,p1_0.active,p1_0.base_priceczk,p1_0.base_priceeur,p1_0.customisable,p1_0.description,d1_0.product_id,d1_1.id,d1_1.active,d1_1.description,d1_1.is_percentage,d1_1.name,d1_1.valid_from,d1_1.valid_to,d1_1.value,d1_1.valueczk,d1_1.valueeur,p1_0.height,i1_0.product_id,i1_0.id,i1_0.alt_text,i1_0.display_order,i1_0.title_text,i1_0.url,p1_0.length,p1_0.material,p1_0.meta_description,p1_0.meta_title,p1_0.model,p1_0.name,p1_0.roof_overstep,p1_0.slug,p1_0.tax_rate_id,tr1_0.id,tr1_0.name,tr1_0.rate,tr1_0.reverse_charge,p1_0.width from product p1_0 left join discount_products d1_0 on p1_0.id=d1_0.product_id left join discount d1_1 on d1_1.id=d1_0.discount_id left join image i1_0 on p1_0.id=i1_0.product_id join tax_rate tr1_0 on tr1_0.id=p1_0.tax_rate_id where p1_0.active order by i1_0.display_order,i1_0.id, time: 14ms, rows: 3
2025-04-15T01:34:55.951+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů (with details).
2025-04-15T01:34:55.951+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T01:34:55.954+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:34:55.954052200
2025-04-15T01:34:55.960+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:55.960+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:55.960+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:34:55.961+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:34:55.961585800
2025-04-15T01:34:55.968+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 1ms, rows: 0
2025-04-15T01:34:55.969+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:55.969+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:34:55.969+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T01:34:55.972+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:34:55.971967
2025-04-15T01:34:55.981+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 1ms, rows: 0
2025-04-15T01:34:55.981+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:55.981+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:34:55.982+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:34:55.982426400
2025-04-15T01:34:55.989+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:55.989+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:55.989+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:34:55.990+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T01:34:55.991+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-6] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T01:34:56.249+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] i.StatisticalLoggingSessionEventListener : Session Metrics {
    601200 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    500200 nanoseconds spent preparing 7 JDBC statements;
    17305500 nanoseconds spent executing 7 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    2509600 nanoseconds spent performing 4 L2C puts;
    776800 nanoseconds spent performing 1 L2C hits;
    220300 nanoseconds spent performing 2 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    278200 nanoseconds spent executing 5 pre-partial-flushes;
    91400 nanoseconds spent executing 5 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.365+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-1] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.381+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-2] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.384+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T01:34:56.386+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.419+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-8] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.513+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T01:34:56.514+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.517+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T01:34:56.519+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T01:34:56.522+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.522+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-9] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.524+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T01:34:56.534+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.535+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T01:34:56.536+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-3] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.540+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T01:34:56.541+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.558+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T01:34:56.559+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-1] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.560+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T01:34:56.561+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T01:34:56.561+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-8] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.562+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:56.566+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:34:56.566+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-2] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.075+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /
2025-04-15T01:34:59.076+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:34:59.076+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:34:59.076+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.HomeController      : Accessing home page
2025-04-15T01:34:59.077+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getAllActiveProducts (List) using standard repo method <<<
2025-04-15T01:34:59.093+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select p1_0.id,p1_0.active,p1_0.base_priceczk,p1_0.base_priceeur,p1_0.customisable,p1_0.description,d1_0.product_id,d1_1.id,d1_1.active,d1_1.description,d1_1.is_percentage,d1_1.name,d1_1.valid_from,d1_1.valid_to,d1_1.value,d1_1.valueczk,d1_1.valueeur,p1_0.height,i1_0.product_id,i1_0.id,i1_0.alt_text,i1_0.display_order,i1_0.title_text,i1_0.url,p1_0.length,p1_0.material,p1_0.meta_description,p1_0.meta_title,p1_0.model,p1_0.name,p1_0.roof_overstep,p1_0.slug,p1_0.tax_rate_id,tr1_0.id,tr1_0.name,tr1_0.rate,tr1_0.reverse_charge,p1_0.width from product p1_0 left join discount_products d1_0 on p1_0.id=d1_0.product_id left join discount d1_1 on d1_1.id=d1_0.discount_id left join image i1_0 on p1_0.id=i1_0.product_id join tax_rate tr1_0 on tr1_0.id=p1_0.tax_rate_id where p1_0.active order by i1_0.display_order,i1_0.id, time: 8ms, rows: 3
2025-04-15T01:34:59.093+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : [ProductService] getAllActiveProducts (List): Načteno 3 aktivních produktů (with details).
2025-04-15T01:34:59.093+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getAllActiveProducts (List) <<<
2025-04-15T01:34:59.095+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:34:59.095230100
2025-04-15T01:34:59.101+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:59.102+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:59.102+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:34:59.103+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:34:59.103235500
2025-04-15T01:34:59.109+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:59.109+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:59.109+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:34:59.110+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T01:34:59.112+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:34:59.112232500
2025-04-15T01:34:59.117+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:59.118+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:59.118+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:34:59.118+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:34:59.118585800
2025-04-15T01:34:59.124+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:34:59.124+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:34:59.125+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:34:59.125+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T01:34:59.126+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-4] o.e.eshop.controller.HomeController      : Featured products and prices added to model for currency: CZK
2025-04-15T01:34:59.243+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] i.StatisticalLoggingSessionEventListener : Session Metrics {
    574700 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    499500 nanoseconds spent preparing 7 JDBC statements;
    9424200 nanoseconds spent executing 7 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    1633600 nanoseconds spent performing 4 L2C puts;
    878500 nanoseconds spent performing 1 L2C hits;
    113900 nanoseconds spent performing 2 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    38200 nanoseconds spent executing 5 pre-partial-flushes;
    35400 nanoseconds spent executing 5 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.277+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-9] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.281+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.282+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/konfigurator-preview.jpg.]
2025-04-15T01:34:59.282+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.299+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-3] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.354+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_4_thumb.jpg.]
2025-04-15T01:34:59.355+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-8] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.355+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_3_thumb.jpg.]
2025-04-15T01:34:59.356+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_1_thumb.jpg.]
2025-04-15T01:34:59.356+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.356+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_5_thumb.jpg.]
2025-04-15T01:34:59.356+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_6_thumb.jpg.]
2025-04-15T01:34:59.357+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.356+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.358+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-2] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.359+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_2_thumb.jpg.]
2025-04-15T01:34:59.360+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-1] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.371+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_7_thumb.jpg.]
2025-04-15T01:34:59.371+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/realizace/realizace_8_thumb.jpg.]
2025-04-15T01:34:59.371+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-6] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.371+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-9] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.390+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:34:59.390+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T01:34:59.390+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-7] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:34:59.390+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-3] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:35:22.179+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Vstupuji do addGlobalCurrencyToModel pro request: /produkty
2025-04-15T01:35:22.179+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : [GlobalModelAttributeAdvice] Získána měna ze CurrencyService: CZK
2025-04-15T01:35:22.179+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.e.e.advice.GlobalModelAttributeAdvice  : >>> [GlobalModelAttributeAdvice] Opouštím addGlobalCurrencyToModel. Vracím měnu: CZK
2025-04-15T01:35:22.189+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : >>> [ProductController] Vstupuji do listProducts. Pageable: Page request [number: 0, size 9, sort: slug: ASC]
2025-04-15T01:35:22.190+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Vstupuji do getActiveProducts(Pageable: Page request [number: 0, size 9, sort: slug: ASC]) using standard repo method <<<
2025-04-15T01:35:22.199+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-5] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-04-15T01:35:22.220+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: [CRITERIA] select p1_0.id,p1_0.active,p1_0.base_priceczk,p1_0.base_priceeur,p1_0.customisable,p1_0.description,d1_0.product_id,d1_1.id,d1_1.active,d1_1.description,d1_1.is_percentage,d1_1.name,d1_1.valid_from,d1_1.valid_to,d1_1.value,d1_1.valueczk,d1_1.valueeur,p1_0.height,i1_0.product_id,i1_0.id,i1_0.alt_text,i1_0.display_order,i1_0.title_text,i1_0.url,p1_0.length,p1_0.material,p1_0.meta_description,p1_0.meta_title,p1_0.model,p1_0.name,p1_0.roof_overstep,p1_0.slug,p1_0.tax_rate_id,tr1_0.id,tr1_0.name,tr1_0.rate,tr1_0.reverse_charge,p1_0.width from product p1_0 left join discount_products d1_0 on p1_0.id=d1_0.product_id left join discount d1_1 on d1_1.id=d1_0.discount_id left join image i1_0 on p1_0.id=i1_0.product_id join tax_rate tr1_0 on tr1_0.id=p1_0.tax_rate_id where p1_0.active order by p1_0.slug,i1_0.display_order,i1_0.id, time: 10ms, rows: 3
2025-04-15T01:35:22.223+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : [ProductService] getActiveProducts(Pageable): Načtena stránka s 3 aktivními produkty (with details).
2025-04-15T01:35:22.223+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.ProductService   : >>> [ProductService] Opouštím getActiveProducts(Pageable) <<<
2025-04-15T01:35:22.223+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : [ProductController] ProductService.getActiveProducts vrátil stránku: TotalElements=3, TotalPages=1, Number=0, Size=9
2025-04-15T01:35:22.224+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:35:22.224298200
2025-04-15T01:35:22.230+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:35:22.230+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:35:22.231+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:35:22.231+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 1 at time: 2025-04-15T01:35:22.231337600
2025-04-15T01:35:22.235+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:35:22.236+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:35:22.236+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 1
2025-04-15T01:35:22.236+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.CustomerService  : Calculated final price for product ID 1 in CZK: Original=5990.00, Discounted=null, Discount=None
2025-04-15T01:35:22.237+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:35:22.236694400
2025-04-15T01:35:22.241+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:35:22.242+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:35:22.242+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:35:22.242+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Finding active discounts for product ID: 2 at time: 2025-04-15T01:35:22.242718100
2025-04-15T01:35:22.247+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.h.stat.internal.StatisticsImpl         : HHH000117: HQL: SELECT d FROM Discount d WHERE d.active = true AND (d.validFrom IS NULL OR d.validFrom <= :now) AND (d.validTo IS NULL OR d.validTo >= :now), time: 0ms, rows: 0
2025-04-15T01:35:22.248+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 potentially applicable active discounts.
2025-04-15T01:35:22.248+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.DiscountService  : Found 0 discounts applicable to product ID 2
2025-04-15T01:35:22.248+02:00 DEBUG 23524 --- [Eshop] [http-nio-8080-exec-5] o.example.eshop.service.CustomerService  : Calculated final price for product ID 2 in CZK: Original=7490.00, Discounted=null, Discount=None
2025-04-15T01:35:22.248+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] o.e.eshop.controller.ProductController   : >>> [ProductController] Opouštím listProducts. Obsah modelu před vrácením 'produkty': {currentGlobalCurrency=CZK, currentCurrency=CZK, productPage=Page 1 of 1 containing org.example.eshop.model.Product instances, productPrices={1={originalPrice=5990.00, discountedPrice=null, discountApplied=null}, 2={originalPrice=7490.00, discountedPrice=null, discountApplied=null}}}
2025-04-15T01:35:22.330+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-5] i.StatisticalLoggingSessionEventListener : Session Metrics {
    710700 nanoseconds spent acquiring 1 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    474700 nanoseconds spent preparing 7 JDBC statements;
    14798700 nanoseconds spent executing 7 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    1701100 nanoseconds spent performing 4 L2C puts;
    529900 nanoseconds spent performing 1 L2C hits;
    150200 nanoseconds spent performing 2 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    41600 nanoseconds spent executing 5 pre-partial-flushes;
    39400 nanoseconds spent executing 5 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:35:22.422+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-8] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:35:22.432+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-klasik-1.jpg.]
2025-04-15T01:35:22.433+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-10] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:35:22.433+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-4] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:35:22.434+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/placeholder-custom.png.]
2025-04-15T01:35:22.434+02:00  WARN 23524 --- [Eshop] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource images/drevnik-modern-1.jpg.]
2025-04-15T01:35:22.434+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-2] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2025-04-15T01:35:22.434+02:00  INFO 23524 --- [Eshop] [http-nio-8080-exec-1] i.StatisticalLoggingSessionEventListener : Session Metrics {
    0 nanoseconds spent acquiring 0 JDBC connections;
    0 nanoseconds spent releasing 0 JDBC connections;
    0 nanoseconds spent preparing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 pre-partial-flushes;
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
